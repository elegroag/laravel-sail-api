{"version":3,"file":"Certificados.js","sources":["../../src/Mercurio/Certificados/main.js"],"sourcesContent":["const _handleFiles = function (_file) {\n\tlet fileInput = document.getElementById(_file);\n\tif (fileInput.files.length == 0) {\n\t\tfileInput.value = '';\n\t\t$('.custom-file-label').text('Selecionar documento aquí...');\n\t\tSwal.fire({\n\t\t\thtml: \"<p syle='font-size:1rem'>¡Alerta! cargue un archivo por favor.</p>\",\n\t\t\tbutton: 'Cerrar',\n\t\t});\n\t\treturn false;\n\t}\n\n\tlet filePath = fileInput.files[0]['name'];\n\tlet _num = 0;\n\tif (/(\\.pdf)$/i.exec(filePath)) _num++;\n\tif (/(\\.jpg)$/i.exec(filePath)) _num++;\n\tif (/(\\.jpeg)$/i.exec(filePath)) _num++;\n\tif (/(\\.png)$/i.exec(filePath)) _num++;\n\tif (/(\\.gif)$/i.exec(filePath)) _num++;\n\tif (/(\\.docx)$/i.exec(filePath)) _num++;\n\tif (_num == 0) {\n\t\tSwal.fire({\n\t\t\thtml: \"<p syle='font-size:1rem'>¡Alerta! cargue un archivo que tenga extensiones (.pdf) o (.png) o (.jpg) o (.jpeg) o (.docx de Word Office) únicamente.</p>\",\n\t\t\tbutton: 'Cerrar',\n\t\t});\n\t\tfileInput.value = '';\n\t\t$('.custom-file-label').text('Selecionar documento aquí...');\n\t\treturn false;\n\t}\n\t$('.custom-file-label').text(filePath);\n\treturn true;\n};\n\nfunction guardar(codben, nombre) {\n\tif (_handleFiles('archivo_' + codben) === false) return false;\n\n\tvar archivo = $('#archivo_' + codben).val();\n\tvar codcer = $('#codcer_' + codben).val();\n\tif (archivo == '') {\n\t\tSwal.fire({\n\t\t\ticon: 'error',\n\t\t\ttext: 'Adjunte el archivo',\n\t\t\tbutton: 'Salir',\n\t\t});\n\t\treturn;\n\t}\n\tif (codcer == '') {\n\t\tSwal.fire({\n\t\t\ticon: 'error',\n\t\t\ttext: 'Seleccionar el certificado',\n\t\t\tbutton: 'Salir',\n\t\t});\n\t\treturn;\n\t}\n\t$('#archivo_' + codben).upload(\n\t\t$App.url('guardar'),\n\t\t{\n\t\t\tcodben: codben,\n\t\t\tnombre: nombre,\n\t\t\tcodcer: codcer,\n\t\t\tnomcer: $('#codcer_' + codben + \" option[value='\" + codcer + \"']\").text(),\n\t\t},\n\t\tfunction (response) {\n\t\t\tif (response['flag'] == true) {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\ttext: response['msg'],\n\t\t\t\t\tbutton: 'OK',\n\t\t\t\t});\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}, 500);\n\t\t\t} else {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ticon: 'error',\n\t\t\t\t\ttext: response['msg'],\n\t\t\t\t\tbutton: 'Salir',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t);\n}\n\n$(function () {\n\t$(document).on('change', '.custom-file-input', function (e) {\n\t\tlet id = $(e.currentTarget).attr('id');\n\t\t_handleFiles(id);\n\t});\n});\n"],"names":["_handleFiles","_file","fileInput","filePath","_num","e","id"],"mappings":"AAAA,MAAMA,EAAe,SAAUC,EAAO,CACrC,IAAIC,EAAY,SAAS,eAAeD,CAAK,EAC7C,GAAIC,EAAU,MAAM,QAAU,EAC7B,OAAAA,EAAU,MAAQ,GAClB,EAAE,oBAAoB,EAAE,KAAK,8BAA8B,EAC3D,KAAK,KAAK,CACT,KAAM,qEACN,OAAQ,QACX,CAAG,EACM,GAGR,IAAIC,EAAWD,EAAU,MAAM,CAAC,EAAE,KAC9BE,EAAO,EAOX,MANI,YAAY,KAAKD,CAAQ,GAAGC,IAC5B,YAAY,KAAKD,CAAQ,GAAGC,IAC5B,aAAa,KAAKD,CAAQ,GAAGC,IAC7B,YAAY,KAAKD,CAAQ,GAAGC,IAC5B,YAAY,KAAKD,CAAQ,GAAGC,IAC5B,aAAa,KAAKD,CAAQ,GAAGC,IAC7BA,GAAQ,GACX,KAAK,KAAK,CACT,KAAM,wJACN,OAAQ,QACX,CAAG,EACDF,EAAU,MAAQ,GAClB,EAAE,oBAAoB,EAAE,KAAK,8BAA8B,EACpD,KAER,EAAE,oBAAoB,EAAE,KAAKC,CAAQ,EAC9B,GACR,EAoDA,EAAE,UAAY,CACb,EAAE,QAAQ,EAAE,GAAG,SAAU,qBAAsB,SAAUE,EAAG,CAC3D,IAAIC,EAAK,EAAED,EAAE,aAAa,EAAE,KAAK,IAAI,EACrCL,EAAaM,CAAE,CAChB,CAAC,CACF,CAAC"}