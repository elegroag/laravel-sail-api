{"version":3,"file":"Trabajadores.js","sources":["../../src/Common/Region.js","../../src/Componentes/Views/Loading.js","../../src/Utils.js","../../src/App.js","../../src/Componentes/Routers/AfiliationRouter.js","../../src/Common/ModelView.js","../../src/Componentes/Views/HeaderView.js","../../src/Componentes/Services/AfiliationService.js","../../src/Common/Layout.js","../../src/Componentes/Views/LayoutView.js","../../src/Mercurio/ControllerRequest.js","../../node_modules/.pnpm/choices.js@11.1.0/node_modules/choices.js/public/assets/scripts/choices.mjs","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/types/options.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/l10n/default.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/index.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/dom.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/formatting.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/dates.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/utils/polyfills.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/esm/index.js","../../node_modules/.pnpm/flatpickr@4.6.13/node_modules/flatpickr/dist/l10n/es.js","../../src/Componentes/Models/ComponentModel.js","../../src/Componentes/Services/GestionAdjuntoService.js","../../src/Componentes/Views/ComponentsView.js","../../src/Componentes/Models/DocumentoModel.js","../../src/Componentes/Collections/CollectionView.js","../../src/Componentes/Views/DocumentsCollectionView.js","../../src/Componentes/Views/LoadDocumentsView.js","../../src/Componentes/Views/SeguimientosView.js","../../src/Componentes/Views/SubHeaderView.js","../../src/Core.js","../../src/Mercurio/FormView.js","../../src/Componentes/Services/RulesValidator.js","../../src/Mercurio/Trabajadores/models/TrabajadorModel.js","../../src/Mercurio/Trabajadores/views/FormTrabajadorView.js","../../src/Mercurio/Trabajadores/views/TrabajadoresView.js","../../src/Mercurio/Trabajadores/ControllerTrabajadores.js","../../src/Mercurio/Trabajadores/RouterTrabajadores.js","../../src/Mercurio/Trabajadores/main.js"],"sourcesContent":["export class Region {\n\t#currentView = null;\n\t#currentViews = null;\n\t#$el = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, options);\n\t\tthis.currentViews = new Array();\n\t\tthis.el = options.el;\n\t}\n\n\t// Closes any active view and render a new one\n\tshow(view) {\n\t\tthis.closeView(this.currentView);\n\t\tthis.currentView = view;\n\t\tthis.openView(view);\n\t}\n\n\thtml(el) {\n\t\tif (this.$el) this.$el.html(el);\n\t}\n\n\tappend(view) {\n\t\tthis.currentViews.push(view);\n\t\tthis.ensureEl();\n\t\tview.render();\n\t\tthis.$el.append(view.el);\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\tcloseView(view) {\n\t\t// Only remove the view when the remove function\n\t\t// is available\n\t\tif (view && view.remove) {\n\t\t\tview.remove();\n\t\t}\n\t}\n\n\topenView(view) {\n\t\t// Be sure that this.$el exists\n\t\tthis.ensureEl();\n\n\t\t// Render the view on the this.$el element\n\t\tview.render();\n\t\tthis.$el.html(view.el);\n\n\t\t// Callback when the view is in the DOM\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\t// Create the this.$el attribute if do not exists\n\tensureEl() {\n\t\tif (this.$el) return;\n\t\tthis.$el = $(this.el);\n\t}\n\n\t// Close the Region and any view on it\n\tremove() {\n\t\tif (this.currentViews.length > 0) {\n\t\t\tthis.currentViews.forEach((view) => {\n\t\t\t\tthis.closeView(view);\n\t\t\t});\n\t\t}\n\t\tthis.closeView(this.currentView);\n\t}\n}\n","const loading = (() => {\n\tlet status,\n\t\telement,\n\t\tloader,\n\t\ttemplate = void 0;\n\n\tconst show = (out = false, options) => {\n\t\tif (out) {\n\t\t\telement = document.createElement('div');\n\t\t\telement.setAttribute('id', 'loading_msj');\n\t\t\t$(element).html(\n\t\t\t\t\"<div class='loading_msj'><p class='text-warning'>Procesando datos de busqueda...</p></div>\",\n\t\t\t);\n\t\t\tdocument.getElementById('app').appendChild(element);\n\t\t}\n\t\tif (!status) {\n\t\t\ttemplate = _.template($('#tmp_loader').html());\n\t\t\tloader = document.createElement('div');\n\t\t\tloader.setAttribute('class', 'loader');\n\t\t\tloader.setAttribute('id', 'loader');\n\t\t\t$(loader).append(template());\n\t\t\tdocument.body.appendChild(loader);\n\t\t\tloader.setAttribute('style', 'display:block');\n\t\t\tif (_.isObject(options) === true) {\n\t\t\t\tif (options.addClass) {\n\t\t\t\t\t$('.loader').addClass(options.addClass);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstatus = true;\n\t};\n\n\tconst hide = (out = false) => {\n\t\tif (out) {\n\t\t\telement.remove();\n\t\t}\n\t\tif (status) {\n\t\t\tloader.remove();\n\t\t}\n\t\tstatus = void 0;\n\t};\n\n\treturn {\n\t\thide,\n\t\tshow,\n\t};\n})();\n\nexport default loading;\n","const CSRF = $(\"[name='csrf-token']\");\nconst $Kumbia = {\n    path: CSRF.attr('path'),\n    app: CSRF.attr('app'),\n};\n\nclass Utils {\n    static getKumbiaURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getAppURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getURL(url) {\n        if (typeof url == 'undefined') {\n            return $Kumbia.path;\n        } else {\n            return $Kumbia.path + url;\n        }\n    }\n\n    static redirectParentToAction(url) {\n        new Utils.redirectToAction(url, window.parent);\n    }\n\n    static redirectOpenerToAction(url) {\n        new Utils.redirectToAction(url, window.opener);\n    }\n\n    static redirectToAction(url, win) {\n        win = win ? win : window;\n        win.location.href = Utils.getKumbiaURL() + url;\n    }\n\n    static upperCaseFirst(str) {\n        let first = str.substring(0, 1).toUpperCase();\n        return first + str.substr(1, str.length - 1);\n    }\n\n    static numberFormat(number = 0, decimals = 0, dec_point = undefined, thousands_sep = undefined) {\n        let n = !isFinite(+number) ? 0 : +number;\n        let prec = !isFinite(+decimals) ? 0 : Math.abs(decimals);\n        let sep = typeof thousands_sep === 'undefined' ? ',' : thousands_sep;\n        let dec = typeof dec_point === 'undefined' ? '.' : dec_point;\n        let s = undefined;\n\n        const toFixedFix = (n, prec) => {\n            let k = Math.pow(10, prec);\n            return '' + Math.round(n * k) / k;\n        };\n\n        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\n        if (s[0].length > 3) {\n            s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n        }\n        if ((s[1] || '').length < prec) {\n            s[1] = s[1] || '';\n            s[1] += new Array(prec - s[1].length + 1).join('0');\n        }\n        return s.join(dec);\n    }\n\n    static validOnlyLetter(evt) {\n        evt = evt ? evt : window.event ? window.event : null;\n        let kc = evt.keyCode;\n        let ev = (kc >= 65 && kc <= 90) || kc == 8 || kc == 9 || kc == 32;\n        if (ev == false) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            evt.stopped = true;\n        }\n    }\n}\n\nclass Messages {\n    static display(message, type, timeout = 8000) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    }\n}\n\nexport { $Kumbia, Messages, Utils };\n","import { Region } from '@/Common/Region';\nimport loading from '@/Componentes/Views/Loading';\nimport { $Kumbia } from '@/Utils';\n\nconst $App = {\n    Models: {},\n    Collections: {},\n    router: null,\n    currentSubapp: null,\n    Modal: null,\n    layout: null,\n    el: null,\n    mainRegion: null,\n    startApp(RouterModule, ruta = '', el = '') {\n        this.el = el;\n        if (this.el === '') {\n            this.el = '#contentView';\n        }\n        this.initialize();\n        this.router = new RouterModule();\n        if (!Backbone.history.start()) {\n            this.router.navigate(ruta, { trigger: true });\n        }\n    },\n    initialize() {\n        _.extend(this, Backbone.Events);\n\n        const alertTypes = ['error', 'warning', 'success', 'info'];\n\n        alertTypes.forEach((type) => {\n            this.listenTo(this, `noty:${type}`, (message) => this.notify(type, message));\n            this.listenTo(this, `alert:${type}`, (transfer) => this.alert(type, transfer));\n        });\n\n        this.listenTo(this, 'confirma', this.confirmaApp);\n        this.listenTo(this, 'syncro', this.syncroRequest);\n        this.listenTo(this, 'ajax', this.ajaxKumbia);\n        this.listenTo(this, 'show:modal', this.renderModal);\n        this.listenTo(this, 'hide:modal', this.closeModal);\n        this.listenTo(this, 'down', this.downLoadFile);\n        this.listenTo(this, 'upload', this.uploadFile);\n    },\n    notify(type, message) {\n        this.showNoty(type, message.toString(), type === 'error' ? 10000 : 6000);\n    },\n    alert(type, transfer) {\n        const { title = 'Notificaci√≥n', message = 'Nota no hay respuesta de la solicitud', timer = 8200 } = transfer;\n        this.showAlert(title, message, type, timer);\n    },\n    showNoty(type, message, timeout) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    },\n    showAlert(title = '', text = '', icon = '', timer) {\n        Swal.fire({\n            title,\n            html: text,\n            icon,\n            showConfirmButton: false,\n            confirmButtonText: 'Continuar',\n            timer,\n        });\n    },\n    startSubApplication(SubApplication, __services, options = {}) {\n        let services = [];\n\n        if (typeof __services != 'string') {\n            if (_.isArray(__services) === true) {\n                _.each(__services, (ser) => {\n                    services[ser.name] = new ser.inyectar();\n                });\n            } else if (_.isObject(__services) === true) {\n                services[__services.name] = new __services.inyectar();\n            } else {\n                services.push(__services);\n            }\n        }\n\n        this.mainRegion = new Region({ el: this.el, ...options });\n        this.currentSubapp = new SubApplication({\n            region: this.mainRegion,\n            services: services,\n            App: this,\n        });\n        return this.currentSubapp;\n    },\n    confirmaApp(transfer) {\n        const { message, callback, title = '¬øConfirmar?', icon = 'warning' } = transfer;\n        Swal.fire({\n            title: title,\n            text: message,\n            icon: icon,\n            showCancelButton: true,\n            confirmButtonColor: '#2dce89',\n            cancelButtonColor: '#fc8c72',\n            confirmButtonText: 'SI, Continuar!',\n        }).then((result) => {\n            callback(result.isConfirmed);\n        });\n    },\n    syncroRequest(transfer) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        Backbone.ajax({\n            type: 'POST',\n            dataType: 'json',\n            url: url,\n            data: data,\n            cache: false,\n            contentType: 'application/x-www-form-urlencoded',\n            processData: true,\n            timeout: 52400,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    console.log(err.responseText);\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    console.log(err);\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n    renderModal(transfer = {}) {\n        const { title, view, options = false } = transfer;\n        const targetModal = $('#modalComponent');\n        if (!this.Modal) {\n            this.Modal = new bootstrap.Modal(document.getElementById('modalComponent'), {\n                keyboard: true,\n                backdrop: 'static',\n            });\n        }\n        targetModal.find('#mdl_set_title').text(title);\n        targetModal.find('#mdl_set_footer').css('display', 'none');\n        if (options) {\n            targetModal.find('.modal-dialog').addClass(options.bootstrapSize);\n        }\n        targetModal.find('#mdl_set_body').html(view.render().$el);\n        this.Modal.show();\n        if (options) {\n            this.Modal.on('hidden.bs.modal', (event) => view.remove());\n            targetModal.find('.close').addClass('d-none');\n        }\n    },\n    closeModal(view) {\n        if (this.Modal) {\n            this.Modal.hide();\n            this.Modal = null;\n        }\n        if (view) {\n            view.remove();\n        }\n    },\n    url(method = '', controller = undefined) {\n        return this.kumbiaURL((controller ?? '') + '/' + method);\n    },\n    kumbiaURL: (url) => {\n        if (_.isUndefined(url) === true) url = '';\n        return $Kumbia.path + url;\n    },\n    ajaxKumbia(transfer = {}) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        $.ajax({\n            type: 'POST',\n            data: data,\n            url: this.kumbiaURL(url),\n            dataType: 'html',\n            processData: true,\n            contentType: 'application/x-www-form-urlencoded',\n            cache: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n        })\n            .done((response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            })\n            .fail((err) => {\n                if (silent == false) loading.hide();\n                this.trigger('alert:error', { message: err.responseText });\n                return callback(false);\n            })\n            .always(() => {\n                if (silent == false) loading.hide();\n            });\n    },\n    downLoadFile(transfer) {\n        const { url, filename } = transfer;\n        const link = document.createElement('a');\n        link.href = this.kumbiaURL(url + '/' + filename);\n        link.download = filename;\n        console.log(link);\n        link.click();\n    },\n    uploadFile(transfer) {\n        const { url, data, callback, silent = false } = transfer;\n        let formData;\n        if (data instanceof FormData) {\n            formData = data;\n        } else {\n            formData = new FormData();\n            formData.append(data.name, data.file);\n        }\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n        Backbone.ajax({\n            url: url,\n            type: 'POST',\n            dataType: 'json',\n            data: formData,\n            cache: false,\n            contentType: false,\n            processData: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                console.log(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n};\n\nexport { $App };\n","import { $App } from '@/App';\n\nclass AfiliationRouter extends Backbone.Router {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\troutes: {\n\t\t\t\tlist: 'listRute',\n\t\t\t\t'list/:tipo': 'listRute',\n\t\t\t\tcreate: 'createRute',\n\t\t\t\t'proceso/:id': 'procesoRute',\n\t\t\t},\n\t\t\t...options,\n\t\t});\n\n\t\tthis.currentApp = options.controller;\n\t\tthis._bindRoutes();\n\t}\n\n\tlistRute(tipo = '') {\n\t\tthis.currentApp.listRequests(tipo);\n\t}\n\n\tcreateRute() {\n\t\tthis.currentApp.createRequest();\n\t}\n\n\tprocesoRute(id) {\n\t\tif (_.isUndefined(id) == true || _.isNull(id) == true || id == '') {\n\t\t\t$App.trigger('alert:error', {\n\t\t\t\tmessage: 'No hay una solicitud en proceso para continuar.',\n\t\t\t});\n\t\t\tthis.navigate('list', { trigger: true });\n\t\t\treturn false;\n\t\t}\n\t\tthis.currentApp.procesoRute(id);\n\t}\n}\n\nexport { AfiliationRouter };\n","export class ModelView extends Backbone.View {\n\tmodelDOM = null;\n\n\tconstructor(options = { modelDOM: null, onRender: null }) {\n\t\tsuper(options);\n\t\tthis.modelDOM = options.modelDOM || Backbone.Model;\n\t\tthis.template = null;\n\t\t_.extend(this, options);\n\t\tthis.onRender = _.isFunction(this.onRender) ? this.onRender : null;\n\t}\n\n\t/**\n\t * @override\n\t */\n\trender() {\n\t\tconst data = this.serializeData();\n\t\tlet renderedHtml;\n\n\t\tif (_.isFunction(this.template)) {\n\t\t\trenderedHtml = this.template(data);\n\t\t} else if (_.isString(this.template)) {\n\t\t\tconst compiledTemplate = this.compileTemplate();\n\t\t\trenderedHtml = compiledTemplate(data);\n\t\t}\n\n\t\tthis.$el.html(renderedHtml);\n\t\tif (this.onRender) this.onRender(this.$el);\n\t\treturn this;\n\t}\n\n\tcompileTemplate() {\n\t\tif (_.isString(this.template) === true) {\n\t\t\tconst _el = document.querySelector(this.template);\n\t\t\treturn _.template(_el.innerHTML);\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Transform Model into JSON representation\n\tserializeData() {\n\t\tlet data = null;\n\n\t\t// Only when model is available\n\t\tif (this.modelDOM !== null) {\n\t\t\tif (this.model instanceof this.modelDOM) {\n\t\t\t\tdata = this.model.toJSON();\n\t\t\t} else {\n\t\t\t\tif (typeof this.model == 'object') {\n\t\t\t\t\tdata = this.model;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof this.model == 'object') {\n\t\t\t\tdata = this.model;\n\t\t\t}\n\t\t}\n\t\treturn data ? data : {};\n\t}\n\n\tgetInput(selector) {\n\t\treturn this.$el.find(`[name='${selector}']`).val();\n\t}\n\n\tgetInputById(id) {\n\t\treturn this.$el.find('#' + id).val();\n\t}\n\n\tsetInput(selector, val) {\n\t\treturn this.$el.find(`[name='${selector}']`).val(val ?? '');\n\t}\n\n\tgetInputByTag(tag, key) {\n\t\treturn this.$el.find(`[${tag}='${key}']`).val();\n\t}\n\n\tgetCheck(selector) {\n\t\treturn this.$el.find(`[name='${selector}']:checked`).length;\n\t}\n\n\tgetInputFile(id) {\n\t\treturn this.$el.find('#' + id).files[0];\n\t}\n}\n","import { ModelView } from '@/Common/ModelView';\nclass HeaderView extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(document.getElementById('tmp_card_header').innerHTML);\n\t}\n\n\tget className() {\n\t\treturn 'row justify-content-center';\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove() {\n\t\tthis.stopListening();\n\t\tBackbone.View.prototype.remove.call(this);\n\t}\n}\n\nexport { HeaderView };\n","import { $App } from '@/App';\nimport { HeaderView } from '@/Componentes/Views/HeaderView';\n\nclass AfiliationService {\n    constructor() {\n        this.headerView = null;\n    }\n\n    findDataTable(transfer = {}) {\n        const { url, callback, silent = false } = transfer;\n        $App.trigger('ajax', {\n            url: url,\n            data: {},\n            silent,\n            callback: (response) => {\n                if (response) {\n                    if (response) {\n                        return callback(response);\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    paramsServer(transfer = {}) {\n        const callback = transfer.callback || false;\n        const silent = transfer.silent || false;\n\n        $App.trigger('syncro', {\n            url: $App.url('params'),\n            data: {},\n            silent,\n            callback: (response) => {\n                if (response) {\n                    if (response.success === true) {\n                        if (_.isNull($App.Collections.formParams)) $App.Collections.formParams = [];\n                        _.extend($App.Collections.formParams, response.data);\n                        return callback !== false ? callback(response.msj) : '';\n                    }\n                }\n                return callback !== false ? callback(false) : '';\n            },\n        });\n    }\n\n    serachRequestServer(transfer = {}) {\n        const { id, callback } = transfer;\n        $App.trigger('syncro', {\n            url: $App.url('searchRequest/' + id),\n            data: {},\n            callback: (response) => {\n                if (response) {\n                    return callback(response);\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    sendRadicado(transfer = {}) {\n        const { model, callback } = transfer;\n        $App.trigger('syncro', {\n            url: $App.url('enviarCaja'),\n            data: model.toJSON(),\n            callback: (response) => {\n                if (response) {\n                    if (response.success) {\n                        $App.trigger('alert:success', { message: response.msj });\n                        return callback(response);\n                    } else {\n                        $App.trigger('alert:error', { message: response.msj });\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    initHeaderView(options = {}) {\n        let estado_detalle;\n        if (this.headerView) this.headerView.remove();\n        switch (options.estado) {\n            case 'T':\n                estado_detalle = 'Temporales';\n                break;\n            case 'P':\n                estado_detalle = 'Pendientes';\n                break;\n            case 'D':\n                estado_detalle = 'Devueltos';\n                break;\n            case 'R':\n                estado_detalle = 'Rechazados';\n                break;\n            case 'A':\n                estado_detalle = 'Aprobados';\n                break;\n            default:\n                estado_detalle = '';\n                break;\n        }\n\n        this.headerView = new HeaderView({\n            model: {\n                ...options,\n                estado_detalle,\n            },\n        });\n\n        $App.layout.getRegion('header').show(this.headerView);\n        $(\"[data-toggle='linkFilter'][data-valor='\" + options.estado + \"']\").addClass('active');\n    }\n\n    digitVer(_data = {}) {\n        const { nit, callback } = _data;\n        $App.trigger('syncro', {\n            url: 'digito_verification',\n            data: { documento: nit },\n            callback: (response) => {\n                if (response) {\n                    return callback(response);\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    validePk(transfer = {}) {\n        const { data, callback } = transfer;\n        $App.trigger('syncro', {\n            url: $App.url('valida'),\n            data: data,\n            silent: true,\n            callback: (response) => {\n                if (response) {\n                    if (response.success) {\n                        let solicitud = null;\n\n                        if (response.solicitud_previa !== false) {\n                            solicitud = response.solicitud_previa;\n                        }\n                        if (response.empresa !== false) {\n                            solicitud = response.empresa;\n                        }\n                        if (response.trabajador !== false) {\n                            solicitud = response.trabajador;\n                        }\n                        if (_.isNull(solicitud)) return false;\n\n                        return callback(solicitud);\n                    } else {\n                        $App.trigger('alert:error', { message: response.msj });\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    saveFormData(transfer = {}) {\n        const { entity, callback } = transfer;\n        const url = 'guardar';\n        $App.trigger('syncro', {\n            url,\n            data: entity.toJSON(),\n            callback: (response) => {\n                if (response) {\n                    return callback(response);\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    cancelaSolicitud(transfer = {}) {\n        const { id, callback } = transfer;\n\n        $App.trigger('confirma', {\n            message: 'Se requiere de confirmar que desear borra la solicitud de afiliaci√≥n.',\n            callback: (status) => {\n                if (status) {\n                    $App.trigger('syncro', {\n                        url: $App.url('borrar'),\n                        data: { id },\n                        callback: (response) => {\n                            if (response) {\n                                if (response.success) {\n                                    Swal.fire({\n                                        title: 'Notificaci√≥n',\n                                        text: response.msj,\n                                        icon: 'success',\n                                        showConfirmButton: false,\n                                        timer: 10000,\n                                    });\n                                    return callback(true);\n                                } else {\n                                    Swal.fire({\n                                        title: 'Notificaci√≥n Error',\n                                        text: response.msj,\n                                        icon: 'warning',\n                                        showConfirmButton: false,\n                                        timer: 10000,\n                                    });\n                                }\n                            }\n                            return callback(false);\n                        },\n                    });\n                }\n            },\n        });\n    }\n\n    validaFirmas(callback) {\n        $App.trigger('syncro', {\n            url: $App.kumbiaURL('mercurio/firmas/show'),\n            data: {},\n            callback: (response) => {\n                if (response) {\n                    if (response.success) {\n                        return callback(response);\n                    } else {\n                        $App.trigger('alert:warning', {\n                            message: 'No se puede generar el formulario',\n                        });\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n}\n\nexport { AfiliationService };\n","import { ModelView } from '@/Common/ModelView';\nimport { Region } from './Region';\n\nexport class Layout extends ModelView {\n\ttagRegions = {};\n\tregionsLayout = {};\n\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\t_.extend(this, options);\n\t}\n\n\t/**\n\t * @override\n\t */\n\trender() {\n\t\tthis.closeRegions();\n\t\tconst result = ModelView.prototype.render.call(this);\n\t\tthis.configureRegions();\n\t\treturn result;\n\t}\n\n\tconfigureRegions() {\n\t\tconst regionDefinitions = this.tagRegions || {};\n\t\tif (!this.regionsLayout) this.regionsLayout = {};\n\n\t\t_.each(regionDefinitions, (__selector, name) => {\n\t\t\tlet $el = this.$(__selector);\n\t\t\tthis.regionsLayout[name] = new Region({ el: $el });\n\t\t});\n\t}\n\n\t// Get a Region instance for a named region\n\tgetRegion(regionName) {\n\t\tif (!this.regionsLayout) return false;\n\t\treturn this.regionsLayout[regionName];\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove(options = {}) {\n\t\tthis.stopListening();\n\t\tthis.closeRegions();\n\t\tModelView.prototype.remove.call(this, options);\n\t}\n\n\tcloseRegions() {\n\t\tif (!this.regionsLayout) return false;\n\t\t_.each(this.regionsLayout, (region) => {\n\t\t\tif (region && region.remove) region.remove();\n\t\t});\n\t}\n}\n","import { $App } from '@/App';\nimport { Layout } from '@/Common/Layout';\n\nclass LayoutView extends Layout {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\ttemplate: '#tmp_layout',\n\t\t\ttagRegions: options.regions || {\n\t\t\t\theader: '#header_group_button',\n\t\t\t\tsubheader: '#render_subeader',\n\t\t\t\tbody: '#app',\n\t\t\t},\n\t\t});\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t\"click [data-toggle='linkFilter']\": 'linkFilter',\n\t\t\t\"click [data-toggle='create']\": 'linkCreate',\n\t\t\t\"click [data-toggle='masivo']\": 'linkMasivo',\n\t\t};\n\t}\n\n\tlinkFilter(event) {\n\t\tevent.preventDefault();\n\t\tconst valor = $(event.currentTarget).attr('data-valor');\n\t\tif (_.isUndefined(valor) == true || valor == '') {\n\t\t\t$App.router.navigate('list', { trigger: true });\n\t\t} else {\n\t\t\t$App.router.navigate('list/' + valor, { trigger: true });\n\t\t}\n\t}\n\n\tlinkCreate(e) {\n\t\te.preventDefault();\n\t\tconst target = $(e.currentTarget);\n\t\tif (target.hasClass('disabled') === true) return false;\n\t\ttarget.attr('disabled', 'true');\n\n\t\t$App.trigger('confirma', {\n\t\t\tmessage: 'Confirma que desea crear una nueva solicitud',\n\t\t\tcallback: (status) => {\n\t\t\t\tif (status) {\n\t\t\t\t\t$App.router.navigate('create', { trigger: true });\n\t\t\t\t} else {\n\t\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tlinkMasivo(event) {\n\t\tevent.preventDefault();\n\t\t$App.router.navigate('masivo', { trigger: true });\n\t}\n}\n\nexport { LayoutView };\n","import { LayoutView } from '@/Componentes/Views/LayoutView';\nimport { Region } from '@/Common/Region';\nimport { $App } from '@/App';\nimport loading from '@/Componentes/Views/Loading';\n\nclass ControllerRequest {\n\tconstructor(options = {}) {\n\t\tthis.region = {};\n\t\tthis.afiService = {};\n\t\tthis.TableView = undefined;\n\t\tthis.EntityModel = undefined;\n\t\tthis.headerOptions = undefined;\n\t\tthis.FormRequest = undefined;\n\t\tthis.trigger = undefined;\n\t\tthis.layout = undefined;\n\n\t\t_.extend(this, Backbone.Events);\n\t\t_.extend(this, options);\n\n\t\t$App.layout = new LayoutView();\n\t\tif (this.region instanceof Region) {\n\t\t\tthis.region.show($App.layout);\n\t\t} else {\n\t\t\tif (_.isString(this.region)) $(this.region).html($App.layout);\n\t\t}\n\t\tloading.hide();\n\t}\n\n\tserealizeParams() {\n\t\tconst resources = _.keys($App.Collections.formParams);\n\t\tconst collection = _.map(resources, (item) => {\n\t\t\treturn {\n\t\t\t\tname: item,\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: item,\n\t\t\t\tsearch: item,\n\t\t\t};\n\t\t});\n\t\treturn collection;\n\t}\n\n\tlistRequests(tipo) {\n\t\tif (_.isNull($App.Collections.formParams)) this.trigger('params');\n\n\t\tconst view = new this.TableView({ model: { tipo } });\n\n\t\tthis.listenTo(view, 'load:table', this.afiService.findDataTable);\n\t\tthis.listenTo(view, 'remove:solicitud', this.afiService.cancelaSolicitud);\n\t\tthis.listenTo(view, 'admin:cuenta', this.__adminCuenta);\n\n\t\t$App.layout.getRegion('body').show(view);\n\n\t\tthis.afiService.initHeaderView({\n\t\t\t...this.headerOptions,\n\t\t\testado: tipo,\n\t\t\tisNew: false,\n\t\t\tbreadcrumb_menu: 'Listar solicitudes',\n\t\t});\n\t}\n\n\tcreateRequest() {\n\t\tconst model = new this.EntityModel();\n\t\tif (_.isNull($App.Collections.formParams)) {\n\t\t\tthis.trigger('params', {\n\t\t\t\tcallback: (response) => {\n\t\t\t\t\tif (response) this.renderCreateRequest(model);\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tthis.renderCreateRequest(model);\n\t\t}\n\t}\n\n\trenderCreateRequest(model = {}) {\n\t\tconst view = new this.FormRequest({\n\t\t\tmodel: model,\n\t\t\tcollection: this.serealizeParams(),\n\t\t\tisNew: model.get('id') == null,\n\t\t\tregion: this.region,\n\t\t});\n\n\t\tthis.listenTo(view, 'form:save', this.afiService.saveFormData);\n\t\tthis.listenTo(view, 'form:send', this.afiService.sendRadicado);\n\t\tthis.listenTo(view, 'form:find', this.afiService.validePk);\n\t\tthis.listenTo(view, 'form:digit', this.afiService.digitVer);\n\n\t\t$App.layout.getRegion('body').show(view);\n\n\t\tthis.afiService.initHeaderView({\n\t\t\t...this.headerOptions,\n\t\t\tisNew: model.get('id') == null,\n\t\t\tbreadcrumb_menu: 'Crear solicitud',\n\t\t\tcreate: 'disabled',\n\t\t});\n\t}\n\n\tprocesoRute(id) {\n\t\tif (_.isNull($App.Collections.formParams)) {\n\t\t\tthis.trigger('params', {\n\t\t\t\tsilent: true,\n\t\t\t\tcallback: (response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tthis.afiService.serachRequestServer({\n\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\tcallback: (response) => {\n\t\t\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t\t\t\tconst model = new this.EntityModel(response.data);\n\t\t\t\t\t\t\t\t\t\tthis.renderCreateRequest(model);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tthis.afiService.serachRequestServer({\n\t\t\t\tid: id,\n\t\t\t\tcallback: (response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tconst model = new this.EntityModel(response.data);\n\t\t\t\t\t\t\tthis.renderCreateRequest(model);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\t__adminCuenta({ id }) {\n\t\twindow.location = $App.url('administrar_cuenta/' + id);\n\t}\n\n\tdestroy() {\n\t\tthis.stopListening();\n\t\tif (this.region && this.region instanceof Region) this.region.remove();\n\t}\n}\n\nexport { ControllerRequest };\n","/*! choices.js v11.1.0 | ¬© 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nvar ActionType = {\n    ADD_CHOICE: 'ADD_CHOICE',\n    REMOVE_CHOICE: 'REMOVE_CHOICE',\n    FILTER_CHOICES: 'FILTER_CHOICES',\n    ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n    CLEAR_CHOICES: 'CLEAR_CHOICES',\n    ADD_GROUP: 'ADD_GROUP',\n    ADD_ITEM: 'ADD_ITEM',\n    REMOVE_ITEM: 'REMOVE_ITEM',\n    HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n};\n\nvar EventType = {\n    showDropdown: 'showDropdown',\n    hideDropdown: 'hideDropdown',\n    change: 'change',\n    choice: 'choice',\n    search: 'search',\n    addItem: 'addItem',\n    removeItem: 'removeItem',\n    highlightItem: 'highlightItem',\n    highlightChoice: 'highlightChoice',\n    unhighlightItem: 'unhighlightItem',\n};\n\nvar KeyCodeMap = {\n    TAB_KEY: 9,\n    SHIFT_KEY: 16,\n    BACK_KEY: 46,\n    DELETE_KEY: 8,\n    ENTER_KEY: 13,\n    A_KEY: 65,\n    ESC_KEY: 27,\n    UP_KEY: 38,\n    DOWN_KEY: 40,\n    PAGE_UP_KEY: 33,\n    PAGE_DOWN_KEY: 34,\n};\n\nvar ObjectsInConfig = ['fuseOptions', 'classNames'];\n\nvar PassedElementTypes = {\n    Text: 'text',\n    SelectOne: 'select-one',\n    SelectMultiple: 'select-multiple',\n};\n\nvar addChoice = function (choice) { return ({\n    type: ActionType.ADD_CHOICE,\n    choice: choice,\n}); };\nvar removeChoice = function (choice) { return ({\n    type: ActionType.REMOVE_CHOICE,\n    choice: choice,\n}); };\nvar filterChoices = function (results) { return ({\n    type: ActionType.FILTER_CHOICES,\n    results: results,\n}); };\nvar activateChoices = function (active) {\n    return ({\n        type: ActionType.ACTIVATE_CHOICES,\n        active: active,\n    });\n};\n\nvar addGroup = function (group) { return ({\n    type: ActionType.ADD_GROUP,\n    group: group,\n}); };\n\nvar addItem = function (item) { return ({\n    type: ActionType.ADD_ITEM,\n    item: item,\n}); };\nvar removeItem$1 = function (item) { return ({\n    type: ActionType.REMOVE_ITEM,\n    item: item,\n}); };\nvar highlightItem = function (item, highlighted) { return ({\n    type: ActionType.HIGHLIGHT_ITEM,\n    item: item,\n    highlighted: highlighted,\n}); };\n\nvar getRandomNumber = function (min, max) { return Math.floor(Math.random() * (max - min) + min); };\nvar generateChars = function (length) {\n    return Array.from({ length: length }, function () { return getRandomNumber(0, 36).toString(36); }).join('');\n};\nvar generateId = function (element, prefix) {\n    var id = element.id || (element.name && \"\".concat(element.name, \"-\").concat(generateChars(2))) || generateChars(4);\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = \"\".concat(prefix, \"-\").concat(id);\n    return id;\n};\nvar getAdjacentEl = function (startEl, selector, direction) {\n    if (direction === void 0) { direction = 1; }\n    var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n    var sibling = startEl[prop];\n    while (sibling) {\n        if (sibling.matches(selector)) {\n            return sibling;\n        }\n        sibling = sibling[prop];\n    }\n    return null;\n};\nvar isScrolledIntoView = function (element, parent, direction) {\n    if (direction === void 0) { direction = 1; }\n    var isVisible;\n    if (direction > 0) {\n        // In view from bottom\n        isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n    }\n    else {\n        // In view from top\n        isVisible = element.offsetTop >= parent.scrollTop;\n    }\n    return isVisible;\n};\nvar sanitise = function (value) {\n    if (typeof value !== 'string') {\n        if (value === null || value === undefined) {\n            return '';\n        }\n        if (typeof value === 'object') {\n            if ('raw' in value) {\n                return sanitise(value.raw);\n            }\n            if ('trusted' in value) {\n                return value.trusted;\n            }\n        }\n        return value;\n    }\n    return value\n        .replace(/&/g, '&amp;')\n        .replace(/>/g, '&gt;')\n        .replace(/</g, '&lt;')\n        .replace(/'/g, '&#039;')\n        .replace(/\"/g, '&quot;');\n};\nvar strToEl = (function () {\n    var tmpEl = document.createElement('div');\n    return function (str) {\n        tmpEl.innerHTML = str.trim();\n        var firstChild = tmpEl.children[0];\n        while (tmpEl.firstChild) {\n            tmpEl.removeChild(tmpEl.firstChild);\n        }\n        return firstChild;\n    };\n})();\nvar resolveNoticeFunction = function (fn, value) {\n    return typeof fn === 'function' ? fn(sanitise(value), value) : fn;\n};\nvar resolveStringFunction = function (fn) {\n    return typeof fn === 'function' ? fn() : fn;\n};\nvar unwrapStringForRaw = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n        if ('raw' in s) {\n            return s.raw;\n        }\n    }\n    return '';\n};\nvar unwrapStringForEscaped = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('escaped' in s) {\n            return s.escaped;\n        }\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n    }\n    return '';\n};\nvar escapeForTemplate = function (allowHTML, s) {\n    return allowHTML ? unwrapStringForEscaped(s) : sanitise(s);\n};\nvar setElementHtml = function (el, allowHtml, html) {\n    el.innerHTML = escapeForTemplate(allowHtml, html);\n};\nvar sortByAlpha = function (_a, _b) {\n    var value = _a.value, _c = _a.label, label = _c === void 0 ? value : _c;\n    var value2 = _b.value, _d = _b.label, label2 = _d === void 0 ? value2 : _d;\n    return unwrapStringForRaw(label).localeCompare(unwrapStringForRaw(label2), [], {\n        sensitivity: 'base',\n        ignorePunctuation: true,\n        numeric: true,\n    });\n};\nvar sortByRank = function (a, b) {\n    return a.rank - b.rank;\n};\nvar dispatchEvent = function (element, type, customArgs) {\n    if (customArgs === void 0) { customArgs = null; }\n    var event = new CustomEvent(type, {\n        detail: customArgs,\n        bubbles: true,\n        cancelable: true,\n    });\n    return element.dispatchEvent(event);\n};\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar diff = function (a, b) {\n    var aKeys = Object.keys(a).sort();\n    var bKeys = Object.keys(b).sort();\n    return aKeys.filter(function (i) { return bKeys.indexOf(i) < 0; });\n};\nvar getClassNames = function (ClassNames) {\n    return Array.isArray(ClassNames) ? ClassNames : [ClassNames];\n};\nvar getClassNamesSelector = function (option) {\n    if (option && Array.isArray(option)) {\n        return option\n            .map(function (item) {\n            return \".\".concat(item);\n        })\n            .join('');\n    }\n    return \".\".concat(option);\n};\nvar addClassesToElement = function (element, className) {\n    var _a;\n    (_a = element.classList).add.apply(_a, getClassNames(className));\n};\nvar removeClassesFromElement = function (element, className) {\n    var _a;\n    (_a = element.classList).remove.apply(_a, getClassNames(className));\n};\nvar parseCustomProperties = function (customProperties) {\n    if (typeof customProperties !== 'undefined') {\n        try {\n            return JSON.parse(customProperties);\n        }\n        catch (e) {\n            return customProperties;\n        }\n    }\n    return {};\n};\nvar updateClassList = function (item, add, remove) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        removeClassesFromElement(itemEl, remove);\n        addClassesToElement(itemEl, add);\n    }\n};\n\nvar Dropdown = /** @class */ (function () {\n    function Dropdown(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.isActive = false;\n    }\n    /**\n     * Show dropdown to user by adding active state class\n     */\n    Dropdown.prototype.show = function () {\n        addClassesToElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isActive = true;\n        return this;\n    };\n    /**\n     * Hide dropdown from user\n     */\n    Dropdown.prototype.hide = function () {\n        removeClassesFromElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.isActive = false;\n        return this;\n    };\n    return Dropdown;\n}());\n\nvar Container = /** @class */ (function () {\n    function Container(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, position = _a.position;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.position = position;\n        this.isOpen = false;\n        this.isFlipped = false;\n        this.isDisabled = false;\n        this.isLoading = false;\n    }\n    /**\n     * Determine whether container should be flipped based on passed\n     * dropdown position\n     */\n    Container.prototype.shouldFlip = function (dropdownPos, dropdownHeight) {\n        // If flip is enabled and the dropdown bottom position is\n        // greater than the window height flip the dropdown.\n        var shouldFlip = false;\n        if (this.position === 'auto') {\n            shouldFlip =\n                this.element.getBoundingClientRect().top - dropdownHeight >= 0 &&\n                    !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n        }\n        else if (this.position === 'top') {\n            shouldFlip = true;\n        }\n        return shouldFlip;\n    };\n    Container.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Container.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Container.prototype.open = function (dropdownPos, dropdownHeight) {\n        addClassesToElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isOpen = true;\n        if (this.shouldFlip(dropdownPos, dropdownHeight)) {\n            addClassesToElement(this.element, this.classNames.flippedState);\n            this.isFlipped = true;\n        }\n    };\n    Container.prototype.close = function () {\n        removeClassesFromElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.removeActiveDescendant();\n        this.isOpen = false;\n        // A dropdown flips if it does not have space within the page\n        if (this.isFlipped) {\n            removeClassesFromElement(this.element, this.classNames.flippedState);\n            this.isFlipped = false;\n        }\n    };\n    Container.prototype.addFocusState = function () {\n        addClassesToElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.removeFocusState = function () {\n        removeClassesFromElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.enable = function () {\n        removeClassesFromElement(this.element, this.classNames.disabledState);\n        this.element.removeAttribute('aria-disabled');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '0');\n        }\n        this.isDisabled = false;\n    };\n    Container.prototype.disable = function () {\n        addClassesToElement(this.element, this.classNames.disabledState);\n        this.element.setAttribute('aria-disabled', 'true');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '-1');\n        }\n        this.isDisabled = true;\n    };\n    Container.prototype.wrap = function (element) {\n        var el = this.element;\n        var parentNode = element.parentNode;\n        if (parentNode) {\n            if (element.nextSibling) {\n                parentNode.insertBefore(el, element.nextSibling);\n            }\n            else {\n                parentNode.appendChild(el);\n            }\n        }\n        el.appendChild(element);\n    };\n    Container.prototype.unwrap = function (element) {\n        var el = this.element;\n        var parentNode = el.parentNode;\n        if (parentNode) {\n            // Move passed element outside this element\n            parentNode.insertBefore(element, el);\n            // Remove this element\n            parentNode.removeChild(el);\n        }\n    };\n    Container.prototype.addLoadingState = function () {\n        addClassesToElement(this.element, this.classNames.loadingState);\n        this.element.setAttribute('aria-busy', 'true');\n        this.isLoading = true;\n    };\n    Container.prototype.removeLoadingState = function () {\n        removeClassesFromElement(this.element, this.classNames.loadingState);\n        this.element.removeAttribute('aria-busy');\n        this.isLoading = false;\n    };\n    return Container;\n}());\n\nvar Input = /** @class */ (function () {\n    function Input(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, preventPaste = _a.preventPaste;\n        this.element = element;\n        this.type = type;\n        this.classNames = classNames;\n        this.preventPaste = preventPaste;\n        this.isFocussed = this.element.isEqualNode(document.activeElement);\n        this.isDisabled = element.disabled;\n        this._onPaste = this._onPaste.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n    }\n    Object.defineProperty(Input.prototype, \"placeholder\", {\n        set: function (placeholder) {\n            this.element.placeholder = placeholder;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Input.prototype.addEventListeners = function () {\n        var el = this.element;\n        el.addEventListener('paste', this._onPaste);\n        el.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        el.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        el.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n    };\n    Input.prototype.removeEventListeners = function () {\n        var el = this.element;\n        el.removeEventListener('input', this._onInput);\n        el.removeEventListener('paste', this._onPaste);\n        el.removeEventListener('focus', this._onFocus);\n        el.removeEventListener('blur', this._onBlur);\n    };\n    Input.prototype.enable = function () {\n        var el = this.element;\n        el.removeAttribute('disabled');\n        this.isDisabled = false;\n    };\n    Input.prototype.disable = function () {\n        var el = this.element;\n        el.setAttribute('disabled', '');\n        this.isDisabled = true;\n    };\n    Input.prototype.focus = function () {\n        if (!this.isFocussed) {\n            this.element.focus();\n        }\n    };\n    Input.prototype.blur = function () {\n        if (this.isFocussed) {\n            this.element.blur();\n        }\n    };\n    Input.prototype.clear = function (setWidth) {\n        if (setWidth === void 0) { setWidth = true; }\n        this.element.value = '';\n        if (setWidth) {\n            this.setWidth();\n        }\n        return this;\n    };\n    /**\n     * Set the correct input width based on placeholder\n     * value or input value\n     */\n    Input.prototype.setWidth = function () {\n        // Resize input to contents or placeholder\n        var element = this.element;\n        element.style.minWidth = \"\".concat(element.placeholder.length + 1, \"ch\");\n        element.style.width = \"\".concat(element.value.length + 1, \"ch\");\n    };\n    Input.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Input.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Input.prototype._onInput = function () {\n        if (this.type !== PassedElementTypes.SelectOne) {\n            this.setWidth();\n        }\n    };\n    Input.prototype._onPaste = function (event) {\n        if (this.preventPaste) {\n            event.preventDefault();\n        }\n    };\n    Input.prototype._onFocus = function () {\n        this.isFocussed = true;\n    };\n    Input.prototype._onBlur = function () {\n        this.isFocussed = false;\n    };\n    return Input;\n}());\n\nvar SCROLLING_SPEED = 4;\n\nvar List = /** @class */ (function () {\n    function List(_a) {\n        var element = _a.element;\n        this.element = element;\n        this.scrollPos = this.element.scrollTop;\n        this.height = this.element.offsetHeight;\n    }\n    List.prototype.prepend = function (node) {\n        var child = this.element.firstElementChild;\n        if (child) {\n            this.element.insertBefore(node, child);\n        }\n        else {\n            this.element.append(node);\n        }\n    };\n    List.prototype.scrollToTop = function () {\n        this.element.scrollTop = 0;\n    };\n    List.prototype.scrollToChildElement = function (element, direction) {\n        var _this = this;\n        if (!element) {\n            return;\n        }\n        var listHeight = this.element.offsetHeight;\n        // Scroll position of dropdown\n        var listScrollPosition = this.element.scrollTop + listHeight;\n        var elementHeight = element.offsetHeight;\n        // Distance from bottom of element to top of parent\n        var elementPos = element.offsetTop + elementHeight;\n        // Difference between the element and scroll position\n        var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n        requestAnimationFrame(function () {\n            _this._animateScroll(destination, direction);\n        });\n    };\n    List.prototype._scrollDown = function (scrollPos, strength, destination) {\n        var easing = (destination - scrollPos) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos + distance;\n    };\n    List.prototype._scrollUp = function (scrollPos, strength, destination) {\n        var easing = (scrollPos - destination) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos - distance;\n    };\n    List.prototype._animateScroll = function (destination, direction) {\n        var _this = this;\n        var strength = SCROLLING_SPEED;\n        var choiceListScrollTop = this.element.scrollTop;\n        var continueAnimation = false;\n        if (direction > 0) {\n            this._scrollDown(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop < destination) {\n                continueAnimation = true;\n            }\n        }\n        else {\n            this._scrollUp(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop > destination) {\n                continueAnimation = true;\n            }\n        }\n        if (continueAnimation) {\n            requestAnimationFrame(function () {\n                _this._animateScroll(destination, direction);\n            });\n        }\n    };\n    return List;\n}());\n\nvar WrappedElement = /** @class */ (function () {\n    function WrappedElement(_a) {\n        var element = _a.element, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.isDisabled = false;\n    }\n    Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n        get: function () {\n            return this.element.dataset.choice === 'active';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"dir\", {\n        get: function () {\n            return this.element.dir;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.setAttribute('value', value);\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedElement.prototype.conceal = function () {\n        var el = this.element;\n        // Hide passed input\n        addClassesToElement(el, this.classNames.input);\n        el.hidden = true;\n        // Remove element from tab index\n        el.tabIndex = -1;\n        // Backup original styles if any\n        var origStyle = el.getAttribute('style');\n        if (origStyle) {\n            el.setAttribute('data-choice-orig-style', origStyle);\n        }\n        el.setAttribute('data-choice', 'active');\n    };\n    WrappedElement.prototype.reveal = function () {\n        var el = this.element;\n        // Reinstate passed element\n        removeClassesFromElement(el, this.classNames.input);\n        el.hidden = false;\n        el.removeAttribute('tabindex');\n        // Recover original styles if any\n        var origStyle = el.getAttribute('data-choice-orig-style');\n        if (origStyle) {\n            el.removeAttribute('data-choice-orig-style');\n            el.setAttribute('style', origStyle);\n        }\n        else {\n            el.removeAttribute('style');\n        }\n        el.removeAttribute('data-choice');\n    };\n    WrappedElement.prototype.enable = function () {\n        this.element.removeAttribute('disabled');\n        this.element.disabled = false;\n        this.isDisabled = false;\n    };\n    WrappedElement.prototype.disable = function () {\n        this.element.setAttribute('disabled', '');\n        this.element.disabled = true;\n        this.isDisabled = true;\n    };\n    WrappedElement.prototype.triggerEvent = function (eventType, data) {\n        dispatchEvent(this.element, eventType, data || {});\n    };\n    return WrappedElement;\n}());\n\nvar WrappedInput = /** @class */ (function (_super) {\n    __extends(WrappedInput, _super);\n    function WrappedInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return WrappedInput;\n}(WrappedElement));\n\nvar coerceBool = function (arg, defaultValue) {\n    if (defaultValue === void 0) { defaultValue = true; }\n    return typeof arg === 'undefined' ? defaultValue : !!arg;\n};\nvar stringToHtmlClass = function (input) {\n    if (typeof input === 'string') {\n        // eslint-disable-next-line no-param-reassign\n        input = input.split(' ').filter(function (s) { return s.length; });\n    }\n    if (Array.isArray(input) && input.length) {\n        return input;\n    }\n    return undefined;\n};\nvar mapInputToChoice = function (value, allowGroup, allowRawString) {\n    if (allowRawString === void 0) { allowRawString = true; }\n    if (typeof value === 'string') {\n        var sanitisedValue = sanitise(value);\n        var userValue = allowRawString || sanitisedValue === value ? value : { escaped: sanitisedValue, raw: value };\n        var result_1 = mapInputToChoice({\n            value: value,\n            label: userValue,\n            selected: true,\n        }, false);\n        return result_1;\n    }\n    var groupOrChoice = value;\n    if ('choices' in groupOrChoice) {\n        if (!allowGroup) {\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup\n            throw new TypeError(\"optGroup is not allowed\");\n        }\n        var group = groupOrChoice;\n        var choices = group.choices.map(function (e) { return mapInputToChoice(e, false); });\n        var result_2 = {\n            id: 0, // actual ID will be assigned during _addGroup\n            label: unwrapStringForRaw(group.label) || group.value,\n            active: !!choices.length,\n            disabled: !!group.disabled,\n            choices: choices,\n        };\n        return result_2;\n    }\n    var choice = groupOrChoice;\n    var result = {\n        id: 0, // actual ID will be assigned during _addChoice\n        group: null, // actual group will be assigned during _addGroup but before _addChoice\n        score: 0, // used in search\n        rank: 0, // used in search, stable sort order\n        value: choice.value,\n        label: choice.label || choice.value,\n        active: coerceBool(choice.active),\n        selected: coerceBool(choice.selected, false),\n        disabled: coerceBool(choice.disabled, false),\n        placeholder: coerceBool(choice.placeholder, false),\n        highlighted: false,\n        labelClass: stringToHtmlClass(choice.labelClass),\n        labelDescription: choice.labelDescription,\n        customProperties: choice.customProperties,\n    };\n    return result;\n};\n\nvar isHtmlInputElement = function (e) { return e.tagName === 'INPUT'; };\nvar isHtmlSelectElement = function (e) { return e.tagName === 'SELECT'; };\nvar isHtmlOption = function (e) { return e.tagName === 'OPTION'; };\nvar isHtmlOptgroup = function (e) { return e.tagName === 'OPTGROUP'; };\n\nvar WrappedSelect = /** @class */ (function (_super) {\n    __extends(WrappedSelect, _super);\n    function WrappedSelect(_a) {\n        var element = _a.element, classNames = _a.classNames, template = _a.template, extractPlaceholder = _a.extractPlaceholder;\n        var _this = _super.call(this, { element: element, classNames: classNames }) || this;\n        _this.template = template;\n        _this.extractPlaceholder = extractPlaceholder;\n        return _this;\n    }\n    Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n        get: function () {\n            return (this.element.querySelector('option[value=\"\"]') ||\n                // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n                this.element.querySelector('option[placeholder]'));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedSelect.prototype.addOptions = function (choices) {\n        var _this = this;\n        var fragment = document.createDocumentFragment();\n        choices.forEach(function (obj) {\n            var choice = obj;\n            if (choice.element) {\n                return;\n            }\n            var option = _this.template(choice);\n            fragment.appendChild(option);\n            choice.element = option;\n        });\n        this.element.appendChild(fragment);\n    };\n    WrappedSelect.prototype.optionsAsChoices = function () {\n        var _this = this;\n        var choices = [];\n        this.element.querySelectorAll(':scope > option, :scope > optgroup').forEach(function (e) {\n            if (isHtmlOption(e)) {\n                choices.push(_this._optionToChoice(e));\n            }\n            else if (isHtmlOptgroup(e)) {\n                choices.push(_this._optgroupToChoice(e));\n            }\n            // todo: hr as empty optgroup, requires displaying empty opt-groups to be useful\n        });\n        return choices;\n    };\n    // eslint-disable-next-line class-methods-use-this\n    WrappedSelect.prototype._optionToChoice = function (option) {\n        // option.value returns the label if there is no value attribute, which can break legacy placeholder attribute support\n        if (!option.hasAttribute('value') && option.hasAttribute('placeholder')) {\n            option.setAttribute('value', '');\n            option.value = '';\n        }\n        return {\n            id: 0,\n            group: null,\n            score: 0,\n            rank: 0,\n            value: option.value,\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option\n            // This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content (ie `innerText`).\n            label: option.label,\n            element: option,\n            active: true,\n            // this returns true if nothing is selected on initial load, which will break placeholder support\n            selected: this.extractPlaceholder ? option.selected : option.hasAttribute('selected'),\n            disabled: option.disabled,\n            highlighted: false,\n            placeholder: this.extractPlaceholder && (!option.value || option.hasAttribute('placeholder')),\n            labelClass: typeof option.dataset.labelClass !== 'undefined' ? stringToHtmlClass(option.dataset.labelClass) : undefined,\n            labelDescription: typeof option.dataset.labelDescription !== 'undefined' ? option.dataset.labelDescription : undefined,\n            customProperties: parseCustomProperties(option.dataset.customProperties),\n        };\n    };\n    WrappedSelect.prototype._optgroupToChoice = function (optgroup) {\n        var _this = this;\n        var options = optgroup.querySelectorAll('option');\n        var choices = Array.from(options).map(function (option) { return _this._optionToChoice(option); });\n        return {\n            id: 0,\n            label: optgroup.label || '',\n            element: optgroup,\n            active: !!choices.length,\n            disabled: optgroup.disabled,\n            choices: choices,\n        };\n    };\n    return WrappedSelect;\n}(WrappedElement));\n\nvar DEFAULT_CLASSNAMES = {\n    containerOuter: ['choices'],\n    containerInner: ['choices__inner'],\n    input: ['choices__input'],\n    inputCloned: ['choices__input--cloned'],\n    list: ['choices__list'],\n    listItems: ['choices__list--multiple'],\n    listSingle: ['choices__list--single'],\n    listDropdown: ['choices__list--dropdown'],\n    item: ['choices__item'],\n    itemSelectable: ['choices__item--selectable'],\n    itemDisabled: ['choices__item--disabled'],\n    itemChoice: ['choices__item--choice'],\n    description: ['choices__description'],\n    placeholder: ['choices__placeholder'],\n    group: ['choices__group'],\n    groupHeading: ['choices__heading'],\n    button: ['choices__button'],\n    activeState: ['is-active'],\n    focusState: ['is-focused'],\n    openState: ['is-open'],\n    disabledState: ['is-disabled'],\n    highlightedState: ['is-highlighted'],\n    selectedState: ['is-selected'],\n    flippedState: ['is-flipped'],\n    loadingState: ['is-loading'],\n    notice: ['choices__notice'],\n    addChoice: ['choices__item--selectable', 'add-choice'],\n    noResults: ['has-no-results'],\n    noChoices: ['has-no-choices'],\n};\nvar DEFAULT_CONFIG = {\n    items: [],\n    choices: [],\n    silent: false,\n    renderChoiceLimit: -1,\n    maxItemCount: -1,\n    closeDropdownOnSelect: 'auto',\n    singleModeForMultiSelect: false,\n    addChoices: false,\n    addItems: true,\n    addItemFilter: function (value) { return !!value && value !== ''; },\n    removeItems: true,\n    removeItemButton: false,\n    removeItemButtonAlignLeft: false,\n    editItems: false,\n    allowHTML: false,\n    allowHtmlUserInput: false,\n    duplicateItemsAllowed: true,\n    delimiter: ',',\n    paste: true,\n    searchEnabled: true,\n    searchChoices: true,\n    searchFloor: 1,\n    searchResultLimit: 4,\n    searchFields: ['label', 'value'],\n    position: 'auto',\n    resetScrollPosition: true,\n    shouldSort: true,\n    shouldSortItems: false,\n    sorter: sortByAlpha,\n    shadowRoot: null,\n    placeholder: true,\n    placeholderValue: null,\n    searchPlaceholderValue: null,\n    prependValue: null,\n    appendValue: null,\n    renderSelectedChoices: 'auto',\n    loadingText: 'Loading...',\n    noResultsText: 'No results found',\n    noChoicesText: 'No choices to choose from',\n    itemSelectText: 'Press to select',\n    uniqueItemText: 'Only unique values can be added',\n    customAddItemText: 'Only values matching specific conditions can be added',\n    addItemText: function (value) { return \"Press Enter to add <b>\\\"\".concat(value, \"\\\"</b>\"); },\n    removeItemIconText: function () { return \"Remove item\"; },\n    removeItemLabelText: function (value) { return \"Remove item: \".concat(value); },\n    maxItemText: function (maxItemCount) { return \"Only \".concat(maxItemCount, \" values can be added\"); },\n    valueComparer: function (value1, value2) { return value1 === value2; },\n    fuseOptions: {\n        includeScore: true,\n    },\n    labelId: '',\n    callbackOnInit: null,\n    callbackOnCreateTemplates: null,\n    classNames: DEFAULT_CLASSNAMES,\n    appendGroupInSearch: false,\n};\n\nvar removeItem = function (item) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        itemEl.remove();\n        item.itemEl = undefined;\n    }\n};\nfunction items(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_ITEM: {\n            action.item.selected = true;\n            var el = action.item.element;\n            if (el) {\n                el.selected = true;\n                el.setAttribute('selected', '');\n            }\n            state.push(action.item);\n            break;\n        }\n        case ActionType.REMOVE_ITEM: {\n            action.item.selected = false;\n            var el = action.item.element;\n            if (el) {\n                el.selected = false;\n                el.removeAttribute('selected');\n                // For a select-one, if all options are deselected, the first item is selected. To set a black value, select.value needs to be set\n                var select = el.parentElement;\n                if (select && isHtmlSelectElement(select) && select.type === PassedElementTypes.SelectOne) {\n                    select.value = '';\n                }\n            }\n            // this is mixing concerns, but this is *so much faster*\n            removeItem(action.item);\n            state = state.filter(function (choice) { return choice.id !== action.item.id; });\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            removeItem(action.choice);\n            state = state.filter(function (item) { return item.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.HIGHLIGHT_ITEM: {\n            var highlighted = action.highlighted;\n            var item = state.find(function (obj) { return obj.id === action.item.id; });\n            if (item && item.highlighted !== highlighted) {\n                item.highlighted = highlighted;\n                if (context) {\n                    updateClassList(item, highlighted ? context.classNames.highlightedState : context.classNames.selectedState, highlighted ? context.classNames.selectedState : context.classNames.highlightedState);\n                }\n            }\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nfunction groups(s, action) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_GROUP: {\n            state.push(action.group);\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\n/* eslint-disable */\nfunction choices(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_CHOICE: {\n            state.push(action.choice);\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            action.choice.choiceEl = undefined;\n            if (action.choice.group) {\n                action.choice.group.choices = action.choice.group.choices.filter(function (obj) { return obj.id !== action.choice.id; });\n            }\n            state = state.filter(function (obj) { return obj.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.ADD_ITEM:\n        case ActionType.REMOVE_ITEM: {\n            action.item.choiceEl = undefined;\n            break;\n        }\n        case ActionType.FILTER_CHOICES: {\n            // avoid O(n^2) algorithm complexity when searching/filtering choices\n            var scoreLookup_1 = [];\n            action.results.forEach(function (result) {\n                scoreLookup_1[result.item.id] = result;\n            });\n            state.forEach(function (choice) {\n                var result = scoreLookup_1[choice.id];\n                if (result !== undefined) {\n                    choice.score = result.score;\n                    choice.rank = result.rank;\n                    choice.active = true;\n                }\n                else {\n                    choice.score = 0;\n                    choice.rank = 0;\n                    choice.active = false;\n                }\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.ACTIVATE_CHOICES: {\n            state.forEach(function (choice) {\n                choice.active = action.active;\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nvar reducers = {\n    groups: groups,\n    items: items,\n    choices: choices,\n};\nvar Store = /** @class */ (function () {\n    function Store(context) {\n        this._state = this.defaultState;\n        this._listeners = [];\n        this._txn = 0;\n        this._context = context;\n    }\n    Object.defineProperty(Store.prototype, \"defaultState\", {\n        // eslint-disable-next-line class-methods-use-this\n        get: function () {\n            return {\n                groups: [],\n                items: [],\n                choices: [],\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // eslint-disable-next-line class-methods-use-this\n    Store.prototype.changeSet = function (init) {\n        return {\n            groups: init,\n            items: init,\n            choices: init,\n        };\n    };\n    Store.prototype.reset = function () {\n        this._state = this.defaultState;\n        var changes = this.changeSet(true);\n        if (this._txn) {\n            this._changeSet = changes;\n        }\n        else {\n            this._listeners.forEach(function (l) { return l(changes); });\n        }\n    };\n    Store.prototype.subscribe = function (onChange) {\n        this._listeners.push(onChange);\n        return this;\n    };\n    Store.prototype.dispatch = function (action) {\n        var _this = this;\n        var state = this._state;\n        var hasChanges = false;\n        var changes = this._changeSet || this.changeSet(false);\n        Object.keys(reducers).forEach(function (key) {\n            var stateUpdate = reducers[key](state[key], action, _this._context);\n            if (stateUpdate.update) {\n                hasChanges = true;\n                changes[key] = true;\n                state[key] = stateUpdate.state;\n            }\n        });\n        if (hasChanges) {\n            if (this._txn) {\n                this._changeSet = changes;\n            }\n            else {\n                this._listeners.forEach(function (l) { return l(changes); });\n            }\n        }\n    };\n    Store.prototype.withTxn = function (func) {\n        this._txn++;\n        try {\n            func();\n        }\n        finally {\n            this._txn = Math.max(0, this._txn - 1);\n            if (!this._txn) {\n                var changeSet_1 = this._changeSet;\n                if (changeSet_1) {\n                    this._changeSet = undefined;\n                    this._listeners.forEach(function (l) { return l(changeSet_1); });\n                }\n            }\n        }\n    };\n    Object.defineProperty(Store.prototype, \"state\", {\n        /**\n         * Get store object\n         */\n        get: function () {\n            return this._state;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"items\", {\n        /**\n         * Get items from store\n         */\n        get: function () {\n            return this.state.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n        /**\n         * Get highlighted items from store\n         */\n        get: function () {\n            return this.items.filter(function (item) { return item.active && item.highlighted; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"choices\", {\n        /**\n         * Get choices from store\n         */\n        get: function () {\n            return this.state.choices;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeChoices\", {\n        /**\n         * Get active choices from store\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return choice.active; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"searchableChoices\", {\n        /**\n         * Get choices that can be searched (excluding placeholders or disabled choices)\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return !choice.disabled && !choice.placeholder; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"groups\", {\n        /**\n         * Get groups from store\n         */\n        get: function () {\n            return this.state.groups;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeGroups\", {\n        /**\n         * Get active groups from store\n         */\n        get: function () {\n            var _this = this;\n            return this.state.groups.filter(function (group) {\n                var isActive = group.active && !group.disabled;\n                var hasActiveOptions = _this.state.choices.some(function (choice) { return choice.active && !choice.disabled; });\n                return isActive && hasActiveOptions;\n            }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Store.prototype.inTxn = function () {\n        return this._txn > 0;\n    };\n    /**\n     * Get single choice by it's ID\n     */\n    Store.prototype.getChoiceById = function (id) {\n        return this.activeChoices.find(function (choice) { return choice.id === id; });\n    };\n    /**\n     * Get group by group id\n     */\n    Store.prototype.getGroupById = function (id) {\n        return this.groups.find(function (group) { return group.id === id; });\n    };\n    return Store;\n}());\n\nvar NoticeTypes = {\n    noChoices: 'no-choices',\n    noResults: 'no-results',\n    addChoice: 'add-choice',\n    generic: '',\n};\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\n/**\n * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2023 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n}\nfunction isObject(value) {\n  return typeof value === 'object';\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null;\n}\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\nfunction isBlank(value) {\n  return !value.trim().length;\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n}\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = key => `Invalid value for key ${key}`;\nconst PATTERN_LENGTH_TOO_LARGE = max => `Pattern length exceeds max of ${max}.`;\nconst MISSING_KEY_PROPERTY = name => `Missing ${name} property in key`;\nconst INVALID_KEY_WEIGHT_VALUE = key => `Property 'weight' in key '${key}' must be a positive integer`;\nconst hasOwn = Object.prototype.hasOwnProperty;\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n    let totalWeight = 0;\n    keys.forEach(key => {\n      let obj = createKey(key);\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach(key => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId];\n  }\n  keys() {\n    return this._keys;\n  }\n  toJSON() {\n    return JSON.stringify(this._keys);\n  }\n}\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'));\n    }\n    const name = key.name;\n    src = name;\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n      }\n    }\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n  return {\n    path,\n    id,\n    weight,\n    src,\n    getFn\n  };\n}\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.');\n}\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key;\n}\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return;\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n      const value = obj[key];\n      if (!isDefined(value)) {\n        return;\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n  return arr ? list : list[0];\n}\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1\n};\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\nvar Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens);\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n      cache.set(numTokens, n);\n      return n;\n    },\n    clear() {\n      cache.clear();\n    }\n  };\n}\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return;\n    }\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]];\n  }\n  size() {\n    return this.records.length;\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return;\n    }\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = {\n      i: docIndex,\n      $: {}\n    };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n      if (!isDefined(value)) {\n        return;\n      }\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{\n          nestedArrIndex: -1,\n          value\n        }];\n        while (stack.length) {\n          const {\n            nestedArrIndex,\n            value\n          } = stack.pop();\n          if (!isDefined(value)) {\n            continue;\n          }\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n        record.$[keyIndex] = subRecord;\n      }\n    });\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    };\n  }\n}\nfunction createIndex(keys, docs, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex;\n}\nfunction parseIndex(data, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const {\n    keys,\n    records\n  } = data;\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex;\n}\nfunction computeScore$1(pattern, {\n  errors = 0,\n  currentLocation = 0,\n  expectedLocation = 0,\n  distance = Config.distance,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  const accuracy = errors / pattern.length;\n  if (ignoreLocation) {\n    return accuracy;\n  }\n  const proximity = Math.abs(expectedLocation - currentLocation);\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n  return accuracy + proximity / distance;\n}\nfunction convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n  return indices;\n}\n\n// Machine word size\nconst MAX_BITS = 32;\nfunction search(text, pattern, patternAlphabet, {\n  location = Config.location,\n  distance = Config.distance,\n  threshold = Config.threshold,\n  findAllMatches = Config.findAllMatches,\n  minMatchCharLength = Config.minMatchCharLength,\n  includeMatches = Config.includeMatches,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n  }\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n  const mask = 1 << patternLen - 1;\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n    bitArr[finish + 1] = (1 << i) - 1;\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break;\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    if (score > currentThreshold) {\n      break;\n    }\n    lastBitArr = bitArr;\n  }\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n  return result;\n}\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n  }\n  return mask;\n}\nclass BitapSearch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.chunks = [];\n    if (!this.pattern.length) {\n      return;\n    }\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n    const len = this.pattern.length;\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n  searchIn(text) {\n    const {\n      isCaseSensitive,\n      includeMatches\n    } = this.options;\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n      return result;\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n    this.chunks.forEach(({\n      pattern,\n      alphabet,\n      startIndex\n    }) => {\n      const {\n        isMatch,\n        score,\n        indices\n      } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n      if (isMatch) {\n        hasMatches = true;\n      }\n      totalScore += score;\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n    return result;\n  }\n}\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex);\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex);\n  }\n  search( /*text*/) {}\n}\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null;\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact';\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^=(.*)$/;\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)$/;\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact';\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact';\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    };\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\nclass FuzzyMatch extends BaseMatch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^(.*)$/;\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text);\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include';\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^'(.*)$/;\n  }\n  search(text) {\n    let location = 0;\n    let index;\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n    const isMatch = !!indices.length;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    };\n  }\n}\n\n// ‚ùóOrder is important. DO NOT CHANGE.\nconst searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map(item => {\n    let query = item.trim().split(SPACE_RE).filter(item => item && !!item.trim());\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n      if (found) {\n        continue;\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break;\n        }\n      }\n    }\n    return results;\n  });\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(pattern, {\n    isCaseSensitive = Config.isCaseSensitive,\n    includeMatches = Config.includeMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    ignoreLocation = Config.ignoreLocation,\n    findAllMatches = Config.findAllMatches,\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance\n  } = {}) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n  static condition(_, options) {\n    return options.useExtendedSearch;\n  }\n  searchIn(text) {\n    const query = this.query;\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      };\n    }\n    const {\n      includeMatches,\n      isCaseSensitive\n    } = this.options;\n    text = isCaseSensitive ? text : text.toLowerCase();\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const {\n          isMatch,\n          indices,\n          score\n        } = searcher.search(text);\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break;\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n        return result;\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    };\n  }\n}\nconst registeredSearchers = [];\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options);\n    }\n  }\n  return new BitapSearch(pattern, options);\n}\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\nconst isExpression = query => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\nconst isPath = query => !!query[KeyType.PATH];\nconst isLeaf = query => !isArray(query) && isObject(query) && !isExpression(query);\nconst convertToExplicit = query => ({\n  [LogicalOperator.AND]: Object.keys(query).map(key => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, {\n  auto = true\n} = {}) {\n  const next = query => {\n    let keys = Object.keys(query);\n    const isQueryPath = isPath(query);\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query));\n    }\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n      }\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n      return obj;\n    }\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n    keys.forEach(key => {\n      const value = query[key];\n      if (isArray(value)) {\n        value.forEach(item => {\n          node.children.push(next(item));\n        });\n      }\n    });\n    return node;\n  };\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n  return next(query);\n}\n\n// Practical scoring function\nfunction computeScore(results, {\n  ignoreFieldNorm = Config.ignoreFieldNorm\n}) {\n  results.forEach(result => {\n    let totalScore = 1;\n    result.matches.forEach(({\n      key,\n      norm,\n      score\n    }) => {\n      const weight = key ? key.weight : null;\n      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n    });\n    result.score = totalScore;\n  });\n}\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n  if (!isDefined(matches)) {\n    return;\n  }\n  matches.forEach(match => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return;\n    }\n    const {\n      indices,\n      value\n    } = match;\n    let obj = {\n      indices,\n      value\n    };\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n    data.matches.push(obj);\n  });\n}\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\nfunction format(results, docs, {\n  includeMatches = Config.includeMatches,\n  includeScore = Config.includeScore\n} = {}) {\n  const transformers = [];\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n  return results.map(result => {\n    const {\n      idx\n    } = result;\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n    if (transformers.length) {\n      transformers.forEach(transformer => {\n        transformer(result, data);\n      });\n    }\n    return data;\n  });\n}\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = _objectSpread2(_objectSpread2({}, Config), options);\n    if (this.options.useExtendedSearch && !true) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);\n    }\n    this._keyStore = new KeyStore(this.options.keys);\n    this.setCollection(docs, index);\n  }\n  setCollection(docs, index) {\n    this._docs = docs;\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE);\n    }\n    this._myIndex = index || createIndex(this.options.keys, this._docs, {\n      getFn: this.options.getFn,\n      fieldNormWeight: this.options.fieldNormWeight\n    });\n  }\n  add(doc) {\n    if (!isDefined(doc)) {\n      return;\n    }\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n  remove(predicate = ( /* doc, idx */) => false) {\n    const results = [];\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n        results.push(doc);\n      }\n    }\n    return results;\n  }\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n  getIndex() {\n    return this._myIndex;\n  }\n  search(query, {\n    limit = -1\n  } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n    let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n    computeScore(results, {\n      ignoreFieldNorm\n    });\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    });\n  }\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({\n      v: text,\n      i: idx,\n      n: norm\n    }) => {\n      if (!isDefined(text)) {\n        return;\n      }\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{\n            score,\n            value: text,\n            norm,\n            indices\n          }]\n        });\n      }\n    });\n    return results;\n  }\n  _searchLogical(query) {\n    const expression = parse(query, this.options);\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const {\n          keyId,\n          searcher\n        } = node;\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n        if (matches && matches.length) {\n          return [{\n            idx,\n            item,\n            matches\n          }];\n        }\n        return [];\n      }\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return [];\n        }\n      }\n      return res;\n    };\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = {\n              idx,\n              item,\n              matches: []\n            };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({\n            matches\n          }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n    return results;\n  }\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      keys,\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (!isDefined(item)) {\n        return;\n      }\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(...this._findMatches({\n          key,\n          value: item[keyIndex],\n          searcher\n        }));\n      });\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n    return results;\n  }\n  _findMatches({\n    key,\n    value,\n    searcher\n  }) {\n    if (!isDefined(value)) {\n      return [];\n    }\n    let matches = [];\n    if (isArray(value)) {\n      value.forEach(({\n        v: text,\n        i: idx,\n        n: norm\n      }) => {\n        if (!isDefined(text)) {\n          return;\n        }\n        const {\n          isMatch,\n          score,\n          indices\n        } = searcher.searchIn(text);\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const {\n        v: text,\n        n: norm\n      } = value;\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        matches.push({\n          score,\n          key,\n          value: text,\n          norm,\n          indices\n        });\n      }\n    }\n    return matches;\n  }\n}\nFuse.version = '7.0.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n{\n  Fuse.parseQuery = parse;\n}\n{\n  register(ExtendedSearch);\n}\n\nvar SearchByFuse = /** @class */ (function () {\n    function SearchByFuse(config) {\n        this._haystack = [];\n        this._fuseOptions = __assign(__assign({}, config.fuseOptions), { keys: __spreadArray([], config.searchFields, true), includeMatches: true });\n    }\n    SearchByFuse.prototype.index = function (data) {\n        this._haystack = data;\n        if (this._fuse) {\n            this._fuse.setCollection(data);\n        }\n    };\n    SearchByFuse.prototype.reset = function () {\n        this._haystack = [];\n        this._fuse = undefined;\n    };\n    SearchByFuse.prototype.isEmptyIndex = function () {\n        return !this._haystack.length;\n    };\n    SearchByFuse.prototype.search = function (needle) {\n        if (!this._fuse) {\n            {\n                this._fuse = new Fuse(this._haystack, this._fuseOptions);\n            }\n        }\n        var results = this._fuse.search(needle);\n        return results.map(function (value, i) {\n            return {\n                item: value.item,\n                score: value.score || 0,\n                rank: i + 1, // If value.score is used for sorting, this can create non-stable sorts!\n            };\n        });\n    };\n    return SearchByFuse;\n}());\n\nfunction getSearcher(config) {\n    {\n        return new SearchByFuse(config);\n    }\n}\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option.\n * `Choices.defaults.templates` allows access to the default template methods from `callbackOnCreateTemplates`\n */\nvar isEmptyObject = function (obj) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n            return false;\n        }\n    }\n    return true;\n};\nvar assignCustomProperties = function (el, choice, withCustomProperties) {\n    var dataset = el.dataset;\n    var customProperties = choice.customProperties, labelClass = choice.labelClass, labelDescription = choice.labelDescription;\n    if (labelClass) {\n        dataset.labelClass = getClassNames(labelClass).join(' ');\n    }\n    if (labelDescription) {\n        dataset.labelDescription = labelDescription;\n    }\n    if (withCustomProperties && customProperties) {\n        if (typeof customProperties === 'string') {\n            dataset.customProperties = customProperties;\n        }\n        else if (typeof customProperties === 'object' && !isEmptyObject(customProperties)) {\n            dataset.customProperties = JSON.stringify(customProperties);\n        }\n    }\n};\nvar addAriaLabel = function (docRoot, id, element) {\n    var label = id && docRoot.querySelector(\"label[for='\".concat(id, \"']\"));\n    var text = label && label.innerText;\n    if (text) {\n        element.setAttribute('aria-label', text);\n    }\n};\nvar templates = {\n    containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n        var containerOuter = _a.classNames.containerOuter;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerOuter);\n        div.dataset.type = passedElementType;\n        if (dir) {\n            div.dir = dir;\n        }\n        if (isSelectOneElement) {\n            div.tabIndex = 0;\n        }\n        if (isSelectElement) {\n            div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n            if (searchEnabled) {\n                div.setAttribute('aria-autocomplete', 'list');\n            }\n            else if (!labelId) {\n                addAriaLabel(this._docRoot, this.passedElement.element.id, div);\n            }\n            div.setAttribute('aria-haspopup', 'true');\n            div.setAttribute('aria-expanded', 'false');\n        }\n        if (labelId) {\n            div.setAttribute('aria-labelledby', labelId);\n        }\n        return div;\n    },\n    containerInner: function (_a) {\n        var containerInner = _a.classNames.containerInner;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerInner);\n        return div;\n    },\n    itemList: function (_a, isSelectOneElement) {\n        var searchEnabled = _a.searchEnabled, _b = _a.classNames, list = _b.list, listSingle = _b.listSingle, listItems = _b.listItems;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, isSelectOneElement ? listSingle : listItems);\n        if (this._isSelectElement && searchEnabled) {\n            div.setAttribute('role', 'listbox');\n        }\n        return div;\n    },\n    placeholder: function (_a, value) {\n        var allowHTML = _a.allowHTML, placeholder = _a.classNames.placeholder;\n        var div = document.createElement('div');\n        addClassesToElement(div, placeholder);\n        setElementHtml(div, allowHTML, value);\n        return div;\n    },\n    item: function (_a, choice, removeItemButton) {\n        var allowHTML = _a.allowHTML, removeItemButtonAlignLeft = _a.removeItemButtonAlignLeft, removeItemIconText = _a.removeItemIconText, removeItemLabelText = _a.removeItemLabelText, _b = _a.classNames, item = _b.item, button = _b.button, highlightedState = _b.highlightedState, itemSelectable = _b.itemSelectable, placeholder = _b.placeholder;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        addClassesToElement(div, item);\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, choice.label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, choice.label);\n        }\n        div.dataset.item = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        assignCustomProperties(div, choice, true);\n        if (choice.disabled || this.containerOuter.isDisabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        if (this._isSelectElement) {\n            div.setAttribute('aria-selected', 'true');\n            div.setAttribute('role', 'option');\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n            div.dataset.placeholder = '';\n        }\n        addClassesToElement(div, choice.highlighted ? highlightedState : itemSelectable);\n        if (removeItemButton) {\n            if (choice.disabled) {\n                removeClassesFromElement(div, itemSelectable);\n            }\n            div.dataset.deletable = '';\n            var removeButton = document.createElement('button');\n            removeButton.type = 'button';\n            addClassesToElement(removeButton, button);\n            setElementHtml(removeButton, true, resolveNoticeFunction(removeItemIconText, choice.value));\n            var REMOVE_ITEM_LABEL = resolveNoticeFunction(removeItemLabelText, choice.value);\n            if (REMOVE_ITEM_LABEL) {\n                removeButton.setAttribute('aria-label', REMOVE_ITEM_LABEL);\n            }\n            removeButton.dataset.button = '';\n            if (removeItemButtonAlignLeft) {\n                div.insertAdjacentElement('afterbegin', removeButton);\n            }\n            else {\n                div.appendChild(removeButton);\n            }\n        }\n        return div;\n    },\n    choiceList: function (_a, isSelectOneElement) {\n        var list = _a.classNames.list;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        if (!isSelectOneElement) {\n            div.setAttribute('aria-multiselectable', 'true');\n        }\n        div.setAttribute('role', 'listbox');\n        return div;\n    },\n    choiceGroup: function (_a, _b) {\n        var allowHTML = _a.allowHTML, _c = _a.classNames, group = _c.group, groupHeading = _c.groupHeading, itemDisabled = _c.itemDisabled;\n        var id = _b.id, label = _b.label, disabled = _b.disabled;\n        var rawLabel = unwrapStringForRaw(label);\n        var div = document.createElement('div');\n        addClassesToElement(div, group);\n        if (disabled) {\n            addClassesToElement(div, itemDisabled);\n        }\n        div.setAttribute('role', 'group');\n        div.dataset.group = '';\n        div.dataset.id = id;\n        div.dataset.value = rawLabel;\n        if (disabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        var heading = document.createElement('div');\n        addClassesToElement(heading, groupHeading);\n        setElementHtml(heading, allowHTML, label || '');\n        div.appendChild(heading);\n        return div;\n    },\n    choice: function (_a, choice, selectText, groupName) {\n        var allowHTML = _a.allowHTML, _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, itemSelectable = _b.itemSelectable, selectedState = _b.selectedState, itemDisabled = _b.itemDisabled, description = _b.description, placeholder = _b.placeholder;\n        // eslint-disable-next-line prefer-destructuring\n        var label = choice.label;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        div.id = choice.elementId;\n        addClassesToElement(div, item);\n        addClassesToElement(div, itemChoice);\n        if (groupName && typeof label === 'string') {\n            label = escapeForTemplate(allowHTML, label);\n            label += \" (\".concat(groupName, \")\");\n            label = { trusted: label };\n        }\n        var describedBy = div;\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            describedBy = spanLabel;\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, label);\n        }\n        if (choice.labelDescription) {\n            var descId = \"\".concat(choice.elementId, \"-description\");\n            describedBy.setAttribute('aria-describedby', descId);\n            var spanDesc = document.createElement('span');\n            setElementHtml(spanDesc, allowHTML, choice.labelDescription);\n            spanDesc.id = descId;\n            addClassesToElement(spanDesc, description);\n            div.appendChild(spanDesc);\n        }\n        if (choice.selected) {\n            addClassesToElement(div, selectedState);\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n        }\n        div.setAttribute('role', choice.group ? 'treeitem' : 'option');\n        div.dataset.choice = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        if (selectText) {\n            div.dataset.selectText = selectText;\n        }\n        if (choice.group) {\n            div.dataset.groupId = \"\".concat(choice.group.id);\n        }\n        assignCustomProperties(div, choice, false);\n        if (choice.disabled) {\n            addClassesToElement(div, itemDisabled);\n            div.dataset.choiceDisabled = '';\n            div.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            addClassesToElement(div, itemSelectable);\n            div.dataset.choiceSelectable = '';\n        }\n        return div;\n    },\n    input: function (_a, placeholderValue) {\n        var _b = _a.classNames, input = _b.input, inputCloned = _b.inputCloned, labelId = _a.labelId;\n        var inp = document.createElement('input');\n        inp.type = 'search';\n        addClassesToElement(inp, input);\n        addClassesToElement(inp, inputCloned);\n        inp.autocomplete = 'off';\n        inp.autocapitalize = 'off';\n        inp.spellcheck = false;\n        inp.setAttribute('aria-autocomplete', 'list');\n        if (placeholderValue) {\n            inp.setAttribute('aria-label', placeholderValue);\n        }\n        else if (!labelId) {\n            addAriaLabel(this._docRoot, this.passedElement.element.id, inp);\n        }\n        return inp;\n    },\n    dropdown: function (_a) {\n        var _b = _a.classNames, list = _b.list, listDropdown = _b.listDropdown;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, listDropdown);\n        div.setAttribute('aria-expanded', 'false');\n        return div;\n    },\n    notice: function (_a, innerHTML, type) {\n        var _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, addChoice = _b.addChoice, noResults = _b.noResults, noChoices = _b.noChoices, noticeItem = _b.notice;\n        if (type === void 0) { type = NoticeTypes.generic; }\n        var notice = document.createElement('div');\n        setElementHtml(notice, true, innerHTML);\n        addClassesToElement(notice, item);\n        addClassesToElement(notice, itemChoice);\n        addClassesToElement(notice, noticeItem);\n        // eslint-disable-next-line default-case\n        switch (type) {\n            case NoticeTypes.addChoice:\n                addClassesToElement(notice, addChoice);\n                break;\n            case NoticeTypes.noResults:\n                addClassesToElement(notice, noResults);\n                break;\n            case NoticeTypes.noChoices:\n                addClassesToElement(notice, noChoices);\n                break;\n        }\n        if (type === NoticeTypes.addChoice) {\n            notice.dataset.choiceSelectable = '';\n            notice.dataset.choice = '';\n        }\n        return notice;\n    },\n    option: function (choice) {\n        // HtmlOptionElement's label value does not support HTML, so the avoid double escaping unwrap the untrusted string.\n        var labelValue = unwrapStringForRaw(choice.label);\n        var opt = new Option(labelValue, choice.value, false, choice.selected);\n        assignCustomProperties(opt, choice, true);\n        opt.disabled = choice.disabled;\n        if (choice.selected) {\n            opt.setAttribute('selected', '');\n        }\n        return opt;\n    },\n};\n\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\nvar parseDataSetId = function (element) {\n    if (!element) {\n        return undefined;\n    }\n    return element.dataset.id ? parseInt(element.dataset.id, 10) : undefined;\n};\nvar selectableChoiceIdentifier = '[data-choice-selectable]';\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\nvar Choices = /** @class */ (function () {\n    function Choices(element, userConfig) {\n        if (element === void 0) { element = '[data-choice]'; }\n        if (userConfig === void 0) { userConfig = {}; }\n        var _this = this;\n        this.initialisedOK = undefined;\n        this._hasNonChoicePlaceholder = false;\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        var defaults = Choices.defaults;\n        this.config = __assign(__assign(__assign({}, defaults.allOptions), defaults.options), userConfig);\n        ObjectsInConfig.forEach(function (key) {\n            _this.config[key] = __assign(__assign(__assign({}, defaults.allOptions[key]), defaults.options[key]), userConfig[key]);\n        });\n        var config = this.config;\n        if (!config.silent) {\n            this._validateConfig();\n        }\n        var docRoot = config.shadowRoot || document.documentElement;\n        this._docRoot = docRoot;\n        var passedElement = typeof element === 'string' ? docRoot.querySelector(element) : element;\n        if (!passedElement ||\n            typeof passedElement !== 'object' ||\n            !(isHtmlInputElement(passedElement) || isHtmlSelectElement(passedElement))) {\n            if (!passedElement && typeof element === 'string') {\n                throw TypeError(\"Selector \".concat(element, \" failed to find an element\"));\n            }\n            throw TypeError(\"Expected one of the following types text|select-one|select-multiple\");\n        }\n        var elementType = passedElement.type;\n        var isText = elementType === PassedElementTypes.Text;\n        if (isText || config.maxItemCount !== 1) {\n            config.singleModeForMultiSelect = false;\n        }\n        if (config.singleModeForMultiSelect) {\n            elementType = PassedElementTypes.SelectMultiple;\n        }\n        var isSelectOne = elementType === PassedElementTypes.SelectOne;\n        var isSelectMultiple = elementType === PassedElementTypes.SelectMultiple;\n        var isSelect = isSelectOne || isSelectMultiple;\n        this._elementType = elementType;\n        this._isTextElement = isText;\n        this._isSelectOneElement = isSelectOne;\n        this._isSelectMultipleElement = isSelectMultiple;\n        this._isSelectElement = isSelectOne || isSelectMultiple;\n        this._canAddUserChoices = (isText && config.addItems) || (isSelect && config.addChoices);\n        if (typeof config.renderSelectedChoices !== 'boolean') {\n            config.renderSelectedChoices = config.renderSelectedChoices === 'always' || isSelectOne;\n        }\n        if (config.closeDropdownOnSelect === 'auto') {\n            config.closeDropdownOnSelect = isText || isSelectOne || config.singleModeForMultiSelect;\n        }\n        else {\n            config.closeDropdownOnSelect = coerceBool(config.closeDropdownOnSelect);\n        }\n        if (config.placeholder) {\n            if (config.placeholderValue) {\n                this._hasNonChoicePlaceholder = true;\n            }\n            else if (passedElement.dataset.placeholder) {\n                this._hasNonChoicePlaceholder = true;\n                config.placeholderValue = passedElement.dataset.placeholder;\n            }\n        }\n        if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n            var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n            config.addItemFilter = re.test.bind(re);\n        }\n        if (this._isTextElement) {\n            this.passedElement = new WrappedInput({\n                element: passedElement,\n                classNames: config.classNames,\n            });\n        }\n        else {\n            var selectEl = passedElement;\n            this.passedElement = new WrappedSelect({\n                element: selectEl,\n                classNames: config.classNames,\n                template: function (data) { return _this._templates.option(data); },\n                extractPlaceholder: config.placeholder && !this._hasNonChoicePlaceholder,\n            });\n        }\n        this.initialised = false;\n        this._store = new Store(config);\n        this._currentValue = '';\n        config.searchEnabled = (!isText && config.searchEnabled) || isSelectMultiple;\n        this._canSearch = config.searchEnabled;\n        this._isScrollingOnIe = false;\n        this._highlightPosition = 0;\n        this._wasTap = true;\n        this._placeholderValue = this._generatePlaceholderValue();\n        this._baseId = generateId(passedElement, 'choices-');\n        /**\n         * setting direction in cases where it's explicitly set on passedElement\n         * or when calculated direction is different from the document\n         */\n        this._direction = passedElement.dir;\n        if (!this._direction) {\n            var elementDirection = window.getComputedStyle(passedElement).direction;\n            var documentDirection = window.getComputedStyle(document.documentElement).direction;\n            if (elementDirection !== documentDirection) {\n                this._direction = elementDirection;\n            }\n        }\n        this._idNames = {\n            itemChoice: 'item-choice',\n        };\n        this._templates = defaults.templates;\n        this._render = this._render.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n        this._onKeyUp = this._onKeyUp.bind(this);\n        this._onKeyDown = this._onKeyDown.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onClick = this._onClick.bind(this);\n        this._onTouchMove = this._onTouchMove.bind(this);\n        this._onTouchEnd = this._onTouchEnd.bind(this);\n        this._onMouseDown = this._onMouseDown.bind(this);\n        this._onMouseOver = this._onMouseOver.bind(this);\n        this._onFormReset = this._onFormReset.bind(this);\n        this._onSelectKey = this._onSelectKey.bind(this);\n        this._onEnterKey = this._onEnterKey.bind(this);\n        this._onEscapeKey = this._onEscapeKey.bind(this);\n        this._onDirectionKey = this._onDirectionKey.bind(this);\n        this._onDeleteKey = this._onDeleteKey.bind(this);\n        // If element has already been initialised with Choices, fail silently\n        if (this.passedElement.isActive) {\n            if (!config.silent) {\n                console.warn('Trying to initialise Choices on element already initialised', { element: element });\n            }\n            this.initialised = true;\n            this.initialisedOK = false;\n            return;\n        }\n        // Let's go\n        this.init();\n        // preserve the selected item list after setup for form reset\n        this._initialItems = this._store.items.map(function (choice) { return choice.value; });\n    }\n    Object.defineProperty(Choices, \"defaults\", {\n        get: function () {\n            return Object.preventExtensions({\n                get options() {\n                    return USER_DEFAULTS;\n                },\n                get allOptions() {\n                    return DEFAULT_CONFIG;\n                },\n                get templates() {\n                    return templates;\n                },\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Choices.prototype.init = function () {\n        if (this.initialised || this.initialisedOK !== undefined) {\n            return;\n        }\n        this._searcher = getSearcher(this.config);\n        this._loadChoices();\n        this._createTemplates();\n        this._createElements();\n        this._createStructure();\n        if ((this._isTextElement && !this.config.addItems) ||\n            this.passedElement.element.hasAttribute('disabled') ||\n            !!this.passedElement.element.closest('fieldset:disabled')) {\n            this.disable();\n        }\n        else {\n            this.enable();\n            this._addEventListeners();\n        }\n        // should be triggered **after** disabled state to avoid additional re-draws\n        this._initStore();\n        this.initialised = true;\n        this.initialisedOK = true;\n        var callbackOnInit = this.config.callbackOnInit;\n        // Run callback if it is a function\n        if (typeof callbackOnInit === 'function') {\n            callbackOnInit.call(this);\n        }\n    };\n    Choices.prototype.destroy = function () {\n        if (!this.initialised) {\n            return;\n        }\n        this._removeEventListeners();\n        this.passedElement.reveal();\n        this.containerOuter.unwrap(this.passedElement.element);\n        this._store._listeners = []; // prevents select/input value being wiped\n        this.clearStore(false);\n        this._stopSearch();\n        this._templates = Choices.defaults.templates;\n        this.initialised = false;\n        this.initialisedOK = undefined;\n    };\n    Choices.prototype.enable = function () {\n        if (this.passedElement.isDisabled) {\n            this.passedElement.enable();\n        }\n        if (this.containerOuter.isDisabled) {\n            this._addEventListeners();\n            this.input.enable();\n            this.containerOuter.enable();\n        }\n        return this;\n    };\n    Choices.prototype.disable = function () {\n        if (!this.passedElement.isDisabled) {\n            this.passedElement.disable();\n        }\n        if (!this.containerOuter.isDisabled) {\n            this._removeEventListeners();\n            this.input.disable();\n            this.containerOuter.disable();\n        }\n        return this;\n    };\n    Choices.prototype.highlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, true));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.highlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.unhighlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || !choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, false));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.unhighlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.highlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (!item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, true));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.unhighlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, false));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItemsByValue = function (value) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (item) { return item.value === value; }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItems = function (excludedId) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (_a) {\n                var id = _a.id;\n                return id !== excludedId;\n            }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeHighlightedItems = function (runEvent) {\n        var _this = this;\n        if (runEvent === void 0) { runEvent = false; }\n        this._store.withTxn(function () {\n            _this._store.highlightedActiveItems.forEach(function (item) {\n                _this._removeItem(item);\n                // If this action was performed by the user\n                // trigger the event\n                if (runEvent) {\n                    _this._triggerChange(item.value);\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.showDropdown = function (preventInputFocus) {\n        var _this = this;\n        if (this.dropdown.isActive) {\n            return this;\n        }\n        if (preventInputFocus === undefined) {\n            // eslint-disable-next-line no-param-reassign\n            preventInputFocus = !this._canSearch;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.show();\n            var rect = _this.dropdown.element.getBoundingClientRect();\n            _this.containerOuter.open(rect.bottom, rect.height);\n            if (!preventInputFocus) {\n                _this.input.focus();\n            }\n            _this.passedElement.triggerEvent(EventType.showDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.hideDropdown = function (preventInputBlur) {\n        var _this = this;\n        if (!this.dropdown.isActive) {\n            return this;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.hide();\n            _this.containerOuter.close();\n            if (!preventInputBlur && _this._canSearch) {\n                _this.input.removeActiveDescendant();\n                _this.input.blur();\n            }\n            _this.passedElement.triggerEvent(EventType.hideDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.getValue = function (valueOnly) {\n        var _this = this;\n        var values = this._store.items.map(function (item) {\n            return (valueOnly ? item.value : _this._getChoiceForOutput(item));\n        });\n        return this._isSelectOneElement || this.config.singleModeForMultiSelect ? values[0] : values;\n    };\n    Choices.prototype.setValue = function (items) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setValue');\n            return this;\n        }\n        this._store.withTxn(function () {\n            items.forEach(function (value) {\n                if (value) {\n                    _this._addChoice(mapInputToChoice(value, false));\n                }\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.setChoiceByValue = function (value) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoiceByValue');\n            return this;\n        }\n        if (this._isTextElement) {\n            return this;\n        }\n        this._store.withTxn(function () {\n            // If only one value has been passed, convert to array\n            var choiceValue = Array.isArray(value) ? value : [value];\n            // Loop through each value and\n            choiceValue.forEach(function (val) { return _this._findAndSelectChoiceByValue(val); });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    /**\n     * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n     * a value field name and a label field name.\n     * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n     * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n     * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n     *\n     * **Input types affected:** select-one, select-multiple\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([\n     *   {value: 'One', label: 'Label One', disabled: true},\n     *   {value: 'Two', label: 'Label Two', selected: true},\n     *   {value: 'Three', label: 'Label Three'},\n     * ], 'value', 'label', false);\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices(async () => {\n     *   try {\n     *      const items = await fetch('/items');\n     *      return items.json()\n     *   } catch(err) {\n     *      console.error(err)\n     *   }\n     * });\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([{\n     *   label: 'Group one',\n     *   id: 1,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child One', label: 'Child One', selected: true},\n     *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n     *     {value: 'Child Three', label: 'Child Three'},\n     *   ]\n     * },\n     * {\n     *   label: 'Group two',\n     *   id: 2,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child Four', label: 'Child Four', disabled: true},\n     *     {value: 'Child Five', label: 'Child Five'},\n     *     {value: 'Child Six', label: 'Child Six', customProperties: {\n     *       description: 'Custom description about child six',\n     *       random: 'Another random custom property'\n     *     }},\n     *   ]\n     * }], 'value', 'label', false);\n     * ```\n     */\n    Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices, clearSearchFlag, replaceItems) {\n        var _this = this;\n        if (choicesArrayOrFetcher === void 0) { choicesArrayOrFetcher = []; }\n        if (value === void 0) { value = 'value'; }\n        if (label === void 0) { label = 'label'; }\n        if (replaceChoices === void 0) { replaceChoices = false; }\n        if (clearSearchFlag === void 0) { clearSearchFlag = true; }\n        if (replaceItems === void 0) { replaceItems = false; }\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoices');\n            return this;\n        }\n        if (!this._isSelectElement) {\n            throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n        }\n        if (typeof value !== 'string' || !value) {\n            throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n        }\n        if (typeof choicesArrayOrFetcher === 'function') {\n            // it's a choices fetcher function\n            var fetcher_1 = choicesArrayOrFetcher(this);\n            if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n                // that's a promise\n                // eslint-disable-next-line no-promise-executor-return\n                return new Promise(function (resolve) { return requestAnimationFrame(resolve); })\n                    .then(function () { return _this._handleLoadingState(true); })\n                    .then(function () { return fetcher_1; })\n                    .then(function (data) {\n                    return _this.setChoices(data, value, label, replaceChoices, clearSearchFlag, replaceItems);\n                })\n                    .catch(function (err) {\n                    if (!_this.config.silent) {\n                        console.error(err);\n                    }\n                })\n                    .then(function () { return _this._handleLoadingState(false); })\n                    .then(function () { return _this; });\n            }\n            // function returned something else than promise, let's check if it's an array of choices\n            if (!Array.isArray(fetcher_1)) {\n                throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n            }\n            // recursion with results, it's sync and choices were cleared already\n            return this.setChoices(fetcher_1, value, label, false);\n        }\n        if (!Array.isArray(choicesArrayOrFetcher)) {\n            throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n        }\n        this.containerOuter.removeLoadingState();\n        this._store.withTxn(function () {\n            if (clearSearchFlag) {\n                _this._isSearching = false;\n            }\n            // Clear choices if needed\n            if (replaceChoices) {\n                _this.clearChoices(true, replaceItems);\n            }\n            var isDefaultValue = value === 'value';\n            var isDefaultLabel = label === 'label';\n            choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    var group = groupOrChoice;\n                    if (!isDefaultLabel) {\n                        group = __assign(__assign({}, group), { label: group[label] });\n                    }\n                    _this._addGroup(mapInputToChoice(group, true));\n                }\n                else {\n                    var choice = groupOrChoice;\n                    if (!isDefaultLabel || !isDefaultValue) {\n                        choice = __assign(__assign({}, choice), { value: choice[value], label: choice[label] });\n                    }\n                    var choiceFull = mapInputToChoice(choice, false);\n                    _this._addChoice(choiceFull);\n                    if (choiceFull.placeholder && !_this._hasNonChoicePlaceholder) {\n                        _this._placeholderValue = unwrapStringForEscaped(choiceFull.label);\n                    }\n                }\n            });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.refresh = function (withEvents, selectFirstOption, deselectAll) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = false; }\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (deselectAll === void 0) { deselectAll = false; }\n        if (!this._isSelectElement) {\n            if (!this.config.silent) {\n                console.warn('refresh method can only be used on choices backed by a <select> element');\n            }\n            return this;\n        }\n        this._store.withTxn(function () {\n            var choicesFromOptions = _this.passedElement.optionsAsChoices();\n            // Build the list of items which require preserving\n            var existingItems = {};\n            if (!deselectAll) {\n                _this._store.items.forEach(function (choice) {\n                    if (choice.id && choice.active && choice.selected) {\n                        existingItems[choice.value] = true;\n                    }\n                });\n            }\n            _this.clearStore(false);\n            var updateChoice = function (choice) {\n                if (deselectAll) {\n                    _this._store.dispatch(removeItem$1(choice));\n                }\n                else if (existingItems[choice.value]) {\n                    choice.selected = true;\n                }\n            };\n            choicesFromOptions.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    groupOrChoice.choices.forEach(updateChoice);\n                    return;\n                }\n                updateChoice(groupOrChoice);\n            });\n            /* @todo only generate add events for the added options instead of all\n            if (withEvents) {\n              items.forEach((choice) => {\n                if (existingItems[choice.value]) {\n                  this.passedElement.triggerEvent(\n                    EventType.removeItem,\n                    this._getChoiceForEvent(choice),\n                  );\n                }\n              });\n            }\n            */\n            // load new choices & items\n            _this._addPredefinedChoices(choicesFromOptions, selectFirstOption, withEvents);\n            // re-do search if required\n            if (_this._isSearching) {\n                _this._searchChoices(_this.input.value);\n            }\n        });\n        return this;\n    };\n    Choices.prototype.removeChoice = function (value) {\n        var choice = this._store.choices.find(function (c) { return c.value === value; });\n        if (!choice) {\n            return this;\n        }\n        this._clearNotice();\n        this._store.dispatch(removeChoice(choice));\n        // @todo integrate with Store\n        this._searcher.reset();\n        if (choice.selected) {\n            this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.clearChoices = function (clearOptions, clearItems) {\n        var _this = this;\n        if (clearOptions === void 0) { clearOptions = true; }\n        if (clearItems === void 0) { clearItems = false; }\n        if (clearOptions) {\n            if (clearItems) {\n                this.passedElement.element.replaceChildren('');\n            }\n            else {\n                this.passedElement.element.querySelectorAll(':not([selected])').forEach(function (el) {\n                    el.remove();\n                });\n            }\n        }\n        this.itemList.element.replaceChildren('');\n        this.choiceList.element.replaceChildren('');\n        this._clearNotice();\n        this._store.withTxn(function () {\n            var items = clearItems ? [] : _this._store.items;\n            _this._store.reset();\n            items.forEach(function (item) {\n                _this._store.dispatch(addChoice(item));\n                _this._store.dispatch(addItem(item));\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.clearStore = function (clearOptions) {\n        if (clearOptions === void 0) { clearOptions = true; }\n        this.clearChoices(clearOptions, true);\n        this._stopSearch();\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        return this;\n    };\n    Choices.prototype.clearInput = function () {\n        var shouldSetInputWidth = !this._isSelectOneElement;\n        this.input.clear(shouldSetInputWidth);\n        this._stopSearch();\n        return this;\n    };\n    Choices.prototype._validateConfig = function () {\n        var config = this.config;\n        var invalidConfigOptions = diff(config, DEFAULT_CONFIG);\n        if (invalidConfigOptions.length) {\n            console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n        }\n        if (config.allowHTML && config.allowHtmlUserInput) {\n            if (config.addItems) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks');\n            }\n            if (config.addChoices) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks');\n            }\n        }\n    };\n    Choices.prototype._render = function (changes) {\n        if (changes === void 0) { changes = { choices: true, groups: true, items: true }; }\n        if (this._store.inTxn()) {\n            return;\n        }\n        if (this._isSelectElement) {\n            if (changes.choices || changes.groups) {\n                this._renderChoices();\n            }\n        }\n        if (changes.items) {\n            this._renderItems();\n        }\n    };\n    Choices.prototype._renderChoices = function () {\n        var _this = this;\n        if (!this._canAddItems()) {\n            return; // block rendering choices if the input limit is reached.\n        }\n        var _a = this, config = _a.config, isSearching = _a._isSearching;\n        var _b = this._store, activeGroups = _b.activeGroups, activeChoices = _b.activeChoices;\n        var renderLimit = 0;\n        if (isSearching && config.searchResultLimit > 0) {\n            renderLimit = config.searchResultLimit;\n        }\n        else if (config.renderChoiceLimit > 0) {\n            renderLimit = config.renderChoiceLimit;\n        }\n        if (this._isSelectElement) {\n            var backingOptions = activeChoices.filter(function (choice) { return !choice.element; });\n            if (backingOptions.length) {\n                this.passedElement.addOptions(backingOptions);\n            }\n        }\n        var fragment = document.createDocumentFragment();\n        var renderableChoices = function (choices) {\n            return choices.filter(function (choice) {\n                return !choice.placeholder && (isSearching ? !!choice.rank : config.renderSelectedChoices || !choice.selected);\n            });\n        };\n        var selectableChoices = false;\n        var renderChoices = function (choices, withinGroup, groupLabel) {\n            if (isSearching) {\n                // sortByRank is used to ensure stable sorting, as scores are non-unique\n                // this additionally ensures fuseOptions.sortFn is not ignored\n                choices.sort(sortByRank);\n            }\n            else if (config.shouldSort) {\n                choices.sort(config.sorter);\n            }\n            var choiceLimit = choices.length;\n            choiceLimit = !withinGroup && renderLimit && choiceLimit > renderLimit ? renderLimit : choiceLimit;\n            choiceLimit--;\n            choices.every(function (choice, index) {\n                // choiceEl being empty signals the contents has probably significantly changed\n                var dropdownItem = choice.choiceEl || _this._templates.choice(config, choice, config.itemSelectText, groupLabel);\n                choice.choiceEl = dropdownItem;\n                fragment.appendChild(dropdownItem);\n                if (isSearching || !choice.selected) {\n                    selectableChoices = true;\n                }\n                return index < choiceLimit;\n            });\n        };\n        if (activeChoices.length) {\n            if (config.resetScrollPosition) {\n                requestAnimationFrame(function () { return _this.choiceList.scrollToTop(); });\n            }\n            if (!this._hasNonChoicePlaceholder && !isSearching && this._isSelectOneElement) {\n                // If we have a placeholder choice along with groups\n                renderChoices(activeChoices.filter(function (choice) { return choice.placeholder && !choice.group; }), false, undefined);\n            }\n            // If we have grouped options\n            if (activeGroups.length && !isSearching) {\n                if (config.shouldSort) {\n                    activeGroups.sort(config.sorter);\n                }\n                // render Choices without group first, regardless of sort, otherwise they won't be distinguishable\n                // from the last group\n                renderChoices(activeChoices.filter(function (choice) { return !choice.placeholder && !choice.group; }), false, undefined);\n                activeGroups.forEach(function (group) {\n                    var groupChoices = renderableChoices(group.choices);\n                    if (groupChoices.length) {\n                        if (group.label) {\n                            var dropdownGroup = group.groupEl || _this._templates.choiceGroup(_this.config, group);\n                            group.groupEl = dropdownGroup;\n                            dropdownGroup.remove();\n                            fragment.appendChild(dropdownGroup);\n                        }\n                        renderChoices(groupChoices, true, config.appendGroupInSearch && isSearching ? group.label : undefined);\n                    }\n                });\n            }\n            else {\n                renderChoices(renderableChoices(activeChoices), false, undefined);\n            }\n        }\n        if (!selectableChoices && (isSearching || !fragment.children.length || !config.renderSelectedChoices)) {\n            if (!this._notice) {\n                this._notice = {\n                    text: resolveStringFunction(isSearching ? config.noResultsText : config.noChoicesText),\n                    type: isSearching ? NoticeTypes.noResults : NoticeTypes.noChoices,\n                };\n            }\n            fragment.replaceChildren('');\n        }\n        this._renderNotice(fragment);\n        this.choiceList.element.replaceChildren(fragment);\n        if (selectableChoices) {\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._renderItems = function () {\n        var _this = this;\n        var items = this._store.items || [];\n        var itemList = this.itemList.element;\n        var config = this.config;\n        var fragment = document.createDocumentFragment();\n        var itemFromList = function (item) {\n            return itemList.querySelector(\"[data-item][data-id=\\\"\".concat(item.id, \"\\\"]\"));\n        };\n        var addItemToFragment = function (item) {\n            var el = item.itemEl;\n            if (el && el.parentElement) {\n                return;\n            }\n            el = itemFromList(item) || _this._templates.item(config, item, config.removeItemButton);\n            item.itemEl = el;\n            fragment.appendChild(el);\n        };\n        // new items\n        items.forEach(addItemToFragment);\n        var addedItems = !!fragment.childNodes.length;\n        if (this._isSelectOneElement) {\n            var existingItems = itemList.children.length;\n            if (addedItems || existingItems > 1) {\n                var placeholder = itemList.querySelector(getClassNamesSelector(config.classNames.placeholder));\n                if (placeholder) {\n                    placeholder.remove();\n                }\n            }\n            else if (!addedItems && !existingItems && this._placeholderValue) {\n                addedItems = true;\n                addItemToFragment(mapInputToChoice({\n                    selected: true,\n                    value: '',\n                    label: this._placeholderValue,\n                    placeholder: true,\n                }, false));\n            }\n        }\n        if (addedItems) {\n            itemList.append(fragment);\n            if (config.shouldSortItems && !this._isSelectOneElement) {\n                items.sort(config.sorter);\n                // push sorting into the DOM\n                items.forEach(function (item) {\n                    var el = itemFromList(item);\n                    if (el) {\n                        el.remove();\n                        fragment.append(el);\n                    }\n                });\n                itemList.append(fragment);\n            }\n        }\n        if (this._isTextElement) {\n            // Update the value of the hidden input\n            this.passedElement.value = items.map(function (_a) {\n                var value = _a.value;\n                return value;\n            }).join(config.delimiter);\n        }\n    };\n    Choices.prototype._displayNotice = function (text, type, openDropdown) {\n        if (openDropdown === void 0) { openDropdown = true; }\n        var oldNotice = this._notice;\n        if (oldNotice &&\n            ((oldNotice.type === type && oldNotice.text === text) ||\n                (oldNotice.type === NoticeTypes.addChoice &&\n                    (type === NoticeTypes.noResults || type === NoticeTypes.noChoices)))) {\n            if (openDropdown) {\n                this.showDropdown(true);\n            }\n            return;\n        }\n        this._clearNotice();\n        this._notice = text\n            ? {\n                text: text,\n                type: type,\n            }\n            : undefined;\n        this._renderNotice();\n        if (openDropdown && text) {\n            this.showDropdown(true);\n        }\n    };\n    Choices.prototype._clearNotice = function () {\n        if (!this._notice) {\n            return;\n        }\n        var noticeElement = this.choiceList.element.querySelector(getClassNamesSelector(this.config.classNames.notice));\n        if (noticeElement) {\n            noticeElement.remove();\n        }\n        this._notice = undefined;\n    };\n    Choices.prototype._renderNotice = function (fragment) {\n        var noticeConf = this._notice;\n        if (noticeConf) {\n            var notice = this._templates.notice(this.config, noticeConf.text, noticeConf.type);\n            if (fragment) {\n                fragment.append(notice);\n            }\n            else {\n                this.choiceList.prepend(notice);\n            }\n        }\n    };\n    // eslint-disable-next-line class-methods-use-this\n    Choices.prototype._getChoiceForOutput = function (choice, keyCode) {\n        return {\n            id: choice.id,\n            highlighted: choice.highlighted,\n            labelClass: choice.labelClass,\n            labelDescription: choice.labelDescription,\n            customProperties: choice.customProperties,\n            disabled: choice.disabled,\n            active: choice.active,\n            label: choice.label,\n            placeholder: choice.placeholder,\n            value: choice.value,\n            groupValue: choice.group ? choice.group.label : undefined,\n            element: choice.element,\n            keyCode: keyCode,\n        };\n    };\n    Choices.prototype._triggerChange = function (value) {\n        if (value === undefined || value === null) {\n            return;\n        }\n        this.passedElement.triggerEvent(EventType.change, {\n            value: value,\n        });\n    };\n    Choices.prototype._handleButtonAction = function (element) {\n        var _this = this;\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || !this.config.removeItemButton) {\n            return;\n        }\n        var id = element && parseDataSetId(element.parentElement);\n        var itemToRemove = id && items.find(function (item) { return item.id === id; });\n        if (!itemToRemove) {\n            return;\n        }\n        this._store.withTxn(function () {\n            // Remove item associated with button\n            _this._removeItem(itemToRemove);\n            _this._triggerChange(itemToRemove.value);\n            if (_this._isSelectOneElement && !_this._hasNonChoicePlaceholder) {\n                var placeholderChoice = (_this.config.shouldSort ? _this._store.choices.reverse() : _this._store.choices).find(function (choice) { return choice.placeholder; });\n                if (placeholderChoice) {\n                    _this._addItem(placeholderChoice);\n                    _this.unhighlightAll();\n                    if (placeholderChoice.value) {\n                        _this._triggerChange(placeholderChoice.value);\n                    }\n                }\n            }\n        });\n    };\n    Choices.prototype._handleItemAction = function (element, hasShiftKey) {\n        var _this = this;\n        if (hasShiftKey === void 0) { hasShiftKey = false; }\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || this._isSelectOneElement) {\n            return;\n        }\n        var id = parseDataSetId(element);\n        if (!id) {\n            return;\n        }\n        // We only want to select one item with a click\n        // so we deselect any items that aren't the target\n        // unless shift is being pressed\n        items.forEach(function (item) {\n            if (item.id === id && !item.highlighted) {\n                _this.highlightItem(item);\n            }\n            else if (!hasShiftKey && item.highlighted) {\n                _this.unhighlightItem(item);\n            }\n        });\n        // Focus input as without focus, a user cannot do anything with a\n        // highlighted item\n        this.input.focus();\n    };\n    Choices.prototype._handleChoiceAction = function (element) {\n        var _this = this;\n        // If we are clicking on an option\n        var id = parseDataSetId(element);\n        var choice = id && this._store.getChoiceById(id);\n        if (!choice || choice.disabled) {\n            return false;\n        }\n        var hasActiveDropdown = this.dropdown.isActive;\n        if (!choice.selected) {\n            if (!this._canAddItems()) {\n                return true; // causes _onEnterKey to early out\n            }\n            this._store.withTxn(function () {\n                _this._addItem(choice, true, true);\n                _this.clearInput();\n                _this.unhighlightAll();\n            });\n            this._triggerChange(choice.value);\n        }\n        // We want to close the dropdown if we are dealing with a single select box\n        if (hasActiveDropdown && this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n            this.containerOuter.element.focus();\n        }\n        return true;\n    };\n    Choices.prototype._handleBackspace = function (items) {\n        var config = this.config;\n        if (!config.removeItems || !items.length) {\n            return;\n        }\n        var lastItem = items[items.length - 1];\n        var hasHighlightedItems = items.some(function (item) { return item.highlighted; });\n        // If editing the last item is allowed and there are not other selected items,\n        // we can edit the item value. Otherwise if we can remove items, remove all selected items\n        if (config.editItems && !hasHighlightedItems && lastItem) {\n            this.input.value = lastItem.value;\n            this.input.setWidth();\n            this._removeItem(lastItem);\n            this._triggerChange(lastItem.value);\n        }\n        else {\n            if (!hasHighlightedItems) {\n                // Highlight last item if none already highlighted\n                this.highlightItem(lastItem, false);\n            }\n            this.removeHighlightedItems(true);\n        }\n    };\n    Choices.prototype._loadChoices = function () {\n        var _a;\n        var _this = this;\n        var config = this.config;\n        if (this._isTextElement) {\n            // Assign preset items from passed object first\n            this._presetChoices = config.items.map(function (e) { return mapInputToChoice(e, false); });\n            // Add any values passed from attribute\n            if (this.passedElement.value) {\n                var elementItems = this.passedElement.value\n                    .split(config.delimiter)\n                    .map(function (e) { return mapInputToChoice(e, false, _this.config.allowHtmlUserInput); });\n                this._presetChoices = this._presetChoices.concat(elementItems);\n            }\n            this._presetChoices.forEach(function (choice) {\n                choice.selected = true;\n            });\n        }\n        else if (this._isSelectElement) {\n            // Assign preset choices from passed object\n            this._presetChoices = config.choices.map(function (e) { return mapInputToChoice(e, true); });\n            // Create array of choices from option elements\n            var choicesFromOptions = this.passedElement.optionsAsChoices();\n            if (choicesFromOptions) {\n                (_a = this._presetChoices).push.apply(_a, choicesFromOptions);\n            }\n        }\n    };\n    Choices.prototype._handleLoadingState = function (setLoading) {\n        if (setLoading === void 0) { setLoading = true; }\n        var el = this.itemList.element;\n        if (setLoading) {\n            this.disable();\n            this.containerOuter.addLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren(this._templates.placeholder(this.config, this.config.loadingText));\n            }\n            else {\n                this.input.placeholder = this.config.loadingText;\n            }\n        }\n        else {\n            this.enable();\n            this.containerOuter.removeLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren('');\n                this._render();\n            }\n            else {\n                this.input.placeholder = this._placeholderValue || '';\n            }\n        }\n    };\n    Choices.prototype._handleSearch = function (value) {\n        if (!this.input.isFocussed) {\n            return;\n        }\n        // Check that we have a value to search and the input was an alphanumeric character\n        if (value !== null && typeof value !== 'undefined' && value.length >= this.config.searchFloor) {\n            var resultCount = this.config.searchChoices ? this._searchChoices(value) : 0;\n            if (resultCount !== null) {\n                // Trigger search event\n                this.passedElement.triggerEvent(EventType.search, {\n                    value: value,\n                    resultCount: resultCount,\n                });\n            }\n        }\n        else if (this._store.choices.some(function (option) { return !option.active; })) {\n            this._stopSearch();\n        }\n    };\n    Choices.prototype._canAddItems = function () {\n        var config = this.config;\n        var maxItemCount = config.maxItemCount, maxItemText = config.maxItemText;\n        if (!config.singleModeForMultiSelect && maxItemCount > 0 && maxItemCount <= this._store.items.length) {\n            this.choiceList.element.replaceChildren('');\n            this._notice = undefined;\n            this._displayNotice(typeof maxItemText === 'function' ? maxItemText(maxItemCount) : maxItemText, NoticeTypes.addChoice);\n            return false;\n        }\n        if (this._notice && this._notice.type === NoticeTypes.addChoice) {\n            this._clearNotice();\n        }\n        return true;\n    };\n    Choices.prototype._canCreateItem = function (value) {\n        var config = this.config;\n        var canAddItem = true;\n        var notice = '';\n        if (canAddItem && typeof config.addItemFilter === 'function' && !config.addItemFilter(value)) {\n            canAddItem = false;\n            notice = resolveNoticeFunction(config.customAddItemText, value);\n        }\n        if (canAddItem) {\n            var foundChoice = this._store.choices.find(function (choice) { return config.valueComparer(choice.value, value); });\n            if (foundChoice) {\n                if (this._isSelectElement) {\n                    // for exact matches, do not prompt to add it as a custom choice\n                    this._displayNotice('', NoticeTypes.addChoice);\n                    return false;\n                }\n                if (!config.duplicateItemsAllowed) {\n                    canAddItem = false;\n                    notice = resolveNoticeFunction(config.uniqueItemText, value);\n                }\n            }\n        }\n        if (canAddItem) {\n            notice = resolveNoticeFunction(config.addItemText, value);\n        }\n        if (notice) {\n            this._displayNotice(notice, NoticeTypes.addChoice);\n        }\n        return canAddItem;\n    };\n    Choices.prototype._searchChoices = function (value) {\n        var newValue = value.trim().replace(/\\s{2,}/, ' ');\n        // signal input didn't change search\n        if (!newValue.length || newValue === this._currentValue) {\n            return null;\n        }\n        var searcher = this._searcher;\n        if (searcher.isEmptyIndex()) {\n            searcher.index(this._store.searchableChoices);\n        }\n        // If new value matches the desired length and is not the same as the current value with a space\n        var results = searcher.search(newValue);\n        this._currentValue = newValue;\n        this._highlightPosition = 0;\n        this._isSearching = true;\n        var notice = this._notice;\n        var noticeType = notice && notice.type;\n        if (noticeType !== NoticeTypes.addChoice) {\n            if (!results.length) {\n                this._displayNotice(resolveStringFunction(this.config.noResultsText), NoticeTypes.noResults);\n            }\n            else {\n                this._clearNotice();\n            }\n        }\n        this._store.dispatch(filterChoices(results));\n        return results.length;\n    };\n    Choices.prototype._stopSearch = function () {\n        if (this._isSearching) {\n            this._currentValue = '';\n            this._isSearching = false;\n            this._clearNotice();\n            this._store.dispatch(activateChoices(true));\n            this.passedElement.triggerEvent(EventType.search, {\n                value: '',\n                resultCount: 0,\n            });\n        }\n    };\n    Choices.prototype._addEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        // capture events - can cancel event processing or propagation\n        documentElement.addEventListener('touchend', this._onTouchEnd, true);\n        outerElement.addEventListener('keydown', this._onKeyDown, true);\n        outerElement.addEventListener('mousedown', this._onMouseDown, true);\n        // passive events - doesn't call `preventDefault` or `stopPropagation`\n        documentElement.addEventListener('click', this._onClick, { passive: true });\n        documentElement.addEventListener('touchmove', this._onTouchMove, {\n            passive: true,\n        });\n        this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n            passive: true,\n        });\n        if (this._isSelectOneElement) {\n            outerElement.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            outerElement.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n        }\n        inputElement.addEventListener('keyup', this._onKeyUp, {\n            passive: true,\n        });\n        inputElement.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        inputElement.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        inputElement.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n        if (inputElement.form) {\n            inputElement.form.addEventListener('reset', this._onFormReset, {\n                passive: true,\n            });\n        }\n        this.input.addEventListeners();\n    };\n    Choices.prototype._removeEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n        outerElement.removeEventListener('keydown', this._onKeyDown, true);\n        outerElement.removeEventListener('mousedown', this._onMouseDown, true);\n        documentElement.removeEventListener('click', this._onClick);\n        documentElement.removeEventListener('touchmove', this._onTouchMove);\n        this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n        if (this._isSelectOneElement) {\n            outerElement.removeEventListener('focus', this._onFocus);\n            outerElement.removeEventListener('blur', this._onBlur);\n        }\n        inputElement.removeEventListener('keyup', this._onKeyUp);\n        inputElement.removeEventListener('input', this._onInput);\n        inputElement.removeEventListener('focus', this._onFocus);\n        inputElement.removeEventListener('blur', this._onBlur);\n        if (inputElement.form) {\n            inputElement.form.removeEventListener('reset', this._onFormReset);\n        }\n        this.input.removeEventListeners();\n    };\n    Choices.prototype._onKeyDown = function (event) {\n        var keyCode = event.keyCode;\n        var hasActiveDropdown = this.dropdown.isActive;\n        /*\n        See:\n        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n        https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n        https://en.wikipedia.org/wiki/UTF-16#Code_points_from_U+010000_to_U+10FFFF - UTF-16 surrogate pairs\n        https://stackoverflow.com/a/70866532 - \"Unidentified\" for mobile\n        http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635 - U+FFFF is reserved (Section 16.7)\n    \n        Logic: when a key event is sent, `event.key` represents its printable value _or_ one\n        of a large list of special values indicating meta keys/functionality. In addition,\n        key events for compose functionality contain a value of `Dead` when mid-composition.\n    \n        I can't quite verify it, but non-English IMEs may also be able to generate key codes\n        for code points in the surrogate-pair range, which could potentially be seen as having\n        key.length > 1. Since `Fn` is one of the special keys, we can't distinguish by that\n        alone.\n    \n        Here, key.length === 1 means we know for sure the input was printable and not a special\n        `key` value. When the length is greater than 1, it could be either a printable surrogate\n        pair or a special `key` value. We can tell the difference by checking if the _character\n        code_ value (not code point!) is in the \"surrogate pair\" range or not.\n    \n        We don't use .codePointAt because an invalid code point would return 65535, which wouldn't\n        pass the >= 0x10000 check we would otherwise use.\n    \n        > ...The Unicode Standard sets aside 66 noncharacter code points. The last two code points\n        > of each plane are noncharacters: U+FFFE and U+FFFF on the BMP...\n        */\n        var wasPrintableChar = event.key.length === 1 ||\n            (event.key.length === 2 && event.key.charCodeAt(0) >= 0xd800) ||\n            event.key === 'Unidentified';\n        /*\n          We do not show the dropdown if focusing out with esc or navigating through input fields.\n          An activated search can still be opened with any other key.\n         */\n        if (!this._isTextElement &&\n            !hasActiveDropdown &&\n            keyCode !== KeyCodeMap.ESC_KEY &&\n            keyCode !== KeyCodeMap.TAB_KEY &&\n            keyCode !== KeyCodeMap.SHIFT_KEY) {\n            this.showDropdown();\n            if (!this.input.isFocussed && wasPrintableChar) {\n                /*\n                  We update the input value with the pressed key as\n                  the input was not focussed at the time of key press\n                  therefore does not have the value of the key.\n                */\n                this.input.value += event.key;\n                // browsers interpret a space as pagedown\n                if (event.key === ' ') {\n                    event.preventDefault();\n                }\n            }\n        }\n        switch (keyCode) {\n            case KeyCodeMap.A_KEY:\n                return this._onSelectKey(event, this.itemList.element.hasChildNodes());\n            case KeyCodeMap.ENTER_KEY:\n                return this._onEnterKey(event, hasActiveDropdown);\n            case KeyCodeMap.ESC_KEY:\n                return this._onEscapeKey(event, hasActiveDropdown);\n            case KeyCodeMap.UP_KEY:\n            case KeyCodeMap.PAGE_UP_KEY:\n            case KeyCodeMap.DOWN_KEY:\n            case KeyCodeMap.PAGE_DOWN_KEY:\n                return this._onDirectionKey(event, hasActiveDropdown);\n            case KeyCodeMap.DELETE_KEY:\n            case KeyCodeMap.BACK_KEY:\n                return this._onDeleteKey(event, this._store.items, this.input.isFocussed);\n        }\n    };\n    Choices.prototype._onKeyUp = function ( /* event: KeyboardEvent */) {\n        this._canSearch = this.config.searchEnabled;\n    };\n    Choices.prototype._onInput = function ( /* event: InputEvent */) {\n        var value = this.input.value;\n        if (!value) {\n            if (this._isTextElement) {\n                this.hideDropdown(true);\n            }\n            else {\n                this._stopSearch();\n            }\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        if (this._canSearch) {\n            // do the search even if the entered text can not be added\n            this._handleSearch(value);\n        }\n        if (!this._canAddUserChoices) {\n            return;\n        }\n        // determine if a notice needs to be displayed for why a search result can't be added\n        this._canCreateItem(value);\n        if (this._isSelectElement) {\n            this._highlightPosition = 0; // reset to select the notice and/or exact match\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._onSelectKey = function (event, hasItems) {\n        // If CTRL + A or CMD + A have been pressed and there are items to select\n        if ((event.ctrlKey || event.metaKey) && hasItems) {\n            this._canSearch = false;\n            var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n            if (shouldHightlightAll) {\n                this.highlightAll();\n            }\n        }\n    };\n    Choices.prototype._onEnterKey = function (event, hasActiveDropdown) {\n        var _this = this;\n        var value = this.input.value;\n        var target = event.target;\n        event.preventDefault();\n        if (target && target.hasAttribute('data-button')) {\n            this._handleButtonAction(target);\n            return;\n        }\n        if (!hasActiveDropdown) {\n            if (this._isSelectElement || this._notice) {\n                this.showDropdown();\n            }\n            return;\n        }\n        var highlightedChoice = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n        if (highlightedChoice && this._handleChoiceAction(highlightedChoice)) {\n            return;\n        }\n        if (!target || !value) {\n            this.hideDropdown(true);\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        var addedItem = false;\n        this._store.withTxn(function () {\n            addedItem = _this._findAndSelectChoiceByValue(value, true);\n            if (!addedItem) {\n                if (!_this._canAddUserChoices) {\n                    return;\n                }\n                if (!_this._canCreateItem(value)) {\n                    return;\n                }\n                _this._addChoice(mapInputToChoice(value, false, _this.config.allowHtmlUserInput), true, true);\n                addedItem = true;\n            }\n            _this.clearInput();\n            _this.unhighlightAll();\n        });\n        if (!addedItem) {\n            return;\n        }\n        this._triggerChange(value);\n        if (this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n        }\n    };\n    Choices.prototype._onEscapeKey = function (event, hasActiveDropdown) {\n        if (hasActiveDropdown) {\n            event.stopPropagation();\n            this.hideDropdown(true);\n            this._stopSearch();\n            this.containerOuter.element.focus();\n        }\n    };\n    Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n        var keyCode = event.keyCode;\n        // If up or down key is pressed, traverse through options\n        if (hasActiveDropdown || this._isSelectOneElement) {\n            this.showDropdown();\n            this._canSearch = false;\n            var directionInt = keyCode === KeyCodeMap.DOWN_KEY || keyCode === KeyCodeMap.PAGE_DOWN_KEY ? 1 : -1;\n            var skipKey = event.metaKey || keyCode === KeyCodeMap.PAGE_DOWN_KEY || keyCode === KeyCodeMap.PAGE_UP_KEY;\n            var nextEl = void 0;\n            if (skipKey) {\n                if (directionInt > 0) {\n                    nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            else {\n                var currentEl = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n                if (currentEl) {\n                    nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            if (nextEl) {\n                // We prevent default to stop the cursor moving\n                // when pressing the arrow\n                if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n                    this.choiceList.scrollToChildElement(nextEl, directionInt);\n                }\n                this._highlightChoice(nextEl);\n            }\n            // Prevent default to maintain cursor position whilst\n            // traversing dropdown options\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onDeleteKey = function (event, items, hasFocusedInput) {\n        // If backspace or delete key is pressed and the input has no value\n        if (!this._isSelectOneElement && !event.target.value && hasFocusedInput) {\n            this._handleBackspace(items);\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onTouchMove = function () {\n        if (this._wasTap) {\n            this._wasTap = false;\n        }\n    };\n    Choices.prototype._onTouchEnd = function (event) {\n        var target = (event || event.touches[0]).target;\n        var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n        if (touchWasWithinContainer) {\n            var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n            if (containerWasExactTarget) {\n                if (this._isTextElement) {\n                    this.input.focus();\n                }\n                else if (this._isSelectMultipleElement) {\n                    this.showDropdown();\n                }\n            }\n            // Prevents focus event firing\n            event.stopPropagation();\n        }\n        this._wasTap = true;\n    };\n    /**\n     * Handles mousedown event in capture mode for containetOuter.element\n     */\n    Choices.prototype._onMouseDown = function (event) {\n        var target = event.target;\n        if (!(target instanceof HTMLElement)) {\n            return;\n        }\n        // If we have our mouse down on the scrollbar and are on IE11...\n        if (IS_IE11 && this.choiceList.element.contains(target)) {\n            // check if click was on a scrollbar area\n            var firstChoice = this.choiceList.element.firstElementChild;\n            this._isScrollingOnIe =\n                this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n        }\n        if (target === this.input.element) {\n            return;\n        }\n        var item = target.closest('[data-button],[data-item],[data-choice]');\n        if (item instanceof HTMLElement) {\n            if ('button' in item.dataset) {\n                this._handleButtonAction(item);\n            }\n            else if ('item' in item.dataset) {\n                this._handleItemAction(item, event.shiftKey);\n            }\n            else if ('choice' in item.dataset) {\n                this._handleChoiceAction(item);\n            }\n        }\n        event.preventDefault();\n    };\n    /**\n     * Handles mouseover event over this.dropdown\n     * @param {MouseEvent} event\n     */\n    Choices.prototype._onMouseOver = function (_a) {\n        var target = _a.target;\n        if (target instanceof HTMLElement && 'choice' in target.dataset) {\n            this._highlightChoice(target);\n        }\n    };\n    Choices.prototype._onClick = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var clickWasWithinContainer = containerOuter.element.contains(target);\n        if (clickWasWithinContainer) {\n            if (!this.dropdown.isActive && !containerOuter.isDisabled) {\n                if (this._isTextElement) {\n                    if (document.activeElement !== this.input.element) {\n                        this.input.focus();\n                    }\n                }\n                else {\n                    this.showDropdown();\n                    containerOuter.element.focus();\n                }\n            }\n            else if (this._isSelectOneElement &&\n                target !== this.input.element &&\n                !this.dropdown.element.contains(target)) {\n                this.hideDropdown();\n            }\n        }\n        else {\n            containerOuter.removeFocusState();\n            this.hideDropdown(true);\n            this.unhighlightAll();\n        }\n    };\n    Choices.prototype._onFocus = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var focusWasWithinContainer = target && containerOuter.element.contains(target);\n        if (!focusWasWithinContainer) {\n            return;\n        }\n        var targetIsInput = target === this.input.element;\n        if (this._isTextElement) {\n            if (targetIsInput) {\n                containerOuter.addFocusState();\n            }\n        }\n        else if (this._isSelectMultipleElement) {\n            if (targetIsInput) {\n                this.showDropdown(true);\n                // If element is a select box, the focused element is the container and the dropdown\n                // isn't already open, focus and show dropdown\n                containerOuter.addFocusState();\n            }\n        }\n        else {\n            containerOuter.addFocusState();\n            if (targetIsInput) {\n                this.showDropdown(true);\n            }\n        }\n    };\n    Choices.prototype._onBlur = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var blurWasWithinContainer = target && containerOuter.element.contains(target);\n        if (blurWasWithinContainer && !this._isScrollingOnIe) {\n            if (target === this.input.element) {\n                containerOuter.removeFocusState();\n                this.hideDropdown(true);\n                if (this._isTextElement || this._isSelectMultipleElement) {\n                    this.unhighlightAll();\n                }\n            }\n            else if (target === this.containerOuter.element) {\n                // Remove the focus state when the past outerContainer was the target\n                containerOuter.removeFocusState();\n                // Also close the dropdown if search is disabled\n                if (!this._canSearch) {\n                    this.hideDropdown(true);\n                }\n            }\n        }\n        else {\n            // On IE11, clicking the scollbar blurs our input and thus\n            // closes the dropdown. To stop this, we refocus our input\n            // if we know we are on IE *and* are scrolling.\n            this._isScrollingOnIe = false;\n            this.input.element.focus();\n        }\n    };\n    Choices.prototype._onFormReset = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this.clearInput();\n            _this.hideDropdown();\n            _this.refresh(false, false, true);\n            if (_this._initialItems.length) {\n                _this.setChoiceByValue(_this._initialItems);\n            }\n        });\n    };\n    Choices.prototype._highlightChoice = function (el) {\n        if (el === void 0) { el = null; }\n        var choices = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier));\n        if (!choices.length) {\n            return;\n        }\n        var passedEl = el;\n        var highlightedState = this.config.classNames.highlightedState;\n        var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(getClassNamesSelector(highlightedState)));\n        // Remove any highlighted choices\n        highlightedChoices.forEach(function (choice) {\n            removeClassesFromElement(choice, highlightedState);\n            choice.setAttribute('aria-selected', 'false');\n        });\n        if (passedEl) {\n            this._highlightPosition = choices.indexOf(passedEl);\n        }\n        else {\n            // Highlight choice based on last known highlight location\n            if (choices.length > this._highlightPosition) {\n                // If we have an option to highlight\n                passedEl = choices[this._highlightPosition];\n            }\n            else {\n                // Otherwise highlight the option before\n                passedEl = choices[choices.length - 1];\n            }\n            if (!passedEl) {\n                passedEl = choices[0];\n            }\n        }\n        addClassesToElement(passedEl, highlightedState);\n        passedEl.setAttribute('aria-selected', 'true');\n        this.passedElement.triggerEvent(EventType.highlightChoice, {\n            el: passedEl,\n        });\n        if (this.dropdown.isActive) {\n            // IE11 ignores aria-label and blocks virtual keyboard\n            // if aria-activedescendant is set without a dropdown\n            this.input.setActiveDescendant(passedEl.id);\n            this.containerOuter.setActiveDescendant(passedEl.id);\n        }\n    };\n    Choices.prototype._addItem = function (item, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (!item.id) {\n            throw new TypeError('item.id must be set before _addItem is called for a choice/item');\n        }\n        if (this.config.singleModeForMultiSelect || this._isSelectOneElement) {\n            this.removeActiveItems(item.id);\n        }\n        this._store.dispatch(addItem(item));\n        if (withEvents) {\n            this.passedElement.triggerEvent(EventType.addItem, this._getChoiceForOutput(item));\n            if (userTriggered) {\n                this.passedElement.triggerEvent(EventType.choice, this._getChoiceForOutput(item));\n            }\n        }\n    };\n    Choices.prototype._removeItem = function (item) {\n        if (!item.id) {\n            return;\n        }\n        this._store.dispatch(removeItem$1(item));\n        var notice = this._notice;\n        if (notice && notice.type === NoticeTypes.noChoices) {\n            this._clearNotice();\n        }\n        this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(item));\n    };\n    Choices.prototype._addChoice = function (choice, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (choice.id) {\n            throw new TypeError('Can not re-add a choice which has already been added');\n        }\n        var config = this.config;\n        if (!config.duplicateItemsAllowed && this._store.choices.find(function (c) { return config.valueComparer(c.value, choice.value); })) {\n            return;\n        }\n        // Generate unique id, in-place update is required so chaining _addItem works as expected\n        this._lastAddedChoiceId++;\n        choice.id = this._lastAddedChoiceId;\n        choice.elementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choice.id);\n        var prependValue = config.prependValue, appendValue = config.appendValue;\n        if (prependValue) {\n            choice.value = prependValue + choice.value;\n        }\n        if (appendValue) {\n            choice.value += appendValue.toString();\n        }\n        if ((prependValue || appendValue) && choice.element) {\n            choice.element.value = choice.value;\n        }\n        this._clearNotice();\n        this._store.dispatch(addChoice(choice));\n        if (choice.selected) {\n            this._addItem(choice, withEvents, userTriggered);\n        }\n    };\n    Choices.prototype._addGroup = function (group, withEvents) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = true; }\n        if (group.id) {\n            throw new TypeError('Can not re-add a group which has already been added');\n        }\n        this._store.dispatch(addGroup(group));\n        if (!group.choices) {\n            return;\n        }\n        // add unique id for the group(s), and do not store the full list of choices in this group\n        this._lastAddedGroupId++;\n        group.id = this._lastAddedGroupId;\n        group.choices.forEach(function (item) {\n            item.group = group;\n            if (group.disabled) {\n                item.disabled = true;\n            }\n            _this._addChoice(item, withEvents);\n        });\n    };\n    Choices.prototype._createTemplates = function () {\n        var _this = this;\n        var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n        var userTemplates = {};\n        if (typeof callbackOnCreateTemplates === 'function') {\n            userTemplates = callbackOnCreateTemplates.call(this, strToEl, escapeForTemplate, getClassNames);\n        }\n        var templating = {};\n        Object.keys(this._templates).forEach(function (name) {\n            if (name in userTemplates) {\n                templating[name] = userTemplates[name].bind(_this);\n            }\n            else {\n                templating[name] = _this._templates[name].bind(_this);\n            }\n        });\n        this._templates = templating;\n    };\n    Choices.prototype._createElements = function () {\n        var templating = this._templates;\n        var _a = this, config = _a.config, isSelectOneElement = _a._isSelectOneElement;\n        var position = config.position, classNames = config.classNames;\n        var elementType = this._elementType;\n        this.containerOuter = new Container({\n            element: templating.containerOuter(config, this._direction, this._isSelectElement, isSelectOneElement, config.searchEnabled, elementType, config.labelId),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.containerInner = new Container({\n            element: templating.containerInner(config),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.input = new Input({\n            element: templating.input(config, this._placeholderValue),\n            classNames: classNames,\n            type: elementType,\n            preventPaste: !config.paste,\n        });\n        this.choiceList = new List({\n            element: templating.choiceList(config, isSelectOneElement),\n        });\n        this.itemList = new List({\n            element: templating.itemList(config, isSelectOneElement),\n        });\n        this.dropdown = new Dropdown({\n            element: templating.dropdown(config),\n            classNames: classNames,\n            type: elementType,\n        });\n    };\n    Choices.prototype._createStructure = function () {\n        var _a = this, containerInner = _a.containerInner, containerOuter = _a.containerOuter, passedElement = _a.passedElement;\n        var dropdownElement = this.dropdown.element;\n        // Hide original element\n        passedElement.conceal();\n        // Wrap input in container preserving DOM ordering\n        containerInner.wrap(passedElement.element);\n        // Wrapper inner container with outer container\n        containerOuter.wrap(containerInner.element);\n        if (this._isSelectOneElement) {\n            this.input.placeholder = this.config.searchPlaceholderValue || '';\n        }\n        else {\n            if (this._placeholderValue) {\n                this.input.placeholder = this._placeholderValue;\n            }\n            this.input.setWidth();\n        }\n        containerOuter.element.appendChild(containerInner.element);\n        containerOuter.element.appendChild(dropdownElement);\n        containerInner.element.appendChild(this.itemList.element);\n        dropdownElement.appendChild(this.choiceList.element);\n        if (!this._isSelectOneElement) {\n            containerInner.element.appendChild(this.input.element);\n        }\n        else if (this.config.searchEnabled) {\n            dropdownElement.insertBefore(this.input.element, dropdownElement.firstChild);\n        }\n        this._highlightPosition = 0;\n        this._isSearching = false;\n    };\n    Choices.prototype._initStore = function () {\n        var _this = this;\n        this._store.subscribe(this._render).withTxn(function () {\n            _this._addPredefinedChoices(_this._presetChoices, _this._isSelectOneElement && !_this._hasNonChoicePlaceholder, false);\n        });\n        if (!this._store.choices.length || (this._isSelectOneElement && this._hasNonChoicePlaceholder)) {\n            this._render();\n        }\n    };\n    Choices.prototype._addPredefinedChoices = function (choices, selectFirstOption, withEvents) {\n        var _this = this;\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (withEvents === void 0) { withEvents = true; }\n        if (selectFirstOption) {\n            /**\n             * If there is a selected choice already or the choice is not the first in\n             * the array, add each choice normally.\n             *\n             * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n             */\n            var noSelectedChoices = choices.findIndex(function (choice) { return choice.selected; }) === -1;\n            if (noSelectedChoices) {\n                choices.some(function (choice) {\n                    if (choice.disabled || 'choices' in choice) {\n                        return false;\n                    }\n                    choice.selected = true;\n                    return true;\n                });\n            }\n        }\n        choices.forEach(function (item) {\n            if ('choices' in item) {\n                if (_this._isSelectElement) {\n                    _this._addGroup(item, withEvents);\n                }\n            }\n            else {\n                _this._addChoice(item, withEvents);\n            }\n        });\n    };\n    Choices.prototype._findAndSelectChoiceByValue = function (value, userTriggered) {\n        var _this = this;\n        if (userTriggered === void 0) { userTriggered = false; }\n        // Check 'value' property exists and the choice isn't already selected\n        var foundChoice = this._store.choices.find(function (choice) { return _this.config.valueComparer(choice.value, value); });\n        if (foundChoice && !foundChoice.disabled && !foundChoice.selected) {\n            this._addItem(foundChoice, true, userTriggered);\n            return true;\n        }\n        return false;\n    };\n    Choices.prototype._generatePlaceholderValue = function () {\n        var config = this.config;\n        if (!config.placeholder) {\n            return null;\n        }\n        if (this._hasNonChoicePlaceholder) {\n            return config.placeholderValue;\n        }\n        if (this._isSelectElement) {\n            var placeholderOption = this.passedElement.placeholderOption;\n            return placeholderOption ? placeholderOption.text : null;\n        }\n        return null;\n    };\n    Choices.prototype._warnChoicesInitFailed = function (caller) {\n        if (this.config.silent) {\n            return;\n        }\n        if (!this.initialised) {\n            throw new TypeError(\"\".concat(caller, \" called on a non-initialised instance of Choices\"));\n        }\n        else if (!this.initialisedOK) {\n            throw new TypeError(\"\".concat(caller, \" called for an element which has multiple instances of Choices initialised on it\"));\n        }\n    };\n    Choices.version = '11.1.0';\n    return Choices;\n}());\n\nexport { Choices as default };\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.es = {}));\n}(this, (function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {},\n      };\n  var Spanish = {\n      weekdays: {\n          shorthand: [\"Dom\", \"Lun\", \"Mar\", \"Mi√©\", \"Jue\", \"Vie\", \"S√°b\"],\n          longhand: [\n              \"Domingo\",\n              \"Lunes\",\n              \"Martes\",\n              \"Mi√©rcoles\",\n              \"Jueves\",\n              \"Viernes\",\n              \"S√°bado\",\n          ],\n      },\n      months: {\n          shorthand: [\n              \"Ene\",\n              \"Feb\",\n              \"Mar\",\n              \"Abr\",\n              \"May\",\n              \"Jun\",\n              \"Jul\",\n              \"Ago\",\n              \"Sep\",\n              \"Oct\",\n              \"Nov\",\n              \"Dic\",\n          ],\n          longhand: [\n              \"Enero\",\n              \"Febrero\",\n              \"Marzo\",\n              \"Abril\",\n              \"Mayo\",\n              \"Junio\",\n              \"Julio\",\n              \"Agosto\",\n              \"Septiembre\",\n              \"Octubre\",\n              \"Noviembre\",\n              \"Diciembre\",\n          ],\n      },\n      ordinal: function () {\n          return \"¬∫\";\n      },\n      firstDayOfWeek: 1,\n      rangeSeparator: \" a \",\n      time_24hr: true,\n  };\n  fp.l10ns.es = Spanish;\n  var es = fp.l10ns;\n\n  exports.Spanish = Spanish;\n  exports.default = es;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","'use strict';\n\nconst componenetDefaultAttribute = {\n\tname: null,\n\ttype: 'text',\n\tinfo: void 0,\n\tlabel: void 0,\n\tplaceholder: void 0,\n\tdisabled: false,\n\treadonly: false,\n\torder: 1,\n\tform: 'inputText',\n\tgrupo: 1,\n\ttarget: -1,\n\tvalor: '',\n\tevent: void 0,\n\tdata: void 0,\n\tdatemax: '',\n\tsearchType: false,\n\tsearch: '',\n\tclassName: '',\n};\n\nclass ComponentModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'name';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\t...componenetDefaultAttribute,\n\t\t};\n\t}\n}\n\nclass ComponentValidModel extends ComponentModel {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'name';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\t...componenetDefaultAttribute,\n\t\t\tpattern: '', //tipo validacion\n\t\t\tdvalor: '', //valor por defecto\n\t\t\tlongitud: '', //valor de longitud del campo\n\t\t\trango: '', //valor de rango para datos numericos\n\t\t\tsize: 42,\n\t\t\tdetalle: '',\n\t\t};\n\t}\n}\n\nexport { componenetDefaultAttribute, ComponentModel, ComponentValidModel };\n","'use strict';\nimport { $App } from '@/App';\n\nclass GestionAdjuntoService {\n\tconstructor() {}\n\n\tborrarArchivo(transfer = {}) {\n\t\tconst { data, callback } = transfer;\n\t\t$App.trigger('syncro', {\n\t\t\turl: $App.url('borrarArchivo'),\n\t\t\tdata,\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t$App.trigger('alert:success', { message: response.msj });\n\t\t\t\t\t\treturn callback(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t},\n\t\t});\n\t}\n\n\tprocessDocument(transfer = {}) {\n\t\tconst { data, url, callback } = transfer;\n\t\t$App.trigger('syncro', {\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\treturn callback(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$App.trigger('alert:warning', {\n\t\t\t\t\t\t\tmessage: 'No se puede generar el formulario',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t},\n\t\t});\n\t}\n\n\tguardarArchivo(transfer = {}) {\n\t\tconst { target, id, coddoc, callback } = transfer;\n\t\tconst formData = new FormData();\n\n\t\tformData.append('archivo_' + id + '_' + coddoc, $(target)[0].files[0]);\n\t\tformData.append('id', id);\n\t\tformData.append('coddoc', coddoc);\n\n\t\t$App.trigger('upload', {\n\t\t\turl: $App.url('guardarArchivo'),\n\t\t\tdata: formData,\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\treturn callback(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$App.trigger('alert:error', { message: response['msj'] });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t},\n\t\t});\n\t}\n}\n\nexport { GestionAdjuntoService };\n","import Choices from 'choices.js';\nimport { ModelView } from '@/Common/ModelView';\n\nclass SelectComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\n\t\tthis.template = _.template(`\n\t\t\t<select\n\t\t\t\ttype=\"<%=type%>\"\n\t\t\t\tclass=\"form-control <%=className%>\"\n\t\t\t\ttoggle-entity=\"_entitie_form\"\n\t\t\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\t\t\tid=\"<%=name%>\"\n\t\t\t\tname=\"<%=name%>\"\n\t\t\t\ttarget=\"<%= target%>\"\n\t\t\t\tplaceholder=\"<%=placeholder%>\"\n\t\t\t\tvalue=\"<%= valor%>\"\n\t\t\t\t<%=(readonly)? 'readonly': ''%>\n\t\t\t\t<%=(disabled)? 'disabled': ''%>>\n\t\t\t\t<option value=\"\">Pendiente seleccionar...</option>\n\t\t\t\t<% data = (searchType == 'local')? this.collection[search]: new Array()\n\t\t\t\tif(_.size(data) > 0){\n\t\t\t\t\t_.each(data, function(row, index){ \t%>\n\t\t\t\t\t<% selected = (index == valor)? 'selected': '' %>\n\t\t\t\t\t<option <%=selected%> value=\"<%= index%>\"><%= row%></option>\n\t\t\t\t<% })\n\t\t\t\t} else { %>\n\t\t\t\t\t<option value=\"\">...</option>\n\t\t\t\t<% } %>\n\t\t\t</select>\n\t\t\t<label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n\t\t`);\n\t}\n}\n\nclass RadioComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(`\n            <div class=\"form-check form-check-inline mt-2\">\n                <input\n                    id=\"<%=name%>1\"\n                    name=\"<%=name%>\"\n                    toggle-entity=\"entitie_form\"\n                    target=\"<%= target%>\"\n                    class=\"form-check-input mt-0\"\n                    toggle-event=\"<%=(event)? event :'' %>\"\n                    type=\"radio\"\n                    value='S'\n                    <%=(valor == 'S')? 'checked':''%>\n                    <%=(readonly)? 'readonly': ''%>\n                    <%=(disabled)? 'disabled': ''%>\n                />\n                <label class=\"form-check-label mt-0\" for=\"flexRadioDefault1\">\n                    SI\n                </label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n                <input\n                    id=\"<%=name%>2\"\n                    name=\"<%=name%>\"\n                    toggle-entity=\"entitie_form\"\n                    target=\"<%= target%>\"\n                    class=\"form-check-input mt-0\"\n                    toggle-event=\"<%=(event)? event.name:'' %>\"\n                    type=\"radio\"\n                    value='N'\n                    <%=(valor != 'S')? 'checked':''%>\n                    <%=(readonly)? 'readonly': ''%>\n                    <%=(disabled)? 'disabled': ''%>\n                />\n                <label class=\"form-check-label mt-0\" for=\"flexRadioDefault2\">\n                    NO\n                </label>\n            </div>\n             <label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n            `);\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass DateComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = `<input\n            type=\"<%=type%>\"\n            class=\"form-control datepicker mt-2 ddate\"\n            toggle-entity=\"entitie_form\"\n            toggle-event=\"<%= (event)? event : '' %>\"\n            id=\"<%=name%>\"\n            name=\"<%=name%>\"\n            target=\"<%= target%>\"\n            placeholder=\"<%=(placeholder)? placeholder : label %>\"\n            value=\"<%= valor%>\"\n            for=\"<%= name%>\"\n            title=\"<%=(placeholder)? placeholder : label %>\"\n            <%=(disabled)? 'disabled': ''%>\n            <%=(readonly)? 'readonly': ''%>\n\t    />`;\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass TextComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = `<textarea\n\t\ttype=\"<%=type%>\"\n\t\ttoggle-entity=\"entitie_form\"\n\t\tclass=\"form-control  mt-2\"\n\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\tid=\"<%=name%>\"\n\t\tname=\"<%=name%>\"\n\t\ttarget=\"<%= target%>\"\n\t\tplaceholder=\"<%=(placeholder)? placeholder : label %>\"\n\t\tmaxlength=\"<%= longitud %>\"\n\t\trows=\"<%=(rows)? rows : 1 %>\"\n\t\t<%=(readonly)? 'readonly': ''%>\n\t\t<%=(disabled)? 'disabled': ''%>><%= valor%></textarea>\n      <label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n      `;\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass DialogComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(`<div class=\"input-group  mt-2\">\n            <input\n                type=\"text\"\n                toggle-entity=\"entitie_form\"\n                class=\"d-none\"\n                id=\"<%= name%>\"\n                name=\"<%= name%>\"\n                value=\"<%= valor%>\"\n                target=\"-1\"\n            />\n            <% if(type === 'text'){ %>\n                <input type=\"<%=type%>\"\n                placeholder=\"<%=(placeholder)? placeholder : label %>\"\n                ondblclick=\"document.querySelector('.search_<%=name%>').click()\"\n                id=\"<%= name%>_detalle\"\n                name=\"<%= name%>_detalle\"\n                class=\"form-control\"\n                value=\"<%= detalle%>\"\n                target=\"-1\"\n                readonly\n            />\n            <% } %>\n            <% if(type === 'textarea'){ %>\n                <textarea\n                rows='1'\n                placeholder=\"<%=(placeholder)? placeholder : label %>\"\n                ondblclick=\"document.querySelector('.search_<%=name%>').click()\"\n                id=\"<%= name%>_detalle\"\n                name=\"<%= name%>_detalle\"\n                class=\"form-control\"\n                target=\"-1\"\n                readonly ><%= detalle%></textarea>\n            <% } %>\n\n            <span class=\"input-group-text\">\n                <% if(searchType === \"ajax\"){ %>\n                    <button type=\"button\"\n                    target= \"<%= target%>\"\n                    data-search=\"<%=search%>\"\n                    data-tag=\"<%=name%>\"\n                    data-size=\"<%=(size)? size : 100 %>\"\n                    data-detalle=\"<%=name%>_detalle\"\n                    onclick=\"buscarDataAjax(this)\"\n                    class=\"btn btn-sm bg-gray search_<%=name%>\"\n                    <%=(disabled)? 'disabled': ''%>\n                    >\n                        <i class=\"fa fa-search\"></i>\n                </button>\n                <% } else { %>\n                    <button type=\"button\"\n                    target= \"<%= target%>\"\n                    data-search=\"<%=search%>\"\n                    data-tag=\"<%=name%>\"\n                    data-size=\"<%=(size)? size : 100 %>\"\n                    data-detalle=\"<%=name%>_detalle\"\n                    onclick=\"buscarData(this, Colletions)\"\n                    class=\"btn btn-sm bg-gray search_<%=name%>\"\n                    <%=(disabled)? 'disabled': ''%>\n                    >\n                        <i class=\"fa fa-search\"></i>\n                </button>\n                <% } %>\n            </span>\n        </div>\n        <p id=\"<%=name%>_hp\" class=\"d-none text-danger\"></p>`);\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass OpenAddress extends Backbone.View {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tinitialize() {\n\t\tthis.Modal = new bootstrap.Modal(document.getElementById('modal_generic'), {\n\t\t\tkeyboard: true,\n\t\t\tbackdrop: 'static',\n\t\t});\n\t}\n\n\trender() {\n\t\tconst template = _.template(document.getElementById('tmp_direction').innerHTML);\n\t\tthis.$el.html(\n\t\t\ttemplate({\n\t\t\t\tadress: this.collection,\n\t\t\t}),\n\t\t);\n\t\t$('#size_modal_generic').addClass('modal-lg');\n\t\tthis.Modal.show();\n\t\tdocument.getElementById('modal_generic').addEventListener('hidden.bs.modal', (e) => {\n\t\t\tif ($('.modal:visible').length == 0) this.remove();\n\t\t});\n\t\treturn this;\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'blur [data-toggle=\"valida_caracteres\"]': 'validaCaracteres',\n\t\t\t'click #button_address_modal': 'addressModal',\n\t\t\t'change #address_zona': 'addressZona',\n\t\t\t'click #address_one': 'addressOne',\n\t\t\t'click [data-dismiss=\"modal\"]': 'closeModal',\n\t\t};\n\t}\n\n\tcloseModal(e) {\n\t\te.preventDefault();\n\t\tthis.Modal.hide();\n\t}\n\n\tvalidaCaracteres(e) {\n\t\tlet target = $(e.currentTarget);\n\t\tif (/[^a-zA-Z\\ 0-9]/g.test(target.val())) {\n\t\t\ttarget.val('');\n\t\t}\n\t}\n\n\taddressModal(event) {\n\t\tevent.preventDefault();\n\t\tlet barrio = '';\n\t\tlet address;\n\n\t\tif (this.$el.find('#address_five').val() !== '') {\n\t\t\tbarrio = ' BRR ' + $('#address_five').val();\n\t\t}\n\t\tif (this.$el.find('#address_one').val() == null && $('#address_two').val() == '') {\n\t\t\taddress = 'BRR';\n\t\t} else {\n\t\t\taddress =\n\t\t\t\tthis.$el.find('#address_one').val() +\n\t\t\t\t' ' +\n\t\t\t\tthis.$el.find('#address_two').val() +\n\t\t\t\t' ' +\n\t\t\t\tthis.$el.find('#address_four').val() +\n\t\t\t\t' ' +\n\t\t\t\tbarrio;\n\t\t}\n\t\tdocument.getElementById(this.model.name).value = address;\n\t\tthis.Modal.hide();\n\t}\n\n\taddressZona(event) {\n\t\tevent.preventDefault();\n\t\tconst valor = $(event.currentTarget).val();\n\t\tlet lista;\n\t\tif (valor === 'R') {\n\t\t\tlista = _.filter(this.collection, (row) => {\n\t\t\t\treturn row.tipo_rural === 'S' || row.tipo_rural === 'V';\n\t\t\t});\n\t\t\tthis.$el.find('#address_barrio').fadeOut();\n\t\t\tthis.$el.find('#show_address_four').fadeOut();\n\t\t\tthis.$el.find('#address_nombre_optional').text('Nombre ubicaci√≥n');\n\t\t\tthis.$el.find('#show_address_two').attr('class', 'col-md-4');\n\t\t\tthis.$el.find('#address_one').removeAttr('disabled');\n\n\t\t\tnew Choices(this.$el.find('#address_one')[0]);\n\t\t} else if (valor === 'U') {\n\t\t\tlista = _.filter(this.collection, (row) => {\n\t\t\t\treturn row.tipo_rural === 'N';\n\t\t\t});\n\t\t\tthis.$el.find('#show_address_four').fadeIn();\n\t\t\tthis.$el.find('#address_barrio').fadeIn();\n\t\t\tthis.$el.find('#address_nombre_optional').text('N√∫mero ');\n\t\t\tthis.$el.find('#show_address_two').attr('class', 'col-md-2');\n\t\t\tthis.$el.find('#address_one').removeAttr('disabled');\n\n\t\t\tnew Choices(this.$el.find('#address_one')[0]);\n\t\t} else {\n\t\t\tlista = [];\n\t\t\t$('#address_one').attr('disabled', 'true');\n\t\t}\n\n\t\tlet html = '';\n\t\tconst template = _.template(`<option value=\"<%=estado%>\"><%=detalle%></option>`);\n\t\t_.each(lista, (adres) => {\n\t\t\thtml += template(adres);\n\t\t});\n\t\tthis.$el.find('#address_one').html(html);\n\t}\n\n\taddressOne(event) {\n\t\tevent.preventDefault();\n\t\tif (this.$el.find('#address_zona').val() == '') {\n\t\t\tthis.$el.find('#address_zona').focus();\n\t\t\tthis.$el.find('#address_one').val('');\n\t\t}\n\t}\n}\n\nclass InputComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\n\t\tthis.template = _.template(`\n\t\t\t<input\n\t\t\t\ttype=\"<%=type%>\"\n\t\t\t\tclass=\"form-control <%=className%>\"\n\t\t\t\ttoggle-entity=\"_entitie_form\"\n\t\t\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\t\t\tid=\"<%=name%>\"\n\t\t\t\tname=\"<%=name%>\"\n\t\t\t\ttarget=\"<%= target%>\"\n\t\t\t\tplaceholder=\"<%=placeholder%>\"\n\t\t\t\tvalue=\"<%= valor%>\"\n\t\t\t\t<%=(readonly)? 'readonly': ''%>\n\t\t\t\t<%=(disabled)? 'disabled': ''%>\n\t\t\t\t/>\n\t\t\t<label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n\t\t`);\n\t}\n}\n\nexport {\n\tSelectComponent,\n\tRadioComponent,\n\tDateComponent,\n\tTextComponent,\n\tDialogComponent,\n\tOpenAddress,\n\tInputComponent,\n};\n","'use strict';\n\nclass DocumentoModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'coddoc';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tcoddoc: null,\n\t\t\tpuede_borrar: false,\n\t\t\ttipopc: void 0,\n\t\t\ttipsoc: void 0,\n\t\t\tobliga: null,\n\t\t\tauto_generado: 0,\n\t\t\tid: null,\n\t\t\tdetalle: void 0,\n\t\t\tdiponible: void 0,\n\t\t\tcorrige: false,\n\t\t};\n\t}\n}\n\nexport { DocumentoModel };\n","'use strict';\n\nclass CollectionView extends Backbone.View {\n\tmodelView = void 0;\n\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.children = [];\n\t}\n\n\tinitialize() {\n\t\tthis.listenTo(this.collection, 'add', this.modelAdded);\n\t\tthis.listenTo(this.collection, 'remove', this.modelRemoved);\n\t\tthis.listenTo(this.collection, 'reset', this.render);\n\t}\n\n\tmodelAdded(model) {\n\t\tconst view = this.renderModel(model);\n\t\tthis.$el.append(view.$el);\n\t}\n\n\t// Close view of model when is removed from the collection\n\tmodelRemoved(model) {\n\t\tif (!model) return;\n\n\t\tlet view = this.children[model.cid];\n\t\tthis.closeChildView(view);\n\t}\n\n\trender() {\n\t\tthis.closeChildren();\n\t\tconst html = this.collection.map((model) => {\n\t\t\tlet view = this.renderModel(model);\n\t\t\treturn view.$el;\n\t\t});\n\n\t\tthis.$el.html(html);\n\t\treturn this;\n\t}\n\n\trenderModel(model) {\n\t\t// Create a new view instance, modelView should be\n\t\t// redefined as a subclass of Backbone.View\n\t\tlet view;\n\t\tif (this.modelView) {\n\t\t\tview = new this.modelView({ model: model });\n\t\t} else {\n\t\t\tthrow new Error('Error no hay model view ha mostrar');\n\t\t}\n\n\t\t// Keep track of which view belongs to a model\n\t\tthis.children[model.cid] = view;\n\n\t\t// Re-trigger all events in the children views, so that\n\t\t// you can listen events of the children views from the\n\t\t// collection view\n\t\tthis.listenTo(view, 'all', (eventName) => {\n\t\t\tthis.trigger('item:' + eventName, view, model);\n\t\t});\n\n\t\tview.render();\n\t\treturn view;\n\t}\n\n\t// Called to close the collection view, should close\n\t// itself and all the live childrens\n\n\tremove() {\n\t\tBackbone.View.prototype.remove.call(this);\n\t\tthis.closeChildren();\n\t}\n\n\t// Close all the live childrens\n\tcloseChildren() {\n\t\tconst children = this.children || {};\n\t\t_.each(children, (child) => this.closeChildView(child));\n\t}\n\n\t// Close a single children at time\n\tcloseChildView(view) {\n\t\t// Ignore if view is not valid\n\t\tif (!view) return;\n\n\t\t// Call the remove function only if available\n\t\tif (_.isFunction(view.remove)) {\n\t\t\tview.remove();\n\t\t}\n\n\t\t// Remove event hanlders for the view\n\t\tthis.stopListening(view);\n\n\t\t// Stop tracking the model-view relationship for the\n\t\t// closed view\n\t\tif (view.model) {\n\t\t\tthis.children[view.model.cid] = undefined;\n\t\t}\n\t}\n}\n\nexport { CollectionView };\n","import { CollectionView } from '../Collections/CollectionView';\nimport { ModelView } from '@/Common/ModelView';\n\nclass DocumentsCollectionView extends CollectionView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.modelView = DocumentsRow;\n\t}\n\n\tget tagName() {\n\t\treturn 'tbody';\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove() {\n\t\tthis.stopListening();\n\t\tBackbone.View.prototype.remove.call(this);\n\t}\n}\n\nclass DocumentsRow extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(document.getElementById('tmp_docurow').innerHTML);\n\t}\n\n\tinitialize() {\n\t\tthis.listenTo(this.model, 'change', this.render);\n\t}\n\n\tget tagName() {\n\t\treturn 'tr';\n\t}\n}\n\nexport { DocumentsCollectionView };\n","'use strict';\n\nimport { $App } from '@/App';\nimport { DocumentoModel } from '../Models/DocumentoModel';\nimport { DocumentsCollectionView } from './DocumentsCollectionView';\n\nclass DocumentoCollection extends Backbone.Collection {\n    get model() {\n        return DocumentoModel;\n    }\n}\n\nclass LoadDocumentsView extends Backbone.View {\n    constructor(options) {\n        super(options);\n        this.documentosCollection = new DocumentoCollection();\n        this.documentosView = null;\n    }\n\n    get className() {\n        return 'card-body';\n    }\n\n    initialize() {\n        this.template = $('#tmp_documentos').html();\n    }\n\n    get events() {\n        return {\n            'click [toggle-event=\"borrar\"]': 'borrarArchivo',\n            'click [toggle-event=\"download\"]': 'descargaArchivo',\n            'click [toggle-event=\"prodoc\"]': 'processDocument',\n            'click [toggle-event=\"salvar\"]': 'guardarArchivo',\n            'click [toggle-event=\"show\"]': 'verArchivo',\n            'change input[toggle-event=\"change\"]': 'showNameFile',\n        };\n    }\n\n    render() {\n        const { archivos, path, puede_borrar, disponibles } = this.collection[0];\n\n        const template = _.template(this.template);\n        this.$el.html(\n            template({\n                archivos,\n                path,\n                puede_borrar,\n                disponibles,\n                model: this.model.toJSON(),\n            }),\n        );\n\n        _.each(archivos, (archivo) => {\n            archivo.puede_borrar = puede_borrar;\n            this.documentosCollection.add(new DocumentoModel(archivo), { merge: true });\n        });\n\n        this.documentosView = new DocumentsCollectionView({\n            collection: this.documentosCollection,\n        });\n        this.$el.find('#addArchivoRequeridos').append(this.documentosView.render().el);\n        return this;\n    }\n\n    borrarArchivo(event) {\n        event.preventDefault();\n        let target = $(event.currentTarget);\n        const coddoc = target.attr('data-coddoc');\n        const id = target.attr('data-id');\n\n        $App.trigger('confirma', {\n            message: 'Esta seguro de borrar el Archivo?',\n            callback: (status) => {\n                if (status) {\n                    this.trigger('file:trash', {\n                        data: {\n                            id: id,\n                            coddoc: coddoc,\n                        },\n                        callback: (response) => {\n                            if (response) {\n                                this.trigger('file:reload');\n                            }\n                        },\n                    });\n                }\n            },\n        });\n    }\n\n    descargaArchivo(event) {\n        event.preventDefault();\n        const target = this.$el.find(event.currentTarget);\n        $App.trigger('down', {\n            url: target.attr('data-url'),\n            filename: target.attr('data-file'),\n        });\n    }\n\n    processDocument(event) {\n        event.preventDefault();\n        let target = this.$el.find(event.currentTarget);\n        const id = parseInt(target.attr('data-cid'));\n        const url = $App.kumbiaURL(target.attr('data-url') + '/' + id);\n\n        this.trigger('file:firma', (response) => {\n            if (response) {\n                this.trigger('file:prodoc', {\n                    data: {\n                        id: id,\n                    },\n                    url: url,\n                    callback: (response) => {\n                        if (response) {\n                            $App.trigger('down', {\n                                url: response.url,\n                                filename: response.name,\n                            });\n                            this.trigger('file:reload');\n                        }\n                    },\n                });\n            }\n        });\n    }\n\n    guardarArchivo(e) {\n        e.preventDefault();\n        let _target = this.$el.find(e.currentTarget);\n        const coddoc = _target.attr('data-coddoc');\n        const id = parseInt(_target.attr('data-id'));\n        const target = document.querySelector('#archivo_' + coddoc);\n\n        this.trigger('file:save', {\n            target,\n            id,\n            coddoc,\n            callback: (response) => {\n                $App.trigger('alert:success', { message: response['msj'] });\n                this.trigger('file:reload');\n            },\n        });\n    }\n\n    showNameFile(event) {\n        let target = $(event.currentTarget);\n        let coddoc = target.attr('data-coddoc');\n        let files = document.getElementById(target.attr('id')).files;\n        if (files.length == 0) return;\n        let archivo = files[0];\n        this.$el.find('.toogle-show-name[data-code=\"' + coddoc + '\"]').html(archivo.name);\n    }\n\n    verArchivo(event) {\n        event.preventDefault();\n        var target = $(event.currentTarget);\n        const filename = target.attr('data-href');\n        const _filepath = btoa('public/temp/' + filename);\n        $App.trigger('syncro', {\n            url: $App.kumbiaURL('mercurio/principal/file_existe_global/' + _filepath),\n            callback: (resultado) => {\n                if (resultado) {\n                    if (resultado.success) {\n                        const url = ('../public/temp/' + filename).replace('//', '/');\n                        window.open($App.kumbiaURL(url), filename, 'width=900,height=750,toobal=no,statusbar=no,scrollbars=yes menuvar=yes');\n                    } else {\n                        Swal.fire({\n                            title: 'Notificaci√≥n',\n                            text: 'El archivo no se logra localizar en el servidor',\n                            icon: 'warning',\n                            showConfirmButton: false,\n                            timer: 10000,\n                        });\n                    }\n                }\n            },\n        });\n    }\n\n    remove() {\n        if (this.documentosView) this.documentosView.remove();\n        this.stopListening();\n        Backbone.View.prototype.remove.call(this);\n    }\n}\n\nexport { LoadDocumentsView };\n","class SeguimientosView extends Backbone.View {\n\tconstructor(options) {\n\t\tsuper(options);\n\t}\n\n\tget events() {\n\t\treturn {};\n\t}\n\n\trender() {\n\t\tconst { campos_disponibles, estados_detalles, seguimientos } = this.collection[0];\n\t\tconst template = _.template(document.getElementById('tmp_seguimientos').innerHTML);\n\t\tconst renderedHtml = template({\n\t\t\tcampos_disponibles,\n\t\t\testados_detalles,\n\t\t\tseguimientos,\n\t\t});\n\n\t\tthis.$el.html(renderedHtml);\n\t\treturn this;\n\t}\n}\n\nexport { SeguimientosView };\n","'use strict';\n\nimport { $App } from '@/App';\n\nclass SubHeaderView extends Backbone.View {\n\tconstructor(options) {\n\t\tsuper(options);\n\t}\n\n\tinitialize(options = {}) {\n\t\tthis.listenTo(options.model, 'change', this.render);\n\t}\n\n\trender() {\n\t\tconst template = _.template(document.getElementById('tmp_subheader').innerHTML);\n\t\tthis.$el.html(\n\t\t\ttemplate({\n\t\t\t\tmodel: this.model.toJSON(),\n\t\t\t\titems: this.collection,\n\t\t\t}),\n\t\t);\n\t\treturn this;\n\t}\n\n\tget className() {\n\t\treturn 'row align-content-between';\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'show.bs.tab a[data-bs-toggle=\"pill\"]': 'actionSubHeader',\n\t\t\t'click #closeForm': 'closeForm',\n\t\t};\n\t}\n\n\tactionSubHeader(e) {\n\t\tconst action = $(e.target).attr('aria-controls');\n\t\tswitch (action) {\n\t\t\tcase 'seguimiento':\n\t\t\t\tthis.trigger('show:seguimiento');\n\t\t\t\tbreak;\n\t\t\tcase 'documentos_adjuntos':\n\t\t\t\tthis.trigger('show:documentos');\n\t\t\t\tbreak;\n\t\t\tcase 'enviar_radicado':\n\t\t\t\tthis.trigger('show:enviar');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcloseForm(event) {\n\t\tevent.preventDefault();\n\t\t$App.trigger('confirma', {\n\t\t\tmessage: '¬°Esta seguro que desea salir y volver a la lista principal!',\n\t\t\tcallback: (status) => {\n\t\t\t\tif (status) {\n\t\t\t\t\t$App.router.navigate('list', { trigger: true });\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n}\n\nexport { SubHeaderView };\n","const urlError = () => 'Url error is undefined!';\n\nconst emulateDefault = () => (Backbone.emulateHTTP = true);\n\nconst methodMap = {\n\tcreate: 'POST',\n\tupdate: 'PUT',\n\tfetch: 'GET',\n\tdestroy: 'DELETE',\n};\n\nBackbone.sync = (method, model, options) => {\n\tconst type = methodMap[method];\n\n\tconst params = _.extend(\n\t\t{\n\t\t\ttype: type,\n\t\t\tdataType: 'json',\n\t\t\tprocessData: false,\n\t\t},\n\t\toptions,\n\t);\n\n\tif (!params.url) {\n\t\tparams.url = model.url || urlError();\n\t}\n\n\tif (!params.data && model && (method == 'create' || method == 'update')) {\n\t\tparams.contentType = 'application/json';\n\t\tparams.data = JSON.stringify(model.toJSON());\n\t}\n\n\tif (!Backbone.emulateJSON && !Backbone.emulateHTTP) emulateDefault();\n\n\tif (Backbone.emulateJSON) {\n\t\tparams.contentType = 'application/x-www-form-urlencoded';\n\t\tparams.processData = true;\n\t\tparams.data = params.data ? { model: params.data } : {};\n\t\tparams.beforeSend = function (xhr) {\n\t\t\txhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t\t};\n\t}\n\n\tif (Backbone.emulateHTTP) {\n\t\tif (type === 'PUT' || type === 'DELETE') {\n\t\t\tif (Backbone.emulateJSON) params.data._method = type;\n\t\t\tparams.type = 'POST';\n\t\t\tparams.beforeSend = (xhr) => {\n\t\t\t\txhr.setRequestHeader('X-HTTP-Method-Override', type);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn $.ajax(params);\n};\n\nconst capitalize = (_string) => {\n\tif (typeof _string !== 'string') return '';\n\tconst exp = _string.toLowerCase().split(' ');\n\tif (exp.length == 1) {\n\t\t_string = exp[0].charAt(0).toUpperCase() + exp[0].slice(1);\n\t}\n\tif (exp.length > 1) {\n\t\tconst parts = new Array();\n\t\t_.each(exp, (parte) => {\n\t\t\tparts.push(parte.charAt(0).toUpperCase() + parte.slice(1));\n\t\t});\n\t\t_string = parts.join(' ');\n\t}\n\treturn _string;\n};\n\nconst is_email = (value) => {\n\tconst pattern = /^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\\.([a-zA-Z])+([a-zA-Z])+/;\n\treturn pattern.test(value);\n};\n\nconst is_numeric = (value) => {\n\tconst numerico = /^([0-9]+){0,20}$/;\n\treturn numerico.test(value);\n};\n\nconst is_date = (value) => {\n\tconst regla = /^([2]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/;\n\treturn regla.test(value);\n};\n\nconst is_date_general = (value) => {\n\tconst regla = /^([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/;\n\treturn regla.test(value);\n};\n\nconst Testeo = (() => {\n\tconst showError = (target = '', message = '', out = true) => {\n\t\tconst el = $(`[group-for='${target}']`);\n\t\tel.find('.form-control').addClass('invalid');\n\n\t\tif (out) {\n\t\t\tif (el.find('.validation-error')) el.find('.validation-error').remove();\n\t\t\tconst toggle = document.createElement('div');\n\t\t\tconst sel = $(toggle);\n\t\t\tsel.attr('class', 'validation-error');\n\t\t\tsel.html(`<span>${message}</span>`);\n\t\t\tel.append(sel);\n\t\t\tsetTimeout(() => sel.remove(), 6000);\n\t\t\tel.find('.form-control').on('focus', () => {\n\t\t\t\tsel.remove();\n\t\t\t\tel.find('.form-control').removeClass('invalid');\n\t\t\t});\n\t\t}\n\t\tsetTimeout(() => el.find('.form-control').removeClass('invalid'), 6000);\n\t\treturn message;\n\t};\n\n\tconst validate = (attr, target, regex, errorMessage, out = false) => {\n\t\tif (!regex.test(attr)) {\n\t\t\treturn showError(target, errorMessage, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst isPhone = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst telefonoRegex = /^([0-9]){7,10}$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\ttelefonoRegex,\n\t\t\t`El campo ${label} debe ser un valor v√°lido.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst isNumeric = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst numericoRegex = /^([0-9]+){0,20}$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\tnumericoRegex,\n\t\t\t`El campo ${label} debe ser un valor v√°lido.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst hasSpaces = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst espaciosRegex = /\\s/;\n\t\tif (espaciosRegex.test(attr)) {\n\t\t\treturn showError(target, `El campo ${label} no puede contener espacios.`, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst hasEmpty = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tif (attr === '' || attr === void 0 || attr === undefined || attr === null) {\n\t\t\treturn showError(target, `El campo ${label} no puede estar indefinido.`, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst isEmail = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst emailRegex = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\temailRegex,\n\t\t\t`La direcci√≥n de ${label} no es v√°lida.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst isIdentification = (transfer = {}) => {\n\t\tconst { attr, target, min = 1, max = 100, out = false, label = '' } = transfer;\n\n\t\tconst numericoRegex = /^([0-9]+){1,100}$/;\n\t\tif (!numericoRegex.test(attr)) {\n\t\t\treturn showError(target, `El campo ${label} debe ser un valor v√°lido.`, out);\n\t\t} else {\n\t\t\tconst express = new RegExp('^([0-9]+){' + min + ',' + max + '}', 'i');\n\t\t\tif (!express.test(attr)) {\n\t\t\t\treturn showError(\n\t\t\t\t\ttarget,\n\t\t\t\t\t`El campo ${label} debe ser un valor entre ${min} y ${max} d√≠gitos.`,\n\t\t\t\t\tout,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst maxSize = (transfer = {}) => {\n\t\tconst { attr, target, max = 225, out = false, label = '' } = transfer;\n\t\tif (!_.isUndefined(attr)) {\n\t\t\tif (attr.toString().length > max) {\n\t\t\t\treturn showError(\n\t\t\t\t\ttarget,\n\t\t\t\t\t`El campo ${label} no puede tener ${max} n√∫mero de caracteres.`,\n\t\t\t\t\tout,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst isDate = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\n\t\tconst __isDate = function (fecha) {\n\t\t\tconst regexFecha = /^\\d{4}-\\d{2}-\\d{2}$/;\n\n\t\t\tif (!fecha.match(regexFecha)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst fechaDividida = fecha.split('-');\n\t\t\tconst year = parseInt(fechaDividida[0], 10);\n\t\t\tconst month = parseInt(fechaDividida[1], 10);\n\t\t\tconst day = parseInt(fechaDividida[2], 10);\n\n\t\t\tif (month < 1 || month > 12) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (day < 1 || day > 31) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ((month === 4 || month === 6 || month === 9 || month === 11) && day === 31) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (month === 2) {\n\t\t\t\tconst esBisiesto = (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n\t\t\t\tif (day > 29 || (day === 29 && !esBisiesto)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tconst res = __isDate(attr);\n\t\tif (res) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn showError(\n\t\t\t\ttarget,\n\t\t\t\t`El campo ${label} debe ser un valor de fecha valido.`,\n\t\t\t\tout,\n\t\t\t);\n\t\t}\n\t};\n\n\treturn {\n\t\tespacio: hasSpaces,\n\t\tnumerico: isNumeric,\n\t\tvacio: hasEmpty,\n\t\temail: isEmail,\n\t\ttelefono: isPhone,\n\t\tidenti: isIdentification,\n\t\tdate: isDate,\n\t\tmax: maxSize,\n\t};\n})();\n\nconst langDataTable = {\n\tprocessing: 'Procesando...',\n\tlengthMenu: 'Mostrar _MENU_ resultados por pag√≠nas',\n\tzeroRecords: 'No se encontraron resultados',\n\tinfo: 'Mostrando pag√≠na _PAGE_ de _PAGES_.\\tTotal de _TOTAL_ registros.',\n\tinfoEmpty: 'No records available',\n\tinfoFiltered: '(filtered from _MAX_ total records)',\n\temptyTable: 'Ning√∫n dato disponible en esta tabla',\n\tsearch: 'Buscar',\n\tpaginate: {\n\t\tnext: 'siguiente',\n\t\tprevius: 'anterior',\n\t\tfirst: 'primero',\n\t\tlast: 'ultimo',\n\t},\n\tloadingRecords: 'Cargando...',\n\tbuttons: {\n\t\tcopy: 'Copiar',\n\t\tcolvis: 'Visibilidad',\n\t\tcollection: 'Colecci√≥n',\n\t\tcolvisRestore: 'Restaurar visibilidad',\n\t\tcopyKeys:\n\t\t\t'Presione ctrl o u2318 + C para copiar los datos de la tabla al portapapeles del sistema. <br /> <br /> Para cancelar, haga clic en este mensaje o presione escape.',\n\t\tcopySuccess: {\n\t\t\t1: 'Copiada 1 fila al portapapeles',\n\t\t\t_: 'Copiadas %d fila al portapapeles',\n\t\t},\n\t},\n};\n\nfunction handleFiles() {\n\tconst _el = document.querySelector(\"[data-toggle='upload']\");\n\tif (_el.files.length == 0) return false;\n\n\tconst test = /(\\.docx\\.doc|\\.pdf|\\.jpg|\\.png|\\.jpeg)$/i;\n\tconst fpath = _el.files[0]['name'];\n\tif (!test.exec(fpath)) {\n\t\tdocument.getElementById('name_archivo').textContent = '';\n\t\tdocument.getElementById('remover_archivo').setAttribute('disabled', true);\n\t\tdocument.getElementById('bt_hacer_cargue').setAttribute('disabled', true);\n\n\t\talert(\n\t\t\t'Please upload file having extensions .pdf, .docx, .doc, .png, .jpg, .jpeg only.',\n\t\t);\n\t\t_el.value = '';\n\t\treturn false;\n\t} else {\n\t\tif (_el.files && _el.files[0]) {\n\t\t\tconst _exp = fpath.split('_');\n\t\t\tfpath = _exp.join('\\r');\n\t\t\tdocument.getElementById('name_archivo').textContent = fpath;\n\t\t\tdocument.getElementById('remover_archivo').removeAttribute('disabled');\n\t\t\tdocument.getElementById('bt_hacer_cargue').removeAttribute('disabled');\n\t\t}\n\t}\n}\n\nconst eventsFormControl = (el) => {\n\tel.find('input.form-control').each(function () {\n\t\tif ($.trim(this.value).length == 0) {\n\t\t\t$(this).siblings('.control-label').removeClass('top');\n\t\t} else {\n\t\t\t$(this).siblings('.control-label').addClass('top');\n\t\t}\n\t});\n\n\tel.find('input.form-control').on('click', function () {\n\t\t$(this).siblings('.control-label').addClass('top');\n\t});\n\n\tel.find('label.control-label').on('click', function () {\n\t\tif ($(this).hasClass('top') === false) $(this).addClass('top');\n\t});\n\n\tel.find('input.form-control').focus(function () {\n\t\t$(this).siblings('.control-label').addClass('top');\n\t});\n\n\tel.find('input.form-control').blur(function () {\n\t\tif ($.trim(this.value).length == 0) {\n\t\t\t$(this).siblings('.control-label').removeClass('top');\n\t\t} else {\n\t\t\t$(this).siblings('.control-label').addClass('top');\n\t\t}\n\t});\n\n\treturn false;\n};\n\nexport {\n\thandleFiles,\n\tlangDataTable,\n\tTesteo,\n\tcapitalize,\n\tis_numeric,\n\tis_email,\n\tis_date,\n\tis_date_general,\n\teventsFormControl,\n};\n","import { $App } from '../App';\nimport { GestionAdjuntoService } from '../Componentes/Services/GestionAdjuntoService';\nimport {\n    DateComponent,\n    DialogComponent,\n    InputComponent,\n    OpenAddress,\n    RadioComponent,\n    SelectComponent,\n    TextComponent,\n} from '../Componentes/Views/ComponentsView';\nimport { LoadDocumentsView } from '../Componentes/Views/LoadDocumentsView';\nimport { SeguimientosView } from '../Componentes/Views/SeguimientosView';\nimport { SubHeaderView } from '../Componentes/Views/SubHeaderView';\nimport { is_numeric } from '../Core';\n\nexport class FormView extends Backbone.View {\n    #onRender = null;\n    App = null;\n\n    constructor(options = {}) {\n        super(options);\n        this.children = new Array();\n        this.gestionAdjuntoService = new GestionAdjuntoService();\n        this.region = options.region || null;\n        this.isNew = options.isNew || false;\n        this.template = '#tmp_create';\n        this.form = null;\n        this.selectores = {};\n        this.address = null;\n        this.subHeader = null;\n        this.viewDocuments = null;\n        _.extend(this, options);\n        this.#onRender = options.onRender || null;\n        this.App = options.App || $App;\n    }\n\n    render() {\n        const data = this.__serializeData();\n        const template = this.__compileTemplate();\n        this.$el.html(template(data));\n        this.form = this.$el.find(this.region.form);\n        this.__initSubHeader();\n        if (this.#onRender) this.#onRender(this.$el);\n        return this;\n    }\n\n    enviarRadicado(event) {\n        event.preventDefault();\n        this.__enviarCaja();\n    }\n\n    get className() {\n        return 'page-container';\n    }\n\n    __serializeData() {\n        if (_.isNull(this.model) || _.isUndefined(this.model)) {\n            return this.model;\n        } else {\n            return this.model.toJSON();\n        }\n    }\n\n    __initSubHeader() {\n        if (this.subHeader) this.subHeader.remove();\n        this.subHeader = new SubHeaderView({\n            model: this.model,\n            collection: [\n                {\n                    id: 'closeForm',\n                    hidden: false,\n                    label: 'Salir',\n                    icon: 'fa fa-times text-warning',\n                    active: false,\n                    tab: '',\n                },\n                {\n                    id: 'seguimiento-tab',\n                    hidden: this.model.get('id') && this.model.get('estado') !== 'T' ? false : true,\n                    label: 'Seguimiento',\n                    icon: 'fa fas fa-eye text-info',\n                    active: false,\n                    tab: 'seguimiento',\n                },\n                {\n                    id: 'datos_solicitud_tab',\n                    hidden: false,\n                    label: 'Ficha Principal Registro',\n                    icon: 'fa fas fa-edit text-yellow',\n                    active: true,\n                    tab: 'datos_solicitud',\n                },\n                {\n                    id: 'documentos_adjuntos_tab',\n                    hidden: this.model.get('id') ? false : true,\n                    label: 'Documentos Adjuntar',\n                    icon: 'fa fas fa-file text-purple',\n                    active: false,\n                    tab: 'documentos_adjuntos',\n                },\n                {\n                    id: 'enviarCaja',\n                    hidden: this.model.get('id') && (this.model.get('estado') === 'D' || this.model.get('estado') === 'T') ? false : true,\n                    label: 'Enviar Radicado',\n                    icon: 'fa fas fa-upload text-success',\n                    active: false,\n                    tab: 'enviar_radicado',\n                },\n            ],\n        });\n\n        this.listenTo(this.subHeader, 'show:documentos', this.__renderDocumentos);\n        this.listenTo(this.subHeader, 'show:seguimiento', this.__renderSeguimiento);\n        this.listenTo(this.subHeader, 'show:enviar', this.__enviarCaja);\n        this.App.layout.getRegion('subheader').show(this.subHeader);\n    }\n\n    isNumber(e) {\n        if ($(e.currentTarget).val() == '') return;\n        if (!is_numeric($(e.currentTarget).val())) return $(e.currentTarget).val('');\n    }\n\n    __compileTemplate() {\n        return _.template($(this.template).html());\n    }\n\n    getInput(selector) {\n        return this.$el.find(selector).val();\n    }\n\n    setInput(name, value) {\n        return this.$el.find(`[name='${name}']`).val(value);\n    }\n\n    serializeModel(entity) {\n        const dataArray = this.form.serializeArray();\n        _.each(dataArray, (item) => entity.set(item.name, item.value));\n        return entity;\n    }\n\n    addComponent(model = {}) {\n        const collection = this.App.Collections.formParams;\n        let view;\n        if (_.size(this.children) > 0) {\n            if (_.indexOf(this.children, model.get('cid')) != -1) {\n                view = this.children[model.get('cid')];\n            }\n        }\n        if (!view) {\n            switch (model.get('type')) {\n                case 'select':\n                    view = new SelectComponent({ model, collection });\n                    break;\n                case 'input':\n                    view = new InputComponent({ model });\n                    break;\n                case 'radio':\n                    view = new RadioComponent({ model });\n                    break;\n                case 'date':\n                    view = new DateComponent({ model });\n                    break;\n                case 'text':\n                    view = new TextComponent({ model });\n                    break;\n                case 'dialog':\n                    view = new DialogComponent({ model, collection });\n                    break;\n                default:\n                    break;\n            }\n            this.children[model.get('cid')] = view;\n        }\n        view.render();\n        return view;\n    }\n\n    openAddress(e) {\n        const target = this.$el.find(e.currentTarget);\n        const name = target.attr('data-name');\n\n        if (this.address) {\n            const view = new OpenAddress({\n                collection: this.address,\n                model: { name: name },\n            });\n            $('#show_modal_generic').html(view.render().el);\n        } else {\n            this.App.trigger('syncro', {\n                url: this.App.kumbiaURL('mercurio/principal/listaAdress'),\n                data: {},\n                silent: true,\n                callback: (response) => {\n                    if (response) {\n                        if (response.success) {\n                            this.address = response.data;\n                            const view = new OpenAddress({\n                                collection: response.data,\n                                model: { name: name },\n                            });\n                            $('#show_modal_generic').html(view.render().el);\n                        }\n                    }\n                },\n            });\n        }\n    }\n\n    __renderDocumentos() {\n        this.App.trigger('syncro', {\n            url: this.App.url('mercurio/consultaDocumentos/' + this.model.get('id')),\n            data: {},\n            callback: (response) => {\n                if (response.success) {\n                    if (this.viewDocuments != null) this.viewDocuments.remove();\n\n                    this.viewDocuments = new LoadDocumentsView({\n                        model: this.model,\n                        collection: [response.data],\n                    });\n\n                    this.listenTo(this.viewDocuments, 'file:trash', this.gestionAdjuntoService.borrarArchivo);\n                    this.listenTo(this.viewDocuments, 'file:save', this.gestionAdjuntoService.guardarArchivo);\n                    this.listenTo(this.viewDocuments, 'file:prodoc', this.gestionAdjuntoService.processDocument);\n                    //this.listenTo(this.viewDocuments, 'file:firma', this.__findFirmas);\n                    this.listenTo(this.viewDocuments, 'file:reload', this.__renderDocumentos);\n\n                    this.$el.find('#documentos_adjuntos').html(this.viewDocuments.render().el);\n                } else {\n                    this.App.trigger('alert:error', { message: response.msj });\n                }\n            },\n        });\n    }\n\n    __renderSeguimiento() {\n        this.App.trigger('syncro', {\n            url: this.App.url('mercurio/seguimiento/' + this.model.get('id')),\n            data: {},\n            callback: (response) => {\n                if (response.success) {\n                    const view = new SeguimientosView({\n                        model: this.model,\n                        collection: [\n                            {\n                                campos_disponibles: response.data.campos_disponibles,\n                                estados_detalles: response.data.estados_detalles,\n                                seguimientos: response.data.seguimientos,\n                            },\n                        ],\n                    });\n                    this.$el.find('#seguimiento').html(view.render().el);\n                } else {\n                    this.App.trigger('alert:error', { message: response.msj });\n                }\n            },\n        });\n    }\n\n    __enviarCaja() {\n        this.App.trigger('confirma', {\n            message: '¬øEst√° seguro de env√≠ar para verificaci√≥n.?',\n            callback: (status) => {\n                if (status) {\n                    this.trigger('form:send', {\n                        model: this.model,\n                        callback: (response) => {\n                            if (response.success) {\n                                this.remove();\n                                this.App.router.navigate('list', { trigger: true });\n                            }\n                        },\n                    });\n                }\n            },\n        });\n    }\n\n    cancel(e) {\n        e.preventDefault();\n        this.App.router.navigate('list', { trigger: true });\n    }\n\n    actualizaForm(silent = void 0) {\n        _.each(this.model.toJSON(), (valor, key) => {\n            if (_.isEmpty(valor) == true || _.isUndefined(valor) == true) {\n            } else {\n                let _type = this.$el.find(`[name='${key}']`).attr('type');\n                if (_type === 'radio' || _type === 'checkbox') {\n                } else {\n                    this.setInput(key, valor);\n                    this.$el.find(`[for=\"${key}\"]`).addClass('top');\n                }\n            }\n        });\n\n        this.selectores.trigger('change');\n        this.form.valid();\n        if (silent == void 0) {\n            setTimeout(() => {\n                this.App.trigger('noty:info', 'El formulario se actualizo de forma correcta');\n            }, 700);\n        }\n    }\n\n    remove() {\n        if (this.subHeader) this.subHeader.remove();\n        if (this.viewDocuments) this.viewDocuments.remove();\n        this.stopListening();\n        Backbone.View.prototype.remove.call(this);\n    }\n}\n","import { Testeo } from '@/Core';\n\nconst RulesValidator = (rules = [], attr = {}) => {\n\tconst error = new Array();\n\t_.each(rules, (rule, item) => {\n\t\tif (rule !== undefined) {\n\t\t\tconst {\n\t\t\t\trequired = false,\n\t\t\t\tnumber = undefined,\n\t\t\t\temail = undefined,\n\t\t\t\tdate = undefined,\n\t\t\t\tmaxlength = undefined,\n\t\t\t\tminlength = undefined,\n\t\t\t\trangelength = undefined,\n\t\t\t\trange = undefined,\n\t\t\t} = rule;\n\n\t\t\tlet err = undefined;\n\t\t\tif (!!required) {\n\t\t\t\terr = Testeo.vacio({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(email)) {\n\t\t\t\terr = Testeo.email({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(number)) {\n\t\t\t\terr = Testeo.numerico({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(date)) {\n\t\t\t\terr = Testeo.date({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && _.isUndefined(maxlength) && !_.isUndefined(minlength)) {\n\t\t\t\terr = Testeo.max({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: minlength,\n\t\t\t\t\tmax: maxlength,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(rangelength)) {\n\t\t\t\terr = Testeo.max({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: rangelength[0],\n\t\t\t\t\tmax: rangelength[1],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(range)) {\n\t\t\t\terr = Testeo.identi({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: range[0],\n\t\t\t\t\tmax: range[1],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (err && err !== undefined) error.push(err);\n\t\t}\n\t});\n\n\treturn !!_.isEmpty(error) ? null : error;\n};\n\nexport { RulesValidator };\n","import { RulesValidator } from '@/Componentes/Services/RulesValidator';\n\nclass TrabajadorModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'id';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tid: null,\n\t\t\tnit: 0,\n\t\t\trazsoc: '',\n\t\t\tcedtra: void 0,\n\t\t\ttipdoc: void 0,\n\t\t\tpriape: '',\n\t\t\tprinom: '',\n\t\t\tfecnac: '',\n\t\t\tciunac: '',\n\t\t\tsexo: '',\n\t\t\testciv: '',\n\t\t\tcabhog: '',\n\t\t\tdireccion: '',\n\t\t\tdirlab: '',\n\t\t\ttelefono: '',\n\t\t\tcelular: '',\n\t\t\temail: void 0,\n\t\t\tfecing: void 0,\n\t\t\tsalario: 0,\n\t\t\tcaptra: '',\n\t\t\ttipdis: '',\n\t\t\tnivedu: '',\n\t\t\trural: '',\n\t\t\thoras: 0,\n\t\t\ttipcon: '',\n\t\t\tvivienda: '',\n\t\t\ttipafi: '',\n\t\t\tcargo: '',\n\t\t\tautoriza: '',\n\t\t\ttrasin: '',\n\t\t\ttipjor: '',\n\t\t\tcomision: '',\n\t\t\truralt: '',\n\t\t\torisex: '',\n\t\t\tfacvul: '',\n\t\t\tperetn: '',\n\t\t\tcodsuc: void 0,\n\t\t\ttippag: void 0,\n\t\t\totra_empresa: '',\n\t\t\testado: void 0,\n\t\t};\n\t}\n\n\tvalidate(attr = {}) {\n\t\treturn RulesValidator(TrabajadorModel.Rules.rules, attr);\n\t}\n\n\tstatic Rules = {\n\t\trules: {\n\t\t\tnit: { required: true, rangelength: [5, 18] },\n\t\t\trazsoc: { required: true, minlength: 5 },\n\t\t\tcedtra: { required: true, rangelength: [5, 18] },\n\t\t\ttipdoc: { required: true },\n\t\t\tpriape: { required: true, minlength: 4 },\n\t\t\tprinom: { required: true, minlength: 4 },\n\t\t\tfecnac: { required: true },\n\t\t\tciunac: { required: true, minlength: 4 },\n\t\t\tsexo: { required: true },\n\t\t\testciv: { required: true },\n\t\t\tcabhog: { required: true },\n\t\t\tdireccion: { required: true, minlength: 4 },\n\t\t\tdirlab: { required: true },\n\t\t\ttelefono: { required: true, minlength: 7, rangelength: [7, 10] },\n\t\t\tcelular: { required: true, minlength: 10, number: true },\n\t\t\temail: { required: true, email: true },\n\t\t\tfecing: { required: true, date: true },\n\t\t\tsalario: { required: true },\n\t\t\tcaptra: { required: true },\n\t\t\ttipdis: { required: true },\n\t\t\tnivedu: { required: true },\n\t\t\trural: { required: true, minlength: 1 },\n\t\t\thoras: { required: true, minlength: 2 },\n\t\t\ttipcon: { required: true },\n\t\t\tvivienda: { required: true, minlength: 1 },\n\t\t\ttipafi: { required: true, minlength: 1 },\n\t\t\tcargo: { required: true, minlength: 1 },\n\t\t\tautoriza: { required: true, minlength: 1 },\n\t\t\ttrasin: { required: true },\n\t\t\ttipjor: { required: true, minlength: 1 },\n\t\t\tcomision: { required: true },\n\t\t\truralt: { required: true },\n\t\t\torisex: { required: true, minlength: 1 },\n\t\t\tfacvul: { required: true, minlength: 1 },\n\t\t\tperetn: { required: true, minlength: 1 },\n\t\t\tcodsuc: { required: true, minlength: 1 },\n\t\t\totra_empresa: { required: false },\n\t\t},\n\t\tmessages: {\n\t\t\tnit: { required: 'Se requiere de nit' },\n\t\t\trazsoc: { required: 'Se requiere de razon social' },\n\t\t\tcedtra: { required: 'Se requiere cedula trabajador' },\n\t\t\ttipdoc: { required: 'Se requiere de tipo documento' },\n\t\t\tpriape: { required: 'Se requiere de primer apellido' },\n\t\t\tprinom: { required: 'Se requiere de primer nombre' },\n\t\t\tfecnac: { required: 'Se requiere de fecha nacimiento' },\n\t\t\tciunac: { required: 'Se requiere de ciunac' },\n\t\t\tsexo: { required: 'Se requiere de sexo' },\n\t\t\testciv: { required: 'Se requiere de estado civil' },\n\t\t\tcabhog: { required: 'Se requiere de cabeza de hogar' },\n\t\t\tdireccion: { required: 'Se requiere de direcci√≥n' },\n\t\t\tdirlab: { required: 'Se requiere de direcci√≥n laboral' },\n\t\t\ttelefono: { required: 'Se requiere de t√©lefono' },\n\t\t\tcelular: { required: 'Se requiere de celular' },\n\t\t\temail: { required: 'Se requiere de email' },\n\t\t\tfecing: { required: 'Se requiere de fecha ingreso' },\n\t\t\tsalario: { required: 'Se requiere de salario' },\n\t\t\tcaptra: { required: 'Se requiere de capacidad trabajar' },\n\t\t\ttipdis: { required: 'Se requiere de tipo discapacidad' },\n\t\t\tnivedu: { required: 'Se requiere de nivel educativo' },\n\t\t\trural: { required: 'Se requiere de rural' },\n\t\t\thoras: { required: 'Se requiere de horas' },\n\t\t\ttipcon: { required: 'Se requiere de tipo contrato' },\n\t\t\tvivienda: { required: 'Se requiere de vivienda' },\n\t\t\ttipafi: { required: 'Se requiere de tipo afiliaci√≥n' },\n\t\t\tcargo: { required: 'Se requiere de cargo' },\n\t\t\tautoriza: { required: 'Se requiere de autoriza' },\n\t\t\ttrasin: { required: 'Se requiere de trasin' },\n\t\t\ttipjor: { required: 'Se requiere de tipo jornada' },\n\t\t\tcomision: { required: 'Se requiere de comision' },\n\t\t\truralt: { required: 'Se requiere de rural' },\n\t\t\torisex: { required: 'Se requiere de orientaci√≥n sexual' },\n\t\t\tfacvul: { required: 'Se requiere de factor vulnerabilidad' },\n\t\t\tperetn: { required: 'Se requiere de pertenencia etnica' },\n\t\t\tcodsuc: { required: 'Se requiere de c√≥digo sucursal' },\n\t\t\totra_empresa: { required: 'Se requiere de otra empresa' },\n\t\t},\n\t};\n\n\tstatic changeRuleProperty(transfer = {}) {\n\t\tconst { rule, prop, value } = transfer;\n\t\tTrabajadorModel.Rules.rules[rule][prop] = value;\n\t}\n\n\tstatic changeRulesProperty(transfer = []) {\n\t\t_.each(transfer, (row) => TrabajadorModel.changeRuleProperty(row));\n\t}\n}\n\nexport { TrabajadorModel };\n","import { $App } from '../../../App';\nimport { ComponentModel } from '../../../Componentes/Models/ComponentModel';\nimport { FormView } from '../../FormView';\nimport { TrabajadorModel } from '../models/TrabajadorModel';\nimport { eventsFormControl } from '../../../Core';\n\nclass FormTrabajadorView extends FormView {\n\t#choiceComponents = null;\n\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tonRender: (el={}) => this.#afterRender(el)\n\t\t});\n\t\tthis.viewComponents = [];\n\t\tthis.#choiceComponents = [];\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'click #guardar_ficha': 'saveFormData',\n\t\t\t'focusout #telefono, #digver': 'isNumber',\n\t\t\t'focusout #cedtra': 'validePk',\n\t\t\t'change #tippag': 'changeTippag',\n\t\t\t'change #labora_otra_empresa': 'changeOtraEmpresa',\n\t\t\t'click #btEnviarRadicado': 'enviarRadicado',\n\t\t\t'click [data-toggle=\"address\"]': 'openAddress',\n\t\t\t'click #cancel': 'cancel',\n\t\t\t'blur [data-toggle=\"is_numeric\"]': 'isNumber',\n\t\t};\n\t}\n\n\t#afterRender($el={}) {\n\t\t_.each(this.collection, (component = { name: '', type: undefined }) => {\n\t\t\tif (component.name == 'autoriza') component.type = 'radio';\n\t\t\tconst view = this.addComponent(\n\t\t\t\tnew ComponentModel({\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\treadonly: false,\n\t\t\t\t\torder: 0,\n\t\t\t\t\ttarget: 1,\n\t\t\t\t\tsearchType: 'local',\n\t\t\t\t\t...component,\n\t\t\t\t\tvalor: this.model.get(component.name),\n\t\t\t\t}),\n\t\t\t);\n\n\t\t\tthis.viewComponents.push(view);\n\t\t\t$el.find('#component_' + component.name).html(view.$el);\n\t\t});\n\n\t\tthis.form.validate({\n\t\t\t...TrabajadorModel.Rules,\n\t\t\thighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-valid').addClass('is-invalid');\n\t\t\t},\n\t\t\tunhighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-invalid').addClass('is-valid');\n\t\t\t},\n\t\t});\n\n\t\tthis.selectores = $el.find(\n\t\t\t'#tipdoc, #tipsoc, #ciupri, #codzon, #codciu, #codact, #coddoc, #ciunac, #cargo, #pub_indigena_id, #resguardo_id',\n\t\t);\n\n\t\tif (this.model.get('id') !== null) {\n\t\t\t_.each(this.model.toJSON(), (valor, key) => {\n\t\t\t\tif (!(_.isEmpty(valor) == true || _.isUndefined(valor) == true)) {\n\t\t\t\t\t$el.find(`[name=\"${key}\"]`).val(valor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('#nit').removeAttr('disabled');\n\t\t\t$('#razsoc').removeAttr('disabled');\n\n\t\t\tif (this.model.get('tippag') == 'A' || this.model.get('tippag') == 'D') {\n\t\t\t\t$el.find('#show_numcue').removeClass('d-none');\n\t\t\t\t$el.find('#show_codban').removeClass('d-none');\n\t\t\t\t$el.find('#show_tipcue').removeClass('d-none');\n\t\t\t}\n\n\t\t\tif (this.model.get('otra_empresa') == 'N') {\n\t\t\t\t$el.find('#show_otra_empresa').removeClass('d-none');\n\t\t\t}\n\n\t\t\tif (this.model.isValid() === false) {\n\t\t\t\t$App.trigger('alert:warning', {\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t'Algunos de los campos son requeridos: ' +\n\t\t\t\t\t\tthis.model.validationError.join(' '),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsetTimeout(() => this.form.valid(), 300);\n\t\t\tsetTimeout(() => $('label.error').text(''), 3000);\n\n\t\t\t$.each(this.selectores, (index, element) => {\n\t\t\t\tthis.#choiceComponents[element.name] = new Choices(element);\n\t\t\t\tconst name = this.model.get(element.name);\n\t\t\t\tif (name) this.#choiceComponents[element.name].setChoiceByValue(name);\n\t\t\t});\n\n\t\t} else {\n\t\t\t$.each(this.selectores, (index, element) => this.#choiceComponents[element.name] = new Choices(element));\n\t\t}\n\n\t\teventsFormControl($el);\n\n\t\tflatpickr($el.find('#fecnac, #fecing'), {\n\t\t\tenableTime: false,\n\t\t\tdateFormat: 'Y-m-d',\n\t\t\tlocale: Spanish,\n\t\t});\n\t}\n\n\tchangeOtraEmpresa(e) {\n\t\tlet target = this.$el.find(e.currentTarget).val();\n\t\tif (target == 'S') {\n\t\t\tthis.form.find('#show_otra_empresa').removeClass('d-none');\n\t\t} else {\n\t\t\tthis.$el.find('#show_otra_empresa').addClass('d-none');\n\t\t}\n\t}\n\n\tchangeTippag(e) {\n\t\tlet target = this.$el.find(e.currentTarget).val();\n\t\tif (target == 'A' || target == 'D') {\n\t\t\tthis.$el.find('#show_numcue').removeClass('d-none');\n\t\t\tthis.$el.find('#show_codban').removeClass('d-none');\n\t\t\tthis.$el.find('#show_tipcue').removeClass('d-none');\n\t\t} else {\n\t\t\tthis.$el.find('#show_numcue').addClass('d-none');\n\t\t\tthis.$el.find('#show_codban').addClass('d-none');\n\t\t\tthis.$el.find('#show_tipcue').addClass('d-none');\n\t\t}\n\t}\n\n\tserializeData() {\n\t\tlet data;\n\t\tif (this.model.entity instanceof TrabajadorModel) {\n\t\t\tdata = this.model.entity.toJSON();\n\t\t}\n\t\treturn data;\n\t}\n\n\tsaveFormData(event) {\n\t\tevent.preventDefault();\n\t\tvar target = this.$el.find(event.currentTarget);\n\t\ttarget.attr('disabled', 'true');\n\t\tthis.$el.find('#nit').removeAttr('disabled');\n\n\t\tlet _err = 0;\n\t\tif (this.form.valid() == false) _err++;\n\t\tif (_err > 0) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Se requiere de resolver los campos requeridos para continuar.',\n\t\t\t});\n\t\t\tsetTimeout(() => $('label.error').text(''), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst entity = this.serializeModel(new TrabajadorModel());\n\t\tconst autoriza = this.$el.find(\"[name='autoriza']\")[0].checked ? 'S' : 'N';\n\t\tentity.set('autoriza', autoriza);\n\n\t\tif (entity.isValid() === false) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage:\n\t\t\t\t\t'Algunos de los campos son requeridos: ' + entity.validationError.join(' '),\n\t\t\t});\n\t\t\tsetTimeout(() => $('label.error').text(''), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\t$App.trigger('confirma', {\n\t\t\tmessage: 'Confirma que desea guardar los datos del formulario.',\n\t\t\tcallback: (status) => {\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.trigger('form:save', {\n\t\t\t\t\t\tentity: entity,\n\t\t\t\t\t\tisNew: this.isNew,\n\t\t\t\t\t\tcallback: (response) => {\n\t\t\t\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\t\t\t\tthis.$el.find('#nit').attr('disabled', 'true');\n\n\t\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t\t\t$App.trigger('alert:success', { message: response.msj });\n\t\t\t\t\t\t\t\t\tthis.model.set({ id: parseInt(response.data.id) });\n\t\t\t\t\t\t\t\t\tif (this.isNew === true) {\n\t\t\t\t\t\t\t\t\t\t$App.router.navigate('proceso/' + this.model.get('id'), {\n\t\t\t\t\t\t\t\t\t\t\ttrigger: true,\n\t\t\t\t\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.__renderDocumentos();\n\t\t\t\t\t\t\t\t\t\tconst _tab = new bootstrap.Tab('a[href=\"#documentos_adjuntos\"]');\n\t\t\t\t\t\t\t\t\t\t_tab.show();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tvalidePk(e) {\n\t\te.preventDefault();\n\t\tif (!this.isNew) return false;\n\n\t\tlet cedtra = this.$el.find(e.currentTarget).val();\n\t\tif (cedtra === '') return false;\n\n\t\tthis.trigger('form:find', {\n\t\t\tdata: {\n\t\t\t\tcedtra: cedtra,\n\t\t\t},\n\t\t\tcallback: (solicitud) => {\n\t\t\t\tif (solicitud) {\n\t\t\t\t\t$App.trigger('confirma', {\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t'El sistema identifica informaci√≥n del afiliado en el sistema central de la Caja. ¬øDesea que se actualice el presente formulario con los datos existentes?.',\n\t\t\t\t\t\tcallback: (status) => {\n\t\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\t\tsolicitud.estado = 'T';\n\t\t\t\t\t\t\t\tsolicitud.fecsol = null;\n\t\t\t\t\t\t\t\tthis.model.set(solicitud);\n\t\t\t\t\t\t\t\tthis.actualizaForm();\n\n\t\t\t\t\t\t\t\t$.each(this.selectores, (index, element) => {\n\t\t\t\t\t\t\t\t\tconst name = this.model.get(element.name);\n\t\t\t\t\t\t\t\t\tif (name) this.#choiceComponents[element.name].setChoiceByValue(name);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove() {\n\t\tif (_.size(this.viewComponents) > 0){\n\t\t\t_.each(this.viewComponents, (view) => view.remove());\n\t\t}\n\t\t$.each(this.#choiceComponents, (choice) => choice.destroy());\n\t\tFormView.prototype.remove.call(this, {});\n\t}\n}\n\nexport { FormTrabajadorView };\n","import { $App } from '@/App';\nimport { langDataTable } from '@/Core';\n\nclass TrabajadoresView extends Backbone.View {\n    constructor(options = {}) {\n        super(options);\n    }\n\n    get className() {\n        return 'table-responsive-md';\n    }\n\n    initialize() {\n        this.template = document.getElementById('tmp_table').innerHTML;\n        this.tableView = void 0;\n    }\n\n    render() {\n        const template = _.template(this.template);\n        this.$el.html(template());\n\n        this.trigger('load:table', {\n            url: this.model['tipo'] ? 'trabajador/renderTable/' + this.model['tipo'] : 'trabajador/renderTable',\n            callback: (html) => {\n                this.$el.find('#consulta').html(html);\n                this.__initTable();\n                this.__setStyles();\n            },\n            silent: false,\n        });\n        return this;\n    }\n\n    get events() {\n        return {\n            \"click [data-toggle='event-proceso']\": 'procesoPendiente',\n            \"click [data-toggle='event-cuenta']\": 'cambioCuenta',\n            \"click [data-toggle='event-detalle']\": 'procesoPendiente',\n            \"click [data-toggle='cancel-solicitud']\": 'cancelarSolicitud',\n        };\n    }\n\n    procesoPendiente(e) {\n        const id = this.$el.find(e.currentTarget).attr('data-cid');\n        this.remove();\n        $App.router.navigate('proceso/' + id, { trigger: true });\n    }\n\n    cambioCuenta(event) {\n        const target = $(event.currentTarget);\n        $App.trigger('confirma', {\n            message:\n                'Se requiere de confirmar que est√°s de acuerdo en el cambio de cuenta para administrar la empresa seleccionada. Esta opci√≥n le permitir√° afiliar trabajadores, c√≥nyuges y beneficiarios',\n            callback: (status) => {\n                if (status) {\n                    const _url = $App.kumbiaURL('mercurio/' + target.attr('data-href'));\n                    window.location.href = _url;\n                }\n            },\n        });\n    }\n\n    __setStyles() {\n        $('[type=\"search\"]').addClass('row form-control');\n        $('[type=\"search\"]').css('display', 'inline-block');\n        $('[type=\"search\"]').css('width', '220px');\n    }\n\n    __initTable() {\n        this.tableView = new DataTable('#tb_trabajadores', {\n            paging: true,\n            ordering: false,\n            pageLength: 10,\n            pagingType: 'numbers',\n            info: true,\n            searching: true,\n            columnDefs: [\n                {\n                    targets: 0,\n                    width: '5%',\n                },\n                {\n                    targets: 1,\n                    width: '10%',\n                },\n                {\n                    targets: 2,\n                    width: '30%',\n                },\n                {\n                    targets: 3,\n                    width: '10%',\n                },\n                {\n                    targets: 4,\n                    width: '30%',\n                },\n                {\n                    targets: 5,\n                    width: '20%',\n                },\n            ],\n            order: [[0, 'desc']],\n            language: langDataTable,\n        });\n    }\n\n    cancelarSolicitud(e) {\n        e.preventDefault();\n        const id = this.$el.find(e.currentTarget).attr('data-cid');\n        this.trigger('remove:solicitud', {\n            id: id,\n            callback: (res) => {\n                if (res) Backbone.history.loadUrl();\n            },\n        });\n    }\n\n    remove() {\n        console.log('OK remove');\n        this.stopListening();\n        Backbone.View.prototype.remove.call(this);\n    }\n}\n\nexport { TrabajadoresView };\n","import { $App } from '@/App';\nimport { ControllerRequest } from '@/Mercurio/ControllerRequest';\nimport { FormTrabajadorView } from './views/FormTrabajadorView';\nimport { TrabajadoresView } from './views/TrabajadoresView';\nimport { TrabajadorModel } from './models/TrabajadorModel';\n\nclass ControllerTrabajadores extends ControllerRequest {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tEntityModel: TrabajadorModel,\n\t\t\tTableView: TrabajadoresView,\n\t\t\tFormRequest: FormTrabajadorView,\n\t\t\ttipo: 'T',\n\t\t\theaderOptions: {\n\t\t\t\testado: '',\n\t\t\t\ttipo: 'T',\n\t\t\t\turl_nueva: $App.url('nueva'),\n\t\t\t\tbreadcrumb_menu: 'Crear solicitud',\n\t\t\t\ttitulo: 'Afiliaci√≥n trabajadores',\n\t\t\t\turl_masivo: null,\n\t\t\t\tisNew: null,\n\t\t\t\tcreate: 'enabled',\n\t\t\t},\n\t\t});\n\n\t\tif (this.services) _.extend(this, this.services);\n\t\tthis.on('form:cancel', this.destroy);\n\t\tthis.on('form:digit', this.afiService.digitVer);\n\t\tthis.on('params', this.afiService.paramsServer);\n\t\t$App.Collections.formParams = null;\n\t}\n}\n\nexport { ControllerTrabajadores };\n","import { $App } from '@/App';\nimport { AfiliationRouter } from '@/Componentes/Routers/AfiliationRouter';\nimport { AfiliationService } from '@/Componentes/Services/AfiliationService';\nimport { ControllerTrabajadores } from './ControllerTrabajadores';\n\nclass RouterTrabajadores extends AfiliationRouter {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tcontroller: $App.startSubApplication(\n\t\t\t\tControllerTrabajadores,\n\t\t\t\t{\n\t\t\t\t\tname: 'afiService',\n\t\t\t\t\tinyectar: AfiliationService,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tform: '#formRequest',\n\t\t\t\t\tcontent: '#boneLayout',\n\t\t\t\t},\n\t\t\t),\n\t\t});\n\t}\n}\n\nexport { RouterTrabajadores };\n","import { $App } from '@/App';\nimport { RouterTrabajadores } from './RouterTrabajadores';\n\n$(() => {\n    $App.startApp(RouterTrabajadores, 'list', '#boneLayout');\n});\n"],"names":["_currentView","_currentViews","_$el","Region","options","__privateAdd","view","el","loading","status","element","loader","template","out","CSRF","$Kumbia","$App","RouterModule","ruta","type","message","transfer","title","timer","timeout","text","icon","SubApplication","__services","services","ser","callback","result","url","data","silent","csrf","xhr","response","err","keys","targetModal","event","method","controller","filename","link","formData","AfiliationRouter","tipo","id","ModelView","__publicField","renderedHtml","_el","selector","val","tag","key","HeaderView","AfiliationService","model","estado_detalle","_data","nit","solicitud","entity","Layout","regionDefinitions","__selector","name","$el","regionName","region","LayoutView","valor","e","target","ControllerRequest","resources","item","extendStatics","d","b","p","__extends","__","__assign","s","i","n","__spreadArray","to","from","pack","l","ar","ActionType","EventType","KeyCodeMap","ObjectsInConfig","PassedElementTypes","addChoice","choice","removeChoice","filterChoices","results","activateChoices","active","addGroup","group","addItem","removeItem$1","highlightItem","highlighted","getRandomNumber","min","max","generateChars","length","generateId","prefix","getAdjacentEl","startEl","direction","prop","sibling","isScrolledIntoView","parent","isVisible","sanitise","value","strToEl","tmpEl","str","firstChild","resolveNoticeFunction","fn","resolveStringFunction","unwrapStringForRaw","unwrapStringForEscaped","escapeForTemplate","allowHTML","setElementHtml","allowHtml","html","sortByAlpha","_a","_b","_c","label","value2","_d","label2","sortByRank","a","dispatchEvent","customArgs","diff","aKeys","bKeys","getClassNames","ClassNames","getClassNamesSelector","option","addClassesToElement","className","removeClassesFromElement","parseCustomProperties","customProperties","updateClassList","add","remove","itemEl","Dropdown","classNames","Container","position","dropdownPos","dropdownHeight","shouldFlip","activeDescendantID","parentNode","Input","preventPaste","placeholder","setWidth","SCROLLING_SPEED","List","node","child","_this","listHeight","listScrollPosition","elementHeight","elementPos","destination","scrollPos","strength","easing","distance","choiceListScrollTop","continueAnimation","WrappedElement","origStyle","eventType","WrappedInput","_super","coerceBool","arg","defaultValue","stringToHtmlClass","input","mapInputToChoice","allowGroup","allowRawString","sanitisedValue","userValue","result_1","groupOrChoice","choices","result_2","isHtmlInputElement","isHtmlSelectElement","isHtmlOption","isHtmlOptgroup","WrappedSelect","extractPlaceholder","fragment","obj","optgroup","DEFAULT_CLASSNAMES","DEFAULT_CONFIG","maxItemCount","value1","removeItem","items","action","context","state","update","select","groups","scoreLookup_1","reducers","Store","init","changes","onChange","hasChanges","stateUpdate","func","changeSet_1","isActive","hasActiveOptions","NoticeTypes","_defineProperty","r","t","_toPropertyKey","ownKeys","o","_objectSpread2","_toPrimitive","isArray","getTag","baseToString","toString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","totalWeight","createKey","keyId","path","src","weight","getFn","createKeyPath","createKeyId","get","list","arr","deepGet","index","len","MatchOptions","BasicOptions","FuzzyOptions","AdvancedOptions","Config","SPACE","norm","mantissa","cache","m","numTokens","FuseIndex","fieldNormWeight","docs","records","idx","doc","docIndex","record","keyIndex","subRecords","stack","nestedArrIndex","subRecord","k","createIndex","myIndex","parseIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","ignoreLocation","accuracy","proximity","convertMaskToIndices","matchmask","minMatchCharLength","indices","start","end","match","MAX_BITS","search","patternAlphabet","location","threshold","findAllMatches","includeMatches","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","score","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","createPatternAlphabet","char","BitapSearch","isCaseSensitive","addChunk","startIndex","remainder","allIndices","totalScore","hasMatches","alphabet","isMatch","BaseMatch","getMatch","exp","matches","ExactMatch","InverseExactMatch","PrefixExactMatch","InversePrefixExactMatch","SuffixExactMatch","InverseSuffixExactMatch","FuzzyMatch","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","query","queryItem","found","searcher","token","MultiMatchSet","ExtendedSearch","_","numMatches","qLen","pLen","registeredSearchers","register","args","createSearcher","searcherClass","LogicalOperator","KeyType","isExpression","isPath","isLeaf","convertToExplicit","parse","auto","next","isQueryPath","computeScore","ignoreFieldNorm","transformMatches","transformScore","format","includeScore","transformers","transformer","Fuse","predicate","limit","shouldSort","sortFn","expression","evaluate","res","resultMap","expResults","SearchByFuse","config","needle","getSearcher","isEmptyObject","assignCustomProperties","withCustomProperties","dataset","labelClass","labelDescription","addAriaLabel","docRoot","templates","dir","isSelectElement","isSelectOneElement","searchEnabled","passedElementType","labelId","containerOuter","div","containerInner","listSingle","listItems","removeItemButton","removeItemButtonAlignLeft","removeItemIconText","removeItemLabelText","button","highlightedState","itemSelectable","rawValue","spanLabel","removeButton","REMOVE_ITEM_LABEL","groupHeading","itemDisabled","disabled","rawLabel","heading","selectText","groupName","itemChoice","selectedState","description","describedBy","descId","spanDesc","placeholderValue","inputCloned","inp","listDropdown","innerHTML","noResults","noChoices","noticeItem","notice","labelValue","opt","IS_IE11","USER_DEFAULTS","parseDataSetId","selectableChoiceIdentifier","Choices","userConfig","defaults","passedElement","elementType","isText","isSelectOne","isSelectMultiple","isSelect","re","selectEl","elementDirection","documentDirection","callbackOnInit","runEvent","c","excludedId","preventInputFocus","rect","preventInputBlur","valueOnly","values","choiceValue","choicesArrayOrFetcher","replaceChoices","clearSearchFlag","replaceItems","fetcher_1","resolve","isDefaultValue","isDefaultLabel","choiceFull","withEvents","selectFirstOption","deselectAll","choicesFromOptions","existingItems","updateChoice","clearOptions","clearItems","shouldSetInputWidth","invalidConfigOptions","isSearching","activeGroups","activeChoices","renderLimit","backingOptions","renderableChoices","selectableChoices","renderChoices","withinGroup","groupLabel","choiceLimit","dropdownItem","groupChoices","dropdownGroup","itemList","itemFromList","addItemToFragment","addedItems","openDropdown","oldNotice","noticeElement","noticeConf","keyCode","itemToRemove","placeholderChoice","hasShiftKey","hasActiveDropdown","lastItem","hasHighlightedItems","elementItems","setLoading","resultCount","maxItemText","canAddItem","foundChoice","newValue","noticeType","documentElement","outerElement","inputElement","wasPrintableChar","hasItems","shouldHightlightAll","highlightedChoice","addedItem","directionInt","skipKey","nextEl","currentEl","hasFocusedInput","touchWasWithinContainer","containerWasExactTarget","firstChoice","clickWasWithinContainer","focusWasWithinContainer","targetIsInput","blurWasWithinContainer","passedEl","highlightedChoices","userTriggered","prependValue","appendValue","callbackOnCreateTemplates","userTemplates","templating","dropdownElement","noSelectedChoices","placeholderOption","caller","HOOKS","givenDate","date","week1","english","nth","pad","number","int","bool","debounce","wait","arrayify","toggleClass","elem","createElement","content","clearNode","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","getEventTarget","doNothing","monthToStr","monthNumber","shorthand","locale","revFormat","dateObj","monthName","hour","day","amPM","shortMonth","seconds","unixSeconds","weekNum","weekNumber","year","ISODate","minutes","month","unixMillSeconds","tokenRegex","formats","createDateFormatter","l10n","isMobile","frmt","overrideLocale","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","datestr","matched","ops","matchIndex","regexStr","isBackSlash","escaped","compareDates","date1","date2","isBetween","ts","ts1","ts2","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","duration","getDefaultHours","minHour","minMinutes","minSeconds","maxHr","maxMinutes","_i","_loop_1","source","args_1","__spreadArrays","il","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","defaultOptions","flatpickr","English","bind","setHoursFromDate","positionCalendar","changeMonth","changeYear","clear","close","onMouseOver","createDay","destroy","isEnabled","jumpToDate","updateValue","open","redraw","set","setDate","toggle","setupHelperFunctions","yr","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","bindToInstance","daysWidth","updateTime","defaultDate","timeWrapper","prevValue","setHoursFromInputs","ampm2military","military2ampm","limitMinHours","limitMaxHours","minBound","maxBound","currentTime","maxTime","minTime","setHours","onYearInput","eventTarget","handler","ev","triggerChange","evt","setupMobile","debouncedResize","onResize","onKeyDown","documentClick","onMonthNavClick","selectDate","selText","timeIncrement","onBlur","jumpDate","jumpTo","oldYear","oldMonth","buildMonthSwitch","incrementNumInput","delta","inputElem","createEvent","buildMonthNav","buildWeeks","weekWrapper","weekNumbers","buildWeekdays","buildDays","buildTime","customAppend","_dayNumber","dateIsEnabled","dayElement","isDateSelected","isDateInRange","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","focusOnDay","offset","activeElement","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","daysInMonth","days","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","currentMonth","buildMonths","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","updateWeekdays","firstDayOfWeek","weekdays","isOffset","triggerChangeEvent","toInitial","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","array","parsed","valueChanged","getDateStr","allowInput","allowKeydown","allowInlineKeydown","isTimeObj","focusAndClose","delta_1","elems","x","cellClass","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","minMaxTimeSetter","hook","pluginConf","getInputElem","customPositionElement","calendarHeight","acc","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","showOnTop","top","left","isCenter","isRight","right","rightMost","centerMost","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","centerStyle","editableSheet","sheet","createStyleSheet","style","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","range","CALLBACKS","updatePositionElement","setSelectedDate","inputDate","rule","preloadedDate","inputType","hooks","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","step","curValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","instances","global","factory","exports","this","fp","Spanish","es","componenetDefaultAttribute","ComponentModel","GestionAdjuntoService","coddoc","SelectComponent","RadioComponent","DateComponent","TextComponent","DialogComponent","OpenAddress","barrio","address","lista","row","adres","InputComponent","DocumentoModel","CollectionView","eventName","children","DocumentsCollectionView","DocumentsRow","DocumentoCollection","LoadDocumentsView","archivos","puede_borrar","disponibles","archivo","_target","files","_filepath","resultado","SeguimientosView","campos_disponibles","estados_detalles","seguimientos","SubHeaderView","urlError","emulateDefault","methodMap","params","is_numeric","Testeo","showError","sel","validate","attr","regex","errorMessage","fecha","regexFecha","fechaDividida","esBisiesto","langDataTable","eventsFormControl","_onRender","FormView","__privateSet","__privateGet","dataArray","collection","_type","RulesValidator","rules","error","required","email","maxlength","minlength","rangelength","_TrabajadorModel","TrabajadorModel","_choiceComponents","_FormTrabajadorView_instances","afterRender_fn","FormTrabajadorView","__privateMethod","_err","autoriza","cedtra","component","TrabajadoresView","_url","ControllerTrabajadores","RouterTrabajadores"],"mappings":"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","x_google_ignoreList":[11,12,13,14,15,16,17,18,19,20]}