/* ============================================
   PRINCIPAL PAGE - UI/UX DESIGN
   Navegación fluida vertical con scroll suave
   ============================================ */

/* Variables CSS para consistencia */
:root {
	--primary-color: #0d6efd;
	--primary-light: #e7f1ff;
	--secondary-color: #6c757d;
	--success-color: #198754;
	--warning-color: #ffc107;
	--danger-color: #dc3545;
	--info-color: #0dcaf0;
	--dark-color: #212529;
	--light-color: #f8f9fa;
	--border-radius: 16px;
	--shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
	--shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
	--shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
	--transition-fast: 0.2s ease;
	--transition-normal: 0.3s ease;
	--transition-slow: 0.5s ease;
	--nav-width: 60px;
	--nav-width-expanded: 180px;
}

/* Scroll suave global */
html {
	scroll-behavior: smooth;
}

.main-content {
	padding-bottom: 5px;
}

/* ============================================
   CONTENEDOR PRINCIPAL
   ============================================ */
.principal-container {
	position: relative;
	min-height: 100vh;
	padding-right: var(--nav-width);
	transition: padding-right var(--transition-normal);
}

@media (max-width: 991.98px) {
	.principal-container {
		padding-right: 0;
	}
}

/* ============================================
   NAVEGACIÓN LATERAL FLOTANTE
   ============================================ */
.nav-lateral {
	position: fixed;
	right: 0;
	left: auto;
	top: 50%;
	transform: translateY(-50%);
	width: var(--nav-width);
	background: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(10px);
	border-radius: var(--border-radius) 0 0 var(--border-radius);
	box-shadow: var(--shadow-md);
	padding: 20px 10px;
	z-index: 1000;
	transition: width var(--transition-normal);
}

.nav-lateral:hover {
	width: var(--nav-width-expanded);
}

.nav-lateral-list {
	list-style: none;
	padding: 0;
	margin: 0;
}

.nav-lateral-item {
	margin-bottom: 15px;
	position: relative;
}

.nav-lateral-item:last-child {
	margin-bottom: 0;
}

.nav-lateral-link {
	display: flex;
	align-items: center;
	padding: 10px;
	text-decoration: none;
	color: var(--secondary-color);
	border-radius: 12px;
	transition: all var(--transition-fast);
	overflow: hidden;
}

.nav-lateral-link:hover {
	background: var(--primary-light);
	color: var(--primary-color);
}

.nav-lateral-item.active .nav-lateral-link {
	background: var(--primary-color);
	color: white;
}

.nav-dot {
	width: 12px;
	height: 12px;
	min-width: 12px;
	border-radius: 50%;
	background: currentColor;
	margin-right: 12px;
	transition: transform var(--transition-fast);
}

.nav-lateral-item.active .nav-dot {
	transform: scale(1.2);
	box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.3);
}

.nav-label {
	font-size: 0.85rem;
	font-weight: 500;
	white-space: nowrap;
	opacity: 0;
	transform: translateX(-10px);
	transition: all var(--transition-normal);
}

.nav-lateral:hover .nav-label {
	opacity: 1;
	transform: translateX(0);
}

/* Indicador de progreso de scroll */
.scroll-progress-container {
	width: 4px;
	height: 60px;
	background: #e9ecef;
	border-radius: 2px;
	margin: 20px auto 0;
	overflow: hidden;
}

.scroll-progress-bar {
	width: 100%;
	height: 0%;
	background: linear-gradient(180deg, var(--primary-color), var(--info-color));
	border-radius: 2px;
	transition: height var(--transition-fast);
}

/* Ocultar nav lateral en móviles */
@media (max-width: 991.98px) {
	.nav-lateral {
		display: none;
	}
}

/* ============================================
   SECCIONES PRINCIPALES
   ============================================ */
.sections-wrapper {
	padding: 20px;
	max-width: 1400px;
	margin: 0 auto;
}

.principal-section {
	min-height: 60vh;
	padding: 40px 0;
	opacity: 0;
	transform: translateY(30px);
	transition: all var(--transition-slow);
	border-bottom: 1px solid #e9ecef;
}

.principal-section:last-child {
	border-bottom: none;
}

.principal-section.visible {
	opacity: 1;
	transform: translateY(0);
}

/* Header de sección */
.section-header {
	display: flex;
	align-items: flex-start;
	gap: 20px;
	margin-bottom: 30px;
}

.section-icon {
	width: 60px;
	height: 60px;
	min-width: 60px;
	background: linear-gradient(135deg, var(--primary-color), var(--info-color));
	border-radius: 16px;
	display: flex;
	align-items: center;
	justify-content: center;
	color: white;
	font-size: 1.5rem;
	box-shadow: var(--shadow-sm);
}

.section-title-wrapper {
	flex: 1;
}

.section-title {
	font-size: 1.75rem;
	font-weight: 700;
	color: var(--dark-color);
	margin: 0 0 8px 0;
}

.section-subtitle {
	font-size: 1rem;
	color: var(--secondary-color);
	margin: 0;
	line-height: 1.5;
}

/* Contenido de sección */
.section-content {
	position: relative;
}

/* Grid para totales */
.totales-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
	gap: 20px;
}

/* Grid para cards */
.cards-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
	gap: 24px;
}

.cards-grid-sm {
	grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}

/* Placeholder de carga */
.loading-placeholder {
	display: flex;
	align-items: center;
	justify-content: center;
	min-height: 200px;
	background: var(--light-color);
	border-radius: var(--border-radius);
}

/* ============================================
   BOTÓN SCROLL TO TOP
   ============================================ */
.scroll-to-top {
	position: fixed;
	bottom: 30px;
	right: 30px;
	width: 50px;
	height: 50px;
	border-radius: 50%;
	background: var(--primary-color);
	color: white;
	border: none;
	box-shadow: var(--shadow-md);
	cursor: pointer;
	opacity: 0;
	visibility: hidden;
	transform: translateY(20px);
	transition: all var(--transition-normal);
	z-index: 1000;
}

.scroll-to-top:hover {
	background: #0b5ed7;
	transform: translateY(-3px);
	box-shadow: var(--shadow-lg);
}

.scroll-to-top.visible {
	opacity: 1;
	visibility: visible;
	transform: translateY(0);
}

/* ============================================
   CARDS DE AFILIACIÓN (MEJORADAS)
   ============================================ */
.img-principal {
	height: 90px;
}

.company-affiliation-card {
	background-color: #ffffff;
	border-radius: var(--border-radius) !important;
	box-shadow: var(--shadow-sm);
	padding: 20px;
	max-width: 100%;
	margin: 0;
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	transition: all var(--transition-normal);
	border: 1px solid transparent;
	/* Animación de entrada */
	opacity: 0;
	transform: translateY(20px);
	animation: fadeInUp 0.5s ease forwards;
}

.company-affiliation-card:hover {
	transform: translateY(-5px);
	box-shadow: var(--shadow-lg);
	border-color: var(--primary-light);
}

@keyframes fadeInUp {
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Delay para animación escalonada */
.cards-grid > *:nth-child(1) .company-affiliation-card { animation-delay: 0.1s; }
.cards-grid > *:nth-child(2) .company-affiliation-card { animation-delay: 0.2s; }
.cards-grid > *:nth-child(3) .company-affiliation-card { animation-delay: 0.3s; }
.cards-grid > *:nth-child(4) .company-affiliation-card { animation-delay: 0.4s; }
.cards-grid > *:nth-child(5) .company-affiliation-card { animation-delay: 0.5s; }
.cards-grid > *:nth-child(6) .company-affiliation-card { animation-delay: 0.6s; }
.header-section {
	display: flex;
	align-items: center;
	margin-bottom: 10px;
	position: relative;
}
.profile-icon {
	background-color: #8c8f5f; /* Color verde/marrón similar al de la imagen */
	border-radius: 10px;
	width: 60px;
	height: 60px;
	display: flex;
	justify-content: center;
	align-items: center;
	font-size: 28px;
	font-weight: bold;
	color: white;
	position: relative;
}
.profile-icon::before {
	content: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="%23b8c3d1" class="bi bi-person-fill" viewBox="0 0 16 16"><path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>');
	position: absolute;
	top: -5px;
	right: -5px;
	background-color: white; /* Simula el círculo azul */
	border-radius: 50%;
	padding: 3px;
}
.company-icon {
	width: 50px;
	height: 50px;
	margin-left: 15px;
	background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="%23a8c5cf" class="bi bi-building" viewBox="0 0 16 16"><path d="M4 2.5a.5.5 0 0 1 .5-.5h1A.5.5 0 0 1 6 2.5v1A.5.5 0 0 1 5.5 4h-1a.5.5 0 0 1-.5-.5v-1zm2 0a.5.5 0 0 1 .5-.5h1A.5.5 0 0 1 8 2.5v1A.5.5 0 0 1 7.5 4h-1a.5.5 0 0 1-.5-.5v-1zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/><path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V1zm11 0H3v14h10V1z"/></svg>');
	background-size: contain;
	background-repeat: no-repeat;
}
.percentage {
	margin-left: auto;
	font-size: 1.2rem;
	color: #b57a7a; /* Color rojo/marrón similar */
}
.minus-icon {
	margin-right: 5px;
	font-size: 1.5rem;
	color: #b57a7a;
}
.card-title {
	font-size: 0.87rem;
	font-weight: bold;
	color: #444;
	margin-bottom: 25px;
}
.status-grid {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 15px;
	margin-bottom: 30px;
}
.status-item {
    background-color: #f7f1eb; /* Fondo claro para los ítems */
    border-radius: 10px;
    padding: 8px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

/* Variante para alinear label y valor en fila */
.status-item.row-align {
    flex-direction: row;
    align-items: center;
}
.status-label {
	font-size: 0.85rem;
	color: #666;
	display: flex;
	margin-bottom: 5px;
}
.status-label svg {
	position: relative;
	top: 2px;
	margin-right: 8px;
	color: #929292;
}
.status-value {
	font-size: 1rem;
	font-weight: bold;
	color: #333;
}
.status-value.approved {
	color: #8c8f5f; /* Color verde/marrón para Aprobados */
}
.divider {
	border-top: 1px solid #eee;
	margin: 5px 0;
}
.temporary-section {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-top: 10px;
}
.temporary-label {
	font-size: .88rem;
	font-weight: bold;
	color: #333;
}
.temporary-value {
	font-size: 1.1rem;
	font-weight: bold;
	color: #5b7da0; /* Color azul similar al de la imagen */
}
.progress-bar-container {
	width: 100%;
	height: 8px;
	background-color: #e0e0e0;
	border-radius: 4px;
	overflow: hidden;
	margin-top: 10px;
}
.progress-bar {
	height: 100%;
	background: linear-gradient(to right, #7b8e9f, #a7b777); /* Gradiente azul a verde */
	width: 70%; /* Ajusta según el porcentaje deseado */
	border-radius: 4px;
}


/* ============================================
   CARDS DE TOTALES (MEJORADAS)
   ============================================ */
.total-affiliations-card {
	background-color: #ffffff;
	border-radius: var(--border-radius);
	box-shadow: var(--shadow-sm);
	padding: 20px;
	max-width: 100%;
	margin: 0;
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	transition: all var(--transition-normal);
	border: 1px solid transparent;
	/* Animación de entrada */
	opacity: 0;
	transform: translateY(20px);
	animation: fadeInUp 0.5s ease forwards;
}

.total-affiliations-card:hover {
	transform: translateY(-3px);
	box-shadow: var(--shadow-md);
	border-color: var(--primary-light);
}

/* Delay para animación escalonada en totales */
.totales-grid > .total-affiliations-card:nth-child(1) { animation-delay: 0.1s; }
.totales-grid > .total-affiliations-card:nth-child(2) { animation-delay: 0.15s; }
.totales-grid > .total-affiliations-card:nth-child(3) { animation-delay: 0.2s; }
.totales-grid > .total-affiliations-card:nth-child(4) { animation-delay: 0.25s; }
.totales-grid > .total-affiliations-card:nth-child(5) { animation-delay: 0.3s; }

.total-affiliations-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 12px;
}

.total-affiliations-title {
	font-size: 0.9rem;
	color: var(--secondary-color);
	font-weight: 600;
}

.total-affiliations-icon {
	width: 40px;
	height: 40px;
	border-radius: 10px;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.2rem;
}

.total-affiliations-icon.text-info {
	background: rgba(13, 202, 240, 0.15);
}

.total-affiliations-icon.text-success {
	background: rgba(25, 135, 84, 0.15);
}

.total-affiliations-icon.text-yellow,
.total-affiliations-icon.text-warning {
	background: rgba(255, 193, 7, 0.15);
	color: #cc9a06 !important;
}

.total-affiliations-icon.text-danger {
	background: rgba(220, 53, 69, 0.15);
}

.total-value {
	font-size: 1.5rem;
	font-weight: 700;
	color: var(--dark-color);
	line-height: 1.2;
}

.total-value small,
.total-value span {
	display: block;
	font-size: 0.8rem;
	font-weight: 400;
	color: var(--secondary-color);
	margin-top: 4px;
}

/* ============================================
   CARDS DE CONSULTAS Y PRODUCTOS (MEJORADAS)
   ============================================ */
.card-stats {
	background: #ffffff;
	border-radius: var(--border-radius);
	box-shadow: var(--shadow-sm);
	transition: all var(--transition-normal);
	border: 1px solid transparent;
	overflow: hidden;
	/* Animación de entrada */
	opacity: 0;
	transform: translateY(20px);
	animation: fadeInUp 0.5s ease forwards;
}

.card-stats:hover {
	transform: translateY(-5px);
	box-shadow: var(--shadow-lg);
	border-color: var(--primary-light);
}

.card-stats a {
	text-decoration: none;
	display: block;
}

.card-stats .card-header {
	padding: 20px;
	text-align: center;
	background: transparent;
	border: none;
}

.card-stats .card-header .card-category {
	font-size: 0.95rem;
	font-weight: 600;
	color: var(--dark-color);
	margin-bottom: 15px;
}

.card-stats .card-header .img-principal {
	transition: transform var(--transition-normal);
}

.card-stats:hover .card-header .img-principal {
	transform: scale(1.05);
}

/* Ajustes para gráficas (Chart.js) dentro de cards */
.card .card-body .chart {
	position: relative;
	width: 100%;
	max-width: 100%;
	height: 350px; /* altura base */
	overflow: hidden; /* evita desbordes */
}
.chart-canvas {
	display: block; /* corrige espacios y respeta contenedor */
	width: 100% !important;
	height: 100% !important; /* ocupa el alto del contenedor */
}

/* Alturas responsivas */
@media (max-width: 1199.98px) {
	.card .card-body .chart { height: 300px; }
}
@media (max-width: 991.98px) {
	.card .card-body .chart { height: 280px; }
}
@media (max-width: 575.98px) {
	.card .card-body .chart { height: 240px; }
}

/* ============================================
   CLASES DE UTILIDAD Y ANIMACIONES
   ============================================ */

/* Wrapper para cards de servicios - hereda del grid padre */
.service-card-wrapper {
	display: block;
}

/* Contenedor de totales */
.totales-content {
	display: contents; /* Permite que los hijos participen en el grid del padre */
}

/* Animación de entrada genérica */
.animate-in {
	animation: slideInUp 0.5s ease forwards;
}

@keyframes slideInUp {
	from {
		opacity: 0;
		transform: translateY(30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Animación de fade in */
@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */
@media (max-width: 767.98px) {
	.section-header {
		flex-direction: column;
		text-align: center;
	}

	.section-icon {
		margin: 0 auto 15px;
	}

	.section-title {
		font-size: 1.5rem;
	}

	.cards-grid {
		grid-template-columns: 1fr;
	}

	.totales-grid {
		grid-template-columns: repeat(2, 1fr);
	}

	.scroll-to-top {
		bottom: 20px;
		right: 20px;
		width: 45px;
		height: 45px;
	}
}

@media (max-width: 575.98px) {
	.sections-wrapper {
		padding: 15px;
	}

	.principal-section {
		padding: 30px 0;
		min-height: auto;
	}

	.totales-grid {
		grid-template-columns: 1fr;
	}

	.total-affiliations-card {
		padding: 15px;
	}

	.company-affiliation-card {
		padding: 15px;
	}
}

/* ============================================
   MEJORAS DE ACCESIBILIDAD
   ============================================ */
.nav-lateral-link:focus,
.scroll-to-top:focus {
	outline: 2px solid var(--primary-color);
	outline-offset: 2px;
}

/* Reducir movimiento para usuarios que lo prefieren */
@media (prefers-reduced-motion: reduce) {
	html {
		scroll-behavior: auto;
	}

	.principal-section,
	.company-affiliation-card,
	.total-affiliations-card,
	.card-stats,
	.animate-in {
		animation: none;
		opacity: 1;
		transform: none;
	}

	.nav-lateral,
	.nav-label,
	.nav-dot,
	.scroll-to-top {
		transition: none;
	}
}

/* ============================================
   ESTADOS VACÍOS
   ============================================ */
.empty-state {
	text-align: center;
	padding: 40px 20px;
	color: var(--secondary-color);
}

.empty-state-icon {
	font-size: 3rem;
	margin-bottom: 15px;
	opacity: 0.5;
}

.empty-state-text {
	font-size: 1rem;
	margin: 0;
}