{"version":3,"file":"CoberturaServicios.js","sources":["../../src/Common/Region.js","../../src/Componentes/Views/Loading.js","../../src/Utils.js","../../src/App.js","../../src/Mercurio/CoberturaServicios/main.js"],"sourcesContent":["export class Region {\n\t#currentView = null;\n\t#currentViews = null;\n\t#$el = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, options);\n\t\tthis.currentViews = new Array();\n\t\tthis.el = options.el;\n\t}\n\n\t// Closes any active view and render a new one\n\tshow(view) {\n\t\tthis.closeView(this.currentView);\n\t\tthis.currentView = view;\n\t\tthis.openView(view);\n\t}\n\n\thtml(el) {\n\t\tif (this.$el) this.$el.html(el);\n\t}\n\n\tappend(view) {\n\t\tthis.currentViews.push(view);\n\t\tthis.ensureEl();\n\t\tview.render();\n\t\tthis.$el.append(view.el);\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\tcloseView(view) {\n\t\t// Only remove the view when the remove function\n\t\t// is available\n\t\tif (view && view.remove) {\n\t\t\tview.remove();\n\t\t}\n\t}\n\n\topenView(view) {\n\t\t// Be sure that this.$el exists\n\t\tthis.ensureEl();\n\n\t\t// Render the view on the this.$el element\n\t\tview.render();\n\t\tthis.$el.html(view.el);\n\n\t\t// Callback when the view is in the DOM\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\t// Create the this.$el attribute if do not exists\n\tensureEl() {\n\t\tif (this.$el) return;\n\t\tthis.$el = $(this.el);\n\t}\n\n\t// Close the Region and any view on it\n\tremove() {\n\t\tif (this.currentViews.length > 0) {\n\t\t\tthis.currentViews.forEach((view) => {\n\t\t\t\tthis.closeView(view);\n\t\t\t});\n\t\t}\n\t\tthis.closeView(this.currentView);\n\t}\n}\n","const loading = (() => {\n\tlet status,\n\t\telement,\n\t\tloader,\n\t\ttemplate = void 0;\n\n\tconst show = (out = false, options) => {\n\t\tif (out) {\n\t\t\telement = document.createElement('div');\n\t\t\telement.setAttribute('id', 'loading_msj');\n\t\t\t$(element).html(\n\t\t\t\t\"<div class='loading_msj'><p class='text-warning'>Procesando datos de busqueda...</p></div>\",\n\t\t\t);\n\t\t\tdocument.getElementById('app').appendChild(element);\n\t\t}\n\t\tif (!status) {\n\t\t\ttemplate = _.template($('#tmp_loader').html());\n\t\t\tloader = document.createElement('div');\n\t\t\tloader.setAttribute('class', 'loader');\n\t\t\tloader.setAttribute('id', 'loader');\n\t\t\t$(loader).append(template());\n\t\t\tdocument.body.appendChild(loader);\n\t\t\tloader.setAttribute('style', 'display:block');\n\t\t\tif (_.isObject(options) === true) {\n\t\t\t\tif (options.addClass) {\n\t\t\t\t\t$('.loader').addClass(options.addClass);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstatus = true;\n\t};\n\n\tconst hide = (out = false) => {\n\t\tif (out) {\n\t\t\telement.remove();\n\t\t}\n\t\tif (status) {\n\t\t\tloader.remove();\n\t\t}\n\t\tstatus = void 0;\n\t};\n\n\treturn {\n\t\thide,\n\t\tshow,\n\t};\n})();\n\nexport default loading;\n","const CSRF = $(\"[name='csrf-token']\");\nconst $Kumbia = {\n    path: CSRF.attr('path'),\n    app: CSRF.attr('app'),\n};\n\nclass Utils {\n    static getKumbiaURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getAppURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getURL(url) {\n        if (typeof url == 'undefined') {\n            return $Kumbia.path;\n        } else {\n            return $Kumbia.path + url;\n        }\n    }\n\n    static redirectParentToAction(url) {\n        new Utils.redirectToAction(url, window.parent);\n    }\n\n    static redirectOpenerToAction(url) {\n        new Utils.redirectToAction(url, window.opener);\n    }\n\n    static redirectToAction(url, win) {\n        win = win ? win : window;\n        win.location.href = Utils.getKumbiaURL() + url;\n    }\n\n    static upperCaseFirst(str) {\n        let first = str.substring(0, 1).toUpperCase();\n        return first + str.substr(1, str.length - 1);\n    }\n\n    static numberFormat(number = 0, decimals = 0, dec_point = undefined, thousands_sep = undefined) {\n        let n = !isFinite(+number) ? 0 : +number;\n        let prec = !isFinite(+decimals) ? 0 : Math.abs(decimals);\n        let sep = typeof thousands_sep === 'undefined' ? ',' : thousands_sep;\n        let dec = typeof dec_point === 'undefined' ? '.' : dec_point;\n        let s = undefined;\n\n        const toFixedFix = (n, prec) => {\n            let k = Math.pow(10, prec);\n            return '' + Math.round(n * k) / k;\n        };\n\n        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\n        if (s[0].length > 3) {\n            s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n        }\n        if ((s[1] || '').length < prec) {\n            s[1] = s[1] || '';\n            s[1] += new Array(prec - s[1].length + 1).join('0');\n        }\n        return s.join(dec);\n    }\n\n    static validOnlyLetter(evt) {\n        evt = evt ? evt : window.event ? window.event : null;\n        let kc = evt.keyCode;\n        let ev = (kc >= 65 && kc <= 90) || kc == 8 || kc == 9 || kc == 32;\n        if (ev == false) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            evt.stopped = true;\n        }\n    }\n}\n\nclass Messages {\n    static display(message, type, timeout = 8000) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    }\n}\n\nexport { $Kumbia, Messages, Utils };\n","import { Region } from '@/Common/Region';\nimport loading from '@/Componentes/Views/Loading';\nimport { $Kumbia } from '@/Utils';\n\nconst $App = {\n    Models: {},\n    Collections: {},\n    router: null,\n    currentSubapp: null,\n    Modal: null,\n    layout: null,\n    el: null,\n    mainRegion: null,\n    startApp(RouterModule, ruta = '', el = '') {\n        this.el = el;\n        if (this.el === '') {\n            this.el = '#contentView';\n        }\n        this.initialize();\n        this.router = new RouterModule();\n        if (!Backbone.history.start()) {\n            this.router.navigate(ruta, { trigger: true });\n        }\n    },\n    initialize() {\n        _.extend(this, Backbone.Events);\n\n        const alertTypes = ['error', 'warning', 'success', 'info'];\n\n        alertTypes.forEach((type) => {\n            this.listenTo(this, `noty:${type}`, (message) => this.notify(type, message));\n            this.listenTo(this, `alert:${type}`, (transfer) => this.alert(type, transfer));\n        });\n\n        this.listenTo(this, 'confirma', this.confirmaApp);\n        this.listenTo(this, 'syncro', this.syncroRequest);\n        this.listenTo(this, 'ajax', this.ajaxKumbia);\n        this.listenTo(this, 'show:modal', this.renderModal);\n        this.listenTo(this, 'hide:modal', this.closeModal);\n        this.listenTo(this, 'down', this.downLoadFile);\n        this.listenTo(this, 'upload', this.uploadFile);\n    },\n    notify(type, message) {\n        this.showNoty(type, message.toString(), type === 'error' ? 10000 : 6000);\n    },\n    alert(type, transfer) {\n        const { title = 'Notificación', message = 'Nota no hay respuesta de la solicitud', timer = 8200 } = transfer;\n        this.showAlert(title, message, type, timer);\n    },\n    showNoty(type, message, timeout) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    },\n    showAlert(title = '', text = '', icon = '', timer) {\n        Swal.fire({\n            title,\n            html: text,\n            icon,\n            showConfirmButton: false,\n            confirmButtonText: 'Continuar',\n            timer,\n        });\n    },\n    startSubApplication(SubApplication, __services, options = {}) {\n        let services = [];\n\n        if (typeof __services != 'string') {\n            if (_.isArray(__services) === true) {\n                _.each(__services, (ser) => {\n                    services[ser.name] = new ser.inyectar();\n                });\n            } else if (_.isObject(__services) === true) {\n                services[__services.name] = new __services.inyectar();\n            } else {\n                services.push(__services);\n            }\n        }\n\n        this.mainRegion = new Region({ el: this.el, ...options });\n        this.currentSubapp = new SubApplication({\n            region: this.mainRegion,\n            services: services,\n            App: this,\n        });\n        return this.currentSubapp;\n    },\n    confirmaApp(transfer) {\n        const { message, callback, title = '¿Confirmar?', icon = 'warning' } = transfer;\n        Swal.fire({\n            title: title,\n            text: message,\n            icon: icon,\n            showCancelButton: true,\n            confirmButtonColor: '#2dce89',\n            cancelButtonColor: '#fc8c72',\n            confirmButtonText: 'SI, Continuar!',\n        }).then((result) => {\n            callback(result.isConfirmed);\n        });\n    },\n    syncroRequest(transfer) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        Backbone.ajax({\n            type: 'POST',\n            dataType: 'json',\n            url: url,\n            data: data,\n            cache: false,\n            contentType: 'application/x-www-form-urlencoded',\n            processData: true,\n            timeout: 52400,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    console.log(err.responseText);\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    console.log(err);\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n    renderModal(transfer = {}) {\n        const { title, view, options = false } = transfer;\n        const targetModal = $('#modalComponent');\n        if (!this.Modal) {\n            this.Modal = new bootstrap.Modal(document.getElementById('modalComponent'), {\n                keyboard: true,\n                backdrop: 'static',\n            });\n        }\n        targetModal.find('#mdl_set_title').text(title);\n        targetModal.find('#mdl_set_footer').css('display', 'none');\n        if (options) {\n            targetModal.find('.modal-dialog').addClass(options.bootstrapSize);\n        }\n        targetModal.find('#mdl_set_body').html(view.render().$el);\n        this.Modal.show();\n        if (options) {\n            this.Modal.on('hidden.bs.modal', (event) => view.remove());\n            targetModal.find('.close').addClass('d-none');\n        }\n    },\n    closeModal(view) {\n        if (this.Modal) {\n            this.Modal.hide();\n            this.Modal = null;\n        }\n        if (view) {\n            view.remove();\n        }\n    },\n    url(method = '', controller = undefined) {\n        return this.kumbiaURL((controller ?? '') + '/' + method);\n    },\n    kumbiaURL: (url) => {\n        if (_.isUndefined(url) === true) url = '';\n        return $Kumbia.path + url;\n    },\n    ajaxKumbia(transfer = {}) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        $.ajax({\n            type: 'POST',\n            data: data,\n            url: this.kumbiaURL(url),\n            dataType: 'html',\n            processData: true,\n            contentType: 'application/x-www-form-urlencoded',\n            cache: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n        })\n            .done((response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            })\n            .fail((err) => {\n                if (silent == false) loading.hide();\n                this.trigger('alert:error', { message: err.responseText });\n                return callback(false);\n            })\n            .always(() => {\n                if (silent == false) loading.hide();\n            });\n    },\n    downLoadFile(transfer) {\n        const { url, filename } = transfer;\n        const link = document.createElement('a');\n        link.href = this.kumbiaURL(url + '/' + filename);\n        link.download = filename;\n        console.log(link);\n        link.click();\n    },\n    uploadFile(transfer) {\n        const { url, data, callback, silent = false } = transfer;\n        let formData;\n        if (data instanceof FormData) {\n            formData = data;\n        } else {\n            formData = new FormData();\n            formData.append(data.name, data.file);\n        }\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n        Backbone.ajax({\n            url: url,\n            type: 'POST',\n            dataType: 'json',\n            data: formData,\n            cache: false,\n            contentType: false,\n            processData: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                console.log(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n};\n\nexport { $App };\n","import { $App } from '@/App';\n\nif (CODSER === undefined || CODSER === void 0 || CODSER === '') {\n\twindow.location.href = $App.url('principal/index');\n}\n\nconst validaCupos = function () {\n\t$.get($App.url('numeroCuposDisponibles/' + CODSER))\n\t\t.done(function (response) {\n\t\t\t$('#showNumCupos').text(response.cupos);\n\t\t})\n\t\t.fail(function (err) {\n\t\t\tconsole.log(err.responseText);\n\t\t\treturn false;\n\t\t});\n};\n\nconst loadData = function (beneficiarios) {\n\tlet tagRegistros = $('#showRegistros');\n\tlet template = _.template($('#tmp_registros').html());\n\tlet html = '';\n\tif (_.size(beneficiarios) == 0) {\n\t\ttagRegistros.html(\n\t\t\t\"<tr><td colspan='4'>No hay beneficiarios aptos para aplicar al producto.</td></tr>\",\n\t\t);\n\t} else {\n\t\t_.each(beneficiarios, function (benefi) {\n\t\t\thtml += template(benefi);\n\t\t});\n\t\ttagRegistros.html(html);\n\t}\n};\n\nconst buscarAplicados = function () {\n\t$.get($App.url('serviciosAplicados/' + CODSER))\n\t\t.done(function (response) {\n\t\t\tif (response.success) {\n\t\t\t\tif (_.size(response.data) > 0) {\n\t\t\t\t\t$('#show_access_davivienda').fadeIn('fast');\n\t\t\t\t}\n\t\t\t\tloadData(response.data);\n\t\t\t}\n\t\t})\n\t\t.fail(function (err) {\n\t\t\tconsole.log(err.responseText);\n\t\t\treturn false;\n\t\t});\n};\n\n$(() => {\n\t$App.initialize();\n\n\tbuscarAplicados();\n\n\tsetInterval(function () {\n\t\tvalidaCupos();\n\t}, 10000);\n\n\t$(document).on('click', 'button[toggle=\"aplica\"]', (event) => {\n\t\tevent.preventDefault();\n\t\tvar target = $(event.currentTarget);\n\t\tSwal.fire({\n\t\t\ttitle: '¡Confirmar!',\n\t\t\thtml: \"<p style='font-size:0.97rem'>¿Está seguro que desea aplicar al complemento nutricional?</p>\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonClass: 'btn btn-sm btn-success',\n\t\t\tcancelButtonClass: 'btn btn-sm btn-danger',\n\t\t\tconfirmButtonText: 'SI',\n\t\t\tcancelButtonText: 'NO',\n\t\t}).then(function (result) {\n\t\t\tif (result.value) {\n\t\t\t\tlet _token = {\n\t\t\t\t\tid: target.attr('data-cid'),\n\t\t\t\t\tdocben: target.attr('data-docu'),\n\t\t\t\t\tcodser: CODSER,\n\t\t\t\t};\n\t\t\t\t$.ajax({\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\turl: $App.url('aplicarCupo'),\n\t\t\t\t\tdataType: 'JSON',\n\t\t\t\t\tcache: false,\n\t\t\t\t\tdata: _token,\n\t\t\t\t})\n\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tloadData(response.beneficiarios);\n\t\t\t\t\t\t\tvalidaCupos();\n\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\ttitle: 'Notificación OK',\n\t\t\t\t\t\t\t\thtml:\n\t\t\t\t\t\t\t\t\t\"<p class='text-left' style='font-size:1rem'>\" + response.msj + '</p>',\n\t\t\t\t\t\t\t\tshowCloseButton: false,\n\t\t\t\t\t\t\t\tshowConfirmButton: true,\n\t\t\t\t\t\t\t\tallowOutsideClick: false,\n\t\t\t\t\t\t\t\tallowEscapeKey: false,\n\t\t\t\t\t\t\t\tconfirmButtonText: 'Continuar',\n\t\t\t\t\t\t\t}).then(function (e) {\n\t\t\t\t\t\t\t\tif (e.value === true) {\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = '#';\n\t\t\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (response.beneficiarios) {\n\t\t\t\t\t\t\t\tloadData(response.beneficiarios);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\ttitle: 'Notificación Alerta',\n\t\t\t\t\t\t\t\ttext: response.msj,\n\t\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\t\tshowConfirmButton: false,\n\t\t\t\t\t\t\t\tshowCloseButton: true,\n\t\t\t\t\t\t\t\ttimer: 10000,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (err) {\n\t\t\t\t\t\tconsole.log(err.responseText);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\n\t$(document).on('click', 'button[toggle=\"buscar\"]', (event) => {\n\t\tevent.preventDefault();\n\t\tvar target = $(event.currentTarget);\n\t\tlet _token = {\n\t\t\tid: target.attr('data-cid'),\n\t\t\tdocben: target.attr('data-docu'),\n\t\t\tcodser: CODSER,\n\t\t};\n\t\t$.ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: $App.url('buscarCupo'),\n\t\t\tdataType: 'JSON',\n\t\t\tcache: false,\n\t\t\tdata: _token,\n\t\t})\n\t\t\t.done(function (response) {\n\t\t\t\tif (response.success) {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: 'Nota',\n\t\t\t\t\t\thtml: \"<p class='text-left' style='font-size:1rem'>\" + response.msj + '</p>',\n\t\t\t\t\t\tshowCloseButton: false,\n\t\t\t\t\t\tshowConfirmButton: true,\n\t\t\t\t\t\tallowOutsideClick: false,\n\t\t\t\t\t\tallowEscapeKey: false,\n\t\t\t\t\t\tconfirmButtonText: 'Continuar',\n\t\t\t\t\t}).then(function (e) {\n\t\t\t\t\t\tif (e.value === true) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\twindow.location.href = '#';\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function (err) {\n\t\t\t\tconsole.log(err.responseText);\n\t\t\t\treturn false;\n\t\t\t});\n\t});\n\n\t$(document).on('click', 'button[toggle=\"copy\"]', (event) => {\n\t\tevent.preventDefault();\n\t\tlet target = $(event.currentTarget);\n\t\tlet pin = target.attr('data-cid');\n\n\t\tlet copyFrom = document.createElement('textarea');\n\t\tcopyFrom.textContent = pin;\n\t\tlet body = document.getElementsByTagName('body')[0];\n\t\tbody.appendChild(copyFrom);\n\t\tcopyFrom.select();\n\t\tdocument.execCommand('copy');\n\t\tbody.removeChild(copyFrom);\n\t});\n});\n"],"names":["_currentView","_currentViews","_$el","Region","options","__privateAdd","view","el","loading","status","element","loader","template","out","CSRF","$Kumbia","$App","RouterModule","ruta","type","message","transfer","title","timer","timeout","text","icon","SubApplication","__services","services","ser","callback","result","url","data","silent","csrf","xhr","response","err","keys","targetModal","event","method","controller","filename","link","formData","validaCupos","loadData","beneficiarios","tagRegistros","html","benefi","buscarAplicados","target","_token","e","pin","copyFrom","body"],"mappings":"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"}