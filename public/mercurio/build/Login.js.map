{"version":3,"file":"Login.js","sources":["../../src/Componentes/Views/Loading.js","../../src/Common/Region.js","../../src/Utils.js","../../src/App.js","../../src/Core.js","../../src/Common/Controller.js","../../src/Common/ModelView.js","../../src/Common/Layout.js","../../src/Mercurio/Login/views/LayoutLogin.js","../../src/Componentes/Models/ComponentModel.js","../../node_modules/.pnpm/choices.js@11.1.0/node_modules/choices.js/public/assets/scripts/choices.mjs","../../src/Componentes/Views/ComponentsView.js","../../src/Componentes/Services/RulesValidator.js","../../src/Mercurio/Login/models/UserRecoveryModel.js","../../src/Mercurio/Login/views/EmailChangeView.js","../../src/Mercurio/Login/views/InfoView.js","../../src/Mercurio/Login/EmailChange.js","../../src/Mercurio/Login/models/UserAuthModel.js","../../src/Mercurio/Login/views/LoginView.js","../../src/Mercurio/Login/Login.js","../../src/Mercurio/Login/views/RecoveryView.js","../../src/Mercurio/Login/Recovery.js","../../src/Mercurio/Login/models/UserRegisterModel.js","../../src/Mercurio/Login/views/RegisterView.js","../../src/Mercurio/Login/Register.js","../../src/Mercurio/Login/views/VerificationView.js","../../src/Mercurio/Login/Verification.js","../../src/Mercurio/Login/ControllerLogin.js","../../src/Mercurio/Login/RouterLogin.js","../../src/Mercurio/Login/main.js"],"sourcesContent":["const loading = (() => {\n\tlet status,\n\t\telement,\n\t\tloader,\n\t\ttemplate = void 0;\n\n\tconst show = (out = false, options) => {\n\t\tif (out) {\n\t\t\telement = document.createElement('div');\n\t\t\telement.setAttribute('id', 'loading_msj');\n\t\t\t$(element).html(\n\t\t\t\t\"<div class='loading_msj'><p class='text-warning'>Procesando datos de busqueda...</p></div>\",\n\t\t\t);\n\t\t\tdocument.getElementById('app').appendChild(element);\n\t\t}\n\t\tif (!status) {\n\t\t\ttemplate = _.template($('#tmp_loader').html());\n\t\t\tloader = document.createElement('div');\n\t\t\tloader.setAttribute('class', 'loader');\n\t\t\tloader.setAttribute('id', 'loader');\n\t\t\t$(loader).append(template());\n\t\t\tdocument.body.appendChild(loader);\n\t\t\tloader.setAttribute('style', 'display:block');\n\t\t\tif (_.isObject(options) === true) {\n\t\t\t\tif (options.addClass) {\n\t\t\t\t\t$('.loader').addClass(options.addClass);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstatus = true;\n\t};\n\n\tconst hide = (out = false) => {\n\t\tif (out) {\n\t\t\telement.remove();\n\t\t}\n\t\tif (status) {\n\t\t\tloader.remove();\n\t\t}\n\t\tstatus = void 0;\n\t};\n\n\treturn {\n\t\thide,\n\t\tshow,\n\t};\n})();\n\nexport default loading;\n","export class Region {\n\t#currentView = null;\n\t#currentViews = null;\n\t#$el = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, options);\n\t\tthis.currentViews = new Array();\n\t\tthis.el = options.el;\n\t}\n\n\t// Closes any active view and render a new one\n\tshow(view) {\n\t\tthis.closeView(this.currentView);\n\t\tthis.currentView = view;\n\t\tthis.openView(view);\n\t}\n\n\thtml(el) {\n\t\tif (this.$el) this.$el.html(el);\n\t}\n\n\tappend(view) {\n\t\tthis.currentViews.push(view);\n\t\tthis.ensureEl();\n\t\tview.render();\n\t\tthis.$el.append(view.el);\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\tcloseView(view) {\n\t\t// Only remove the view when the remove function\n\t\t// is available\n\t\tif (view && view.remove) {\n\t\t\tview.remove();\n\t\t}\n\t}\n\n\topenView(view) {\n\t\t// Be sure that this.$el exists\n\t\tthis.ensureEl();\n\n\t\t// Render the view on the this.$el element\n\t\tview.render();\n\t\tthis.$el.html(view.el);\n\n\t\t// Callback when the view is in the DOM\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\t// Create the this.$el attribute if do not exists\n\tensureEl() {\n\t\tif (this.$el) return;\n\t\tthis.$el = $(this.el);\n\t}\n\n\t// Close the Region and any view on it\n\tremove() {\n\t\tif (this.currentViews.length > 0) {\n\t\t\tthis.currentViews.forEach((view) => {\n\t\t\t\tthis.closeView(view);\n\t\t\t});\n\t\t}\n\t\tthis.closeView(this.currentView);\n\t}\n}\n","const CSRF = $(\"[name='csrf-token']\");\nconst $Kumbia = {\n    path: CSRF.attr('path'),\n    app: CSRF.attr('app'),\n};\n\nclass Utils {\n    static getKumbiaURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getAppURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getURL(url) {\n        if (typeof url == 'undefined') {\n            return $Kumbia.path;\n        } else {\n            return $Kumbia.path + url;\n        }\n    }\n\n    static redirectParentToAction(url) {\n        new Utils.redirectToAction(url, window.parent);\n    }\n\n    static redirectOpenerToAction(url) {\n        new Utils.redirectToAction(url, window.opener);\n    }\n\n    static redirectToAction(url, win) {\n        win = win ? win : window;\n        win.location.href = Utils.getKumbiaURL() + url;\n    }\n\n    static upperCaseFirst(str) {\n        let first = str.substring(0, 1).toUpperCase();\n        return first + str.substr(1, str.length - 1);\n    }\n\n    static numberFormat(number = 0, decimals = 0, dec_point = undefined, thousands_sep = undefined) {\n        let n = !isFinite(+number) ? 0 : +number;\n        let prec = !isFinite(+decimals) ? 0 : Math.abs(decimals);\n        let sep = typeof thousands_sep === 'undefined' ? ',' : thousands_sep;\n        let dec = typeof dec_point === 'undefined' ? '.' : dec_point;\n        let s = undefined;\n\n        const toFixedFix = (n, prec) => {\n            let k = Math.pow(10, prec);\n            return '' + Math.round(n * k) / k;\n        };\n\n        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\n        if (s[0].length > 3) {\n            s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n        }\n        if ((s[1] || '').length < prec) {\n            s[1] = s[1] || '';\n            s[1] += new Array(prec - s[1].length + 1).join('0');\n        }\n        return s.join(dec);\n    }\n\n    static validOnlyLetter(evt) {\n        evt = evt ? evt : window.event ? window.event : null;\n        let kc = evt.keyCode;\n        let ev = (kc >= 65 && kc <= 90) || kc == 8 || kc == 9 || kc == 32;\n        if (ev == false) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            evt.stopped = true;\n        }\n    }\n}\n\nclass Messages {\n    static display(message, type, timeout = 8000) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    }\n}\n\nexport { $Kumbia, Messages, Utils };\n","import { Region } from '@/Common/Region';\nimport loading from '@/Componentes/Views/Loading';\nimport { $Kumbia } from '@/Utils';\n\nconst $App = {\n    Models: {},\n    Collections: {},\n    router: null,\n    currentSubapp: null,\n    Modal: null,\n    layout: null,\n    el: null,\n    mainRegion: null,\n    startApp(RouterModule, ruta = '', el = '') {\n        this.el = el;\n        if (this.el === '') {\n            this.el = '#contentView';\n        }\n        this.initialize();\n        this.router = new RouterModule();\n        if (!Backbone.history.start()) {\n            this.router.navigate(ruta, { trigger: true });\n        }\n    },\n    initialize() {\n        _.extend(this, Backbone.Events);\n\n        const alertTypes = ['error', 'warning', 'success', 'info'];\n\n        alertTypes.forEach((type) => {\n            this.listenTo(this, `noty:${type}`, (message) => this.notify(type, message));\n            this.listenTo(this, `alert:${type}`, (transfer) => this.alert(type, transfer));\n        });\n\n        this.listenTo(this, 'confirma', this.confirmaApp);\n        this.listenTo(this, 'syncro', this.syncroRequest);\n        this.listenTo(this, 'ajax', this.ajaxKumbia);\n        this.listenTo(this, 'show:modal', this.renderModal);\n        this.listenTo(this, 'hide:modal', this.closeModal);\n        this.listenTo(this, 'down', this.downLoadFile);\n        this.listenTo(this, 'upload', this.uploadFile);\n    },\n    notify(type, message) {\n        this.showNoty(type, message.toString(), type === 'error' ? 10000 : 6000);\n    },\n    alert(type, transfer) {\n        const { title = 'Notificación', message = 'Nota no hay respuesta de la solicitud', timer = 8200 } = transfer;\n        this.showAlert(title, message, type, timer);\n    },\n    showNoty(type, message, timeout) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    },\n    showAlert(title = '', text = '', icon = '', timer) {\n        Swal.fire({\n            title,\n            html: text,\n            icon,\n            showConfirmButton: false,\n            confirmButtonText: 'Continuar',\n            timer,\n        });\n    },\n    startSubApplication(SubApplication, __services, options = {}) {\n        let services = [];\n\n        if (typeof __services != 'string') {\n            if (_.isArray(__services) === true) {\n                _.each(__services, (ser) => {\n                    services[ser.name] = new ser.inyectar();\n                });\n            } else if (_.isObject(__services) === true) {\n                services[__services.name] = new __services.inyectar();\n            } else {\n                services.push(__services);\n            }\n        }\n\n        this.mainRegion = new Region({ el: this.el, ...options });\n        this.currentSubapp = new SubApplication({\n            region: this.mainRegion,\n            services: services,\n            App: this,\n        });\n        return this.currentSubapp;\n    },\n    confirmaApp(transfer) {\n        const { message, callback, title = '¿Confirmar?', icon = 'warning' } = transfer;\n        Swal.fire({\n            title: title,\n            text: message,\n            icon: icon,\n            showCancelButton: true,\n            confirmButtonColor: '#2dce89',\n            cancelButtonColor: '#fc8c72',\n            confirmButtonText: 'SI, Continuar!',\n        }).then((result) => {\n            callback(result.isConfirmed);\n        });\n    },\n    syncroRequest(transfer) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        Backbone.ajax({\n            type: 'POST',\n            dataType: 'json',\n            url: url,\n            data: data,\n            cache: false,\n            contentType: 'application/x-www-form-urlencoded',\n            processData: true,\n            timeout: 52400,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('X-CSRF-TOKEN', csrf);\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    console.log(err.responseText);\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    console.log(err);\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n    renderModal(transfer = {}) {\n        const { title, view, options = false } = transfer;\n        const targetModal = $('#modalComponent');\n        if (!this.Modal) {\n            this.Modal = new bootstrap.Modal(document.getElementById('modalComponent'), {\n                keyboard: true,\n                backdrop: 'static',\n            });\n        }\n        targetModal.find('#mdl_set_title').text(title);\n        targetModal.find('#mdl_set_footer').css('display', 'none');\n        if (options) {\n            targetModal.find('.modal-dialog').addClass(options.bootstrapSize);\n        }\n        targetModal.find('#mdl_set_body').html(view.render().$el);\n        this.Modal.show();\n        if (options) {\n            this.Modal.on('hidden.bs.modal', (event) => view.remove());\n            targetModal.find('.close').addClass('d-none');\n        }\n    },\n    closeModal(view) {\n        if (this.Modal) {\n            this.Modal.hide();\n            this.Modal = null;\n        }\n        if (view) {\n            view.remove();\n        }\n    },\n    url(method = '', controller = undefined) {\n        return this.kumbiaURL((controller ?? '') + '/' + method);\n    },\n    kumbiaURL: (url) => {\n        if (_.isUndefined(url) === true) url = '';\n        return $Kumbia.path + url;\n    },\n    ajaxKumbia(transfer = {}) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        $.ajax({\n            type: 'POST',\n            data: data,\n            url: this.kumbiaURL(url),\n            dataType: 'html',\n            processData: true,\n            contentType: 'application/x-www-form-urlencoded',\n            cache: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n        })\n            .done((response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            })\n            .fail((err) => {\n                if (silent == false) loading.hide();\n                this.trigger('alert:error', { message: err.responseText });\n                return callback(false);\n            })\n            .always(() => {\n                if (silent == false) loading.hide();\n            });\n    },\n    downLoadFile(transfer) {\n        const { url, filename } = transfer;\n        const link = document.createElement('a');\n        link.href = this.kumbiaURL(url + '/' + filename);\n        link.download = filename;\n        console.log(link);\n        link.click();\n    },\n    uploadFile(transfer) {\n        const { url, data, callback, silent = false } = transfer;\n        let formData;\n        if (data instanceof FormData) {\n            formData = data;\n        } else {\n            formData = new FormData();\n            formData.append(data.name, data.file);\n        }\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n        Backbone.ajax({\n            url: url,\n            type: 'POST',\n            dataType: 'json',\n            data: formData,\n            cache: false,\n            contentType: false,\n            processData: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                console.log(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n};\n\nexport { $App };\n","const urlError = () => 'Url error is undefined!';\n\nconst emulateDefault = () => (Backbone.emulateHTTP = true);\n\nconst methodMap = {\n\tcreate: 'POST',\n\tupdate: 'PUT',\n\tfetch: 'GET',\n\tdestroy: 'DELETE',\n};\n\nBackbone.sync = (method, model, options) => {\n\tconst type = methodMap[method];\n\n\tconst params = _.extend(\n\t\t{\n\t\t\ttype: type,\n\t\t\tdataType: 'json',\n\t\t\tprocessData: false,\n\t\t},\n\t\toptions,\n\t);\n\n\tif (!params.url) {\n\t\tparams.url = model.url || urlError();\n\t}\n\n\tif (!params.data && model && (method == 'create' || method == 'update')) {\n\t\tparams.contentType = 'application/json';\n\t\tparams.data = JSON.stringify(model.toJSON());\n\t}\n\n\tif (!Backbone.emulateJSON && !Backbone.emulateHTTP) emulateDefault();\n\n\tif (Backbone.emulateJSON) {\n\t\tparams.contentType = 'application/x-www-form-urlencoded';\n\t\tparams.processData = true;\n\t\tparams.data = params.data ? { model: params.data } : {};\n\t\tparams.beforeSend = function (xhr) {\n\t\t\txhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t\t};\n\t}\n\n\tif (Backbone.emulateHTTP) {\n\t\tif (type === 'PUT' || type === 'DELETE') {\n\t\t\tif (Backbone.emulateJSON) params.data._method = type;\n\t\t\tparams.type = 'POST';\n\t\t\tparams.beforeSend = (xhr) => {\n\t\t\t\txhr.setRequestHeader('X-HTTP-Method-Override', type);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn $.ajax(params);\n};\n\nconst capitalize = (_string) => {\n\tif (typeof _string !== 'string') return '';\n\tconst exp = _string.toLowerCase().split(' ');\n\tif (exp.length == 1) {\n\t\t_string = exp[0].charAt(0).toUpperCase() + exp[0].slice(1);\n\t}\n\tif (exp.length > 1) {\n\t\tconst parts = new Array();\n\t\t_.each(exp, (parte) => {\n\t\t\tparts.push(parte.charAt(0).toUpperCase() + parte.slice(1));\n\t\t});\n\t\t_string = parts.join(' ');\n\t}\n\treturn _string;\n};\n\nconst is_email = (value) => {\n\tconst pattern = /^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\\.([a-zA-Z])+([a-zA-Z])+/;\n\treturn pattern.test(value);\n};\n\nconst is_numeric = (value) => {\n\tconst numerico = /^([0-9]+){0,20}$/;\n\treturn numerico.test(value);\n};\n\nconst is_date = (value) => {\n\tconst regla = /^([2]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/;\n\treturn regla.test(value);\n};\n\nconst is_date_general = (value) => {\n\tconst regla = /^([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/;\n\treturn regla.test(value);\n};\n\nconst Testeo = (() => {\n\tconst showError = (target = '', message = '', out = true) => {\n\t\tconst el = $(`[group-for='${target}']`);\n\t\tel.find('.form-control').addClass('invalid');\n\n\t\tif (out) {\n\t\t\tif (el.find('.validation-error')) el.find('.validation-error').remove();\n\t\t\tconst toggle = document.createElement('div');\n\t\t\tconst sel = $(toggle);\n\t\t\tsel.attr('class', 'validation-error');\n\t\t\tsel.html(`<span>${message}</span>`);\n\t\t\tel.append(sel);\n\t\t\tsetTimeout(() => sel.remove(), 6000);\n\t\t\tel.find('.form-control').on('focus', () => {\n\t\t\t\tsel.remove();\n\t\t\t\tel.find('.form-control').removeClass('invalid');\n\t\t\t});\n\t\t}\n\t\tsetTimeout(() => el.find('.form-control').removeClass('invalid'), 6000);\n\t\treturn message;\n\t};\n\n\tconst validate = (attr, target, regex, errorMessage, out = false) => {\n\t\tif (!regex.test(attr)) {\n\t\t\treturn showError(target, errorMessage, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst isPhone = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst telefonoRegex = /^([0-9]){7,10}$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\ttelefonoRegex,\n\t\t\t`El campo ${label} debe ser un valor válido.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst isNumeric = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst numericoRegex = /^([0-9]+){0,20}$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\tnumericoRegex,\n\t\t\t`El campo ${label} debe ser un valor válido.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst hasSpaces = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst espaciosRegex = /\\s/;\n\t\tif (espaciosRegex.test(attr)) {\n\t\t\treturn showError(target, `El campo ${label} no puede contener espacios.`, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst hasEmpty = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tif (attr === '' || attr === void 0 || attr === undefined || attr === null) {\n\t\t\treturn showError(target, `El campo ${label} no puede estar indefinido.`, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst isEmail = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst emailRegex = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\temailRegex,\n\t\t\t`La dirección de ${label} no es válida.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst isIdentification = (transfer = {}) => {\n\t\tconst { attr, target, min = 1, max = 100, out = false, label = '' } = transfer;\n\n\t\tconst numericoRegex = /^([0-9]+){1,100}$/;\n\t\tif (!numericoRegex.test(attr)) {\n\t\t\treturn showError(target, `El campo ${label} debe ser un valor válido.`, out);\n\t\t} else {\n\t\t\tconst express = new RegExp('^([0-9]+){' + min + ',' + max + '}', 'i');\n\t\t\tif (!express.test(attr)) {\n\t\t\t\treturn showError(\n\t\t\t\t\ttarget,\n\t\t\t\t\t`El campo ${label} debe ser un valor entre ${min} y ${max} dígitos.`,\n\t\t\t\t\tout,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst maxSize = (transfer = {}) => {\n\t\tconst { attr, target, max = 225, out = false, label = '' } = transfer;\n\t\tif (!_.isUndefined(attr)) {\n\t\t\tif (attr.toString().length > max) {\n\t\t\t\treturn showError(\n\t\t\t\t\ttarget,\n\t\t\t\t\t`El campo ${label} no puede tener ${max} número de caracteres.`,\n\t\t\t\t\tout,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst isDate = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\n\t\tconst __isDate = function (fecha) {\n\t\t\tconst regexFecha = /^\\d{4}-\\d{2}-\\d{2}$/;\n\n\t\t\tif (!fecha.match(regexFecha)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst fechaDividida = fecha.split('-');\n\t\t\tconst year = parseInt(fechaDividida[0], 10);\n\t\t\tconst month = parseInt(fechaDividida[1], 10);\n\t\t\tconst day = parseInt(fechaDividida[2], 10);\n\n\t\t\tif (month < 1 || month > 12) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (day < 1 || day > 31) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ((month === 4 || month === 6 || month === 9 || month === 11) && day === 31) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (month === 2) {\n\t\t\t\tconst esBisiesto = (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n\t\t\t\tif (day > 29 || (day === 29 && !esBisiesto)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tconst res = __isDate(attr);\n\t\tif (res) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn showError(\n\t\t\t\ttarget,\n\t\t\t\t`El campo ${label} debe ser un valor de fecha valido.`,\n\t\t\t\tout,\n\t\t\t);\n\t\t}\n\t};\n\n\treturn {\n\t\tespacio: hasSpaces,\n\t\tnumerico: isNumeric,\n\t\tvacio: hasEmpty,\n\t\temail: isEmail,\n\t\ttelefono: isPhone,\n\t\tidenti: isIdentification,\n\t\tdate: isDate,\n\t\tmax: maxSize,\n\t};\n})();\n\nconst langDataTable = {\n\tprocessing: 'Procesando...',\n\tlengthMenu: 'Mostrar _MENU_ resultados por pagínas',\n\tzeroRecords: 'No se encontraron resultados',\n\tinfo: 'Mostrando pagína _PAGE_ de _PAGES_.\\tTotal de _TOTAL_ registros.',\n\tinfoEmpty: 'No records available',\n\tinfoFiltered: '(filtered from _MAX_ total records)',\n\temptyTable: 'Ningún dato disponible en esta tabla',\n\tsearch: 'Buscar',\n\tpaginate: {\n\t\tnext: 'siguiente',\n\t\tprevius: 'anterior',\n\t\tfirst: 'primero',\n\t\tlast: 'ultimo',\n\t},\n\tloadingRecords: 'Cargando...',\n\tbuttons: {\n\t\tcopy: 'Copiar',\n\t\tcolvis: 'Visibilidad',\n\t\tcollection: 'Colección',\n\t\tcolvisRestore: 'Restaurar visibilidad',\n\t\tcopyKeys:\n\t\t\t'Presione ctrl o u2318 + C para copiar los datos de la tabla al portapapeles del sistema. <br /> <br /> Para cancelar, haga clic en este mensaje o presione escape.',\n\t\tcopySuccess: {\n\t\t\t1: 'Copiada 1 fila al portapapeles',\n\t\t\t_: 'Copiadas %d fila al portapapeles',\n\t\t},\n\t},\n};\n\nfunction handleFiles() {\n\tconst _el = document.querySelector(\"[data-toggle='upload']\");\n\tif (_el.files.length == 0) return false;\n\n\tconst test = /(\\.docx\\.doc|\\.pdf|\\.jpg|\\.png|\\.jpeg)$/i;\n\tconst fpath = _el.files[0]['name'];\n\tif (!test.exec(fpath)) {\n\t\tdocument.getElementById('name_archivo').textContent = '';\n\t\tdocument.getElementById('remover_archivo').setAttribute('disabled', true);\n\t\tdocument.getElementById('bt_hacer_cargue').setAttribute('disabled', true);\n\n\t\talert(\n\t\t\t'Please upload file having extensions .pdf, .docx, .doc, .png, .jpg, .jpeg only.',\n\t\t);\n\t\t_el.value = '';\n\t\treturn false;\n\t} else {\n\t\tif (_el.files && _el.files[0]) {\n\t\t\tconst _exp = fpath.split('_');\n\t\t\tfpath = _exp.join('\\r');\n\t\t\tdocument.getElementById('name_archivo').textContent = fpath;\n\t\t\tdocument.getElementById('remover_archivo').removeAttribute('disabled');\n\t\t\tdocument.getElementById('bt_hacer_cargue').removeAttribute('disabled');\n\t\t}\n\t}\n}\n\nconst eventsFormControl = (el) => {\n\tel.find('input.form-control').each(function () {\n\t\tif ($.trim(this.value).length == 0) {\n\t\t\t$(this).siblings('.control-label').removeClass('top');\n\t\t} else {\n\t\t\t$(this).siblings('.control-label').addClass('top');\n\t\t}\n\t});\n\n\tel.find('input.form-control').on('click', function () {\n\t\t$(this).siblings('.control-label').addClass('top');\n\t});\n\n\tel.find('label.control-label').on('click', function () {\n\t\tif ($(this).hasClass('top') === false) $(this).addClass('top');\n\t});\n\n\tel.find('input.form-control').focus(function () {\n\t\t$(this).siblings('.control-label').addClass('top');\n\t});\n\n\tel.find('input.form-control').blur(function () {\n\t\tif ($.trim(this.value).length == 0) {\n\t\t\t$(this).siblings('.control-label').removeClass('top');\n\t\t} else {\n\t\t\t$(this).siblings('.control-label').addClass('top');\n\t\t}\n\t});\n\n\treturn false;\n};\n\nexport {\n\thandleFiles,\n\tlangDataTable,\n\tTesteo,\n\tcapitalize,\n\tis_numeric,\n\tis_email,\n\tis_date,\n\tis_date_general,\n\teventsFormControl,\n};\n","export class Controller {\n\tApp = null;\n\tcurrentController = null;\n\tregion = null;\n\tlayout = null;\n\n\tconstructor(options) {\n\t\tthis.currentController = undefined;\n\t\tthis.region = options.region;\n\t\tthis.App = options.App;\n\t}\n\n\tstartController(Controller) {\n\t\tif (this.currentController && this.currentController instanceof Controller) {\n\t\t\treturn this.currentController;\n\t\t}\n\n\t\tif (this.currentController && this.currentController.destroy) {\n\t\t\tthis.currentController.destroy();\n\t\t}\n\n\t\tthis.currentController = new Controller({\n\t\t\tregion: this.region,\n\t\t\tApp: this.App,\n\t\t});\n\t\treturn this.currentController;\n\t}\n}\n","export class ModelView extends Backbone.View {\n\tmodelDOM = null;\n\n\tconstructor(options = { modelDOM: null, onRender: null }) {\n\t\tsuper(options);\n\t\tthis.modelDOM = options.modelDOM || Backbone.Model;\n\t\tthis.template = null;\n\t\t_.extend(this, options);\n\t\tthis.onRender = _.isFunction(this.onRender) ? this.onRender : null;\n\t}\n\n\t/**\n\t * @override\n\t */\n\trender() {\n\t\tconst data = this.serializeData();\n\t\tlet renderedHtml;\n\n\t\tif (_.isFunction(this.template)) {\n\t\t\trenderedHtml = this.template(data);\n\t\t} else if (_.isString(this.template)) {\n\t\t\tconst compiledTemplate = this.compileTemplate();\n\t\t\trenderedHtml = compiledTemplate(data);\n\t\t}\n\n\t\tthis.$el.html(renderedHtml);\n\t\tif (this.onRender) this.onRender(this.$el);\n\t\treturn this;\n\t}\n\n\tcompileTemplate() {\n\t\tif (_.isString(this.template) === true) {\n\t\t\tconst _el = document.querySelector(this.template);\n\t\t\treturn _.template(_el.innerHTML);\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Transform Model into JSON representation\n\tserializeData() {\n\t\tlet data = null;\n\n\t\t// Only when model is available\n\t\tif (this.modelDOM !== null) {\n\t\t\tif (this.model instanceof this.modelDOM) {\n\t\t\t\tdata = this.model.toJSON();\n\t\t\t} else {\n\t\t\t\tif (typeof this.model == 'object') {\n\t\t\t\t\tdata = this.model;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof this.model == 'object') {\n\t\t\t\tdata = this.model;\n\t\t\t}\n\t\t}\n\t\treturn data ? data : {};\n\t}\n\n\tgetInput(selector) {\n\t\treturn this.$el.find(`[name='${selector}']`).val();\n\t}\n\n\tgetInputById(id) {\n\t\treturn this.$el.find('#' + id).val();\n\t}\n\n\tsetInput(selector, val) {\n\t\treturn this.$el.find(`[name='${selector}']`).val(val ?? '');\n\t}\n\n\tgetInputByTag(tag, key) {\n\t\treturn this.$el.find(`[${tag}='${key}']`).val();\n\t}\n\n\tgetCheck(selector) {\n\t\treturn this.$el.find(`[name='${selector}']:checked`).length;\n\t}\n\n\tgetInputFile(id) {\n\t\treturn this.$el.find('#' + id).files[0];\n\t}\n}\n","import { ModelView } from '@/Common/ModelView';\nimport { Region } from './Region';\n\nexport class Layout extends ModelView {\n\ttagRegions = {};\n\tregionsLayout = {};\n\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\t_.extend(this, options);\n\t}\n\n\t/**\n\t * @override\n\t */\n\trender() {\n\t\tthis.closeRegions();\n\t\tconst result = ModelView.prototype.render.call(this);\n\t\tthis.configureRegions();\n\t\treturn result;\n\t}\n\n\tconfigureRegions() {\n\t\tconst regionDefinitions = this.tagRegions || {};\n\t\tif (!this.regionsLayout) this.regionsLayout = {};\n\n\t\t_.each(regionDefinitions, (__selector, name) => {\n\t\t\tlet $el = this.$(__selector);\n\t\t\tthis.regionsLayout[name] = new Region({ el: $el });\n\t\t});\n\t}\n\n\t// Get a Region instance for a named region\n\tgetRegion(regionName) {\n\t\tif (!this.regionsLayout) return false;\n\t\treturn this.regionsLayout[regionName];\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove(options = {}) {\n\t\tthis.stopListening();\n\t\tthis.closeRegions();\n\t\tModelView.prototype.remove.call(this, options);\n\t}\n\n\tcloseRegions() {\n\t\tif (!this.regionsLayout) return false;\n\t\t_.each(this.regionsLayout, (region) => {\n\t\t\tif (region && region.remove) region.remove();\n\t\t});\n\t}\n}\n","import { Layout } from '@/Common/Layout';\n\nexport default class LayoutLogin extends Layout {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\ttemplate: '#tmp_layout',\n\t\t\ttagRegions: options.regions || {\n\t\t\t\tlogin: '#render_login',\n\t\t\t\trecovery: '#render_recovery',\n\t\t\t\tregister: '#render_register',\n\t\t\t\tverification: '#render_verification',\n\t\t\t\tinfo: '#render_info',\n\t\t\t},\n\t\t});\n\t}\n}\n","'use strict';\n\nconst componenetDefaultAttribute = {\n\tname: null,\n\ttype: 'text',\n\tinfo: void 0,\n\tlabel: void 0,\n\tplaceholder: void 0,\n\tdisabled: false,\n\treadonly: false,\n\torder: 1,\n\tform: 'inputText',\n\tgrupo: 1,\n\ttarget: -1,\n\tvalor: '',\n\tevent: void 0,\n\tdata: void 0,\n\tdatemax: '',\n\tsearchType: false,\n\tsearch: '',\n\tclassName: '',\n};\n\nclass ComponentModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'name';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\t...componenetDefaultAttribute,\n\t\t};\n\t}\n}\n\nclass ComponentValidModel extends ComponentModel {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'name';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\t...componenetDefaultAttribute,\n\t\t\tpattern: '', //tipo validacion\n\t\t\tdvalor: '', //valor por defecto\n\t\t\tlongitud: '', //valor de longitud del campo\n\t\t\trango: '', //valor de rango para datos numericos\n\t\t\tsize: 42,\n\t\t\tdetalle: '',\n\t\t};\n\t}\n}\n\nexport { componenetDefaultAttribute, ComponentModel, ComponentValidModel };\n","/*! choices.js v11.1.0 | © 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nvar ActionType = {\n    ADD_CHOICE: 'ADD_CHOICE',\n    REMOVE_CHOICE: 'REMOVE_CHOICE',\n    FILTER_CHOICES: 'FILTER_CHOICES',\n    ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n    CLEAR_CHOICES: 'CLEAR_CHOICES',\n    ADD_GROUP: 'ADD_GROUP',\n    ADD_ITEM: 'ADD_ITEM',\n    REMOVE_ITEM: 'REMOVE_ITEM',\n    HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n};\n\nvar EventType = {\n    showDropdown: 'showDropdown',\n    hideDropdown: 'hideDropdown',\n    change: 'change',\n    choice: 'choice',\n    search: 'search',\n    addItem: 'addItem',\n    removeItem: 'removeItem',\n    highlightItem: 'highlightItem',\n    highlightChoice: 'highlightChoice',\n    unhighlightItem: 'unhighlightItem',\n};\n\nvar KeyCodeMap = {\n    TAB_KEY: 9,\n    SHIFT_KEY: 16,\n    BACK_KEY: 46,\n    DELETE_KEY: 8,\n    ENTER_KEY: 13,\n    A_KEY: 65,\n    ESC_KEY: 27,\n    UP_KEY: 38,\n    DOWN_KEY: 40,\n    PAGE_UP_KEY: 33,\n    PAGE_DOWN_KEY: 34,\n};\n\nvar ObjectsInConfig = ['fuseOptions', 'classNames'];\n\nvar PassedElementTypes = {\n    Text: 'text',\n    SelectOne: 'select-one',\n    SelectMultiple: 'select-multiple',\n};\n\nvar addChoice = function (choice) { return ({\n    type: ActionType.ADD_CHOICE,\n    choice: choice,\n}); };\nvar removeChoice = function (choice) { return ({\n    type: ActionType.REMOVE_CHOICE,\n    choice: choice,\n}); };\nvar filterChoices = function (results) { return ({\n    type: ActionType.FILTER_CHOICES,\n    results: results,\n}); };\nvar activateChoices = function (active) {\n    return ({\n        type: ActionType.ACTIVATE_CHOICES,\n        active: active,\n    });\n};\n\nvar addGroup = function (group) { return ({\n    type: ActionType.ADD_GROUP,\n    group: group,\n}); };\n\nvar addItem = function (item) { return ({\n    type: ActionType.ADD_ITEM,\n    item: item,\n}); };\nvar removeItem$1 = function (item) { return ({\n    type: ActionType.REMOVE_ITEM,\n    item: item,\n}); };\nvar highlightItem = function (item, highlighted) { return ({\n    type: ActionType.HIGHLIGHT_ITEM,\n    item: item,\n    highlighted: highlighted,\n}); };\n\nvar getRandomNumber = function (min, max) { return Math.floor(Math.random() * (max - min) + min); };\nvar generateChars = function (length) {\n    return Array.from({ length: length }, function () { return getRandomNumber(0, 36).toString(36); }).join('');\n};\nvar generateId = function (element, prefix) {\n    var id = element.id || (element.name && \"\".concat(element.name, \"-\").concat(generateChars(2))) || generateChars(4);\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = \"\".concat(prefix, \"-\").concat(id);\n    return id;\n};\nvar getAdjacentEl = function (startEl, selector, direction) {\n    if (direction === void 0) { direction = 1; }\n    var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n    var sibling = startEl[prop];\n    while (sibling) {\n        if (sibling.matches(selector)) {\n            return sibling;\n        }\n        sibling = sibling[prop];\n    }\n    return null;\n};\nvar isScrolledIntoView = function (element, parent, direction) {\n    if (direction === void 0) { direction = 1; }\n    var isVisible;\n    if (direction > 0) {\n        // In view from bottom\n        isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n    }\n    else {\n        // In view from top\n        isVisible = element.offsetTop >= parent.scrollTop;\n    }\n    return isVisible;\n};\nvar sanitise = function (value) {\n    if (typeof value !== 'string') {\n        if (value === null || value === undefined) {\n            return '';\n        }\n        if (typeof value === 'object') {\n            if ('raw' in value) {\n                return sanitise(value.raw);\n            }\n            if ('trusted' in value) {\n                return value.trusted;\n            }\n        }\n        return value;\n    }\n    return value\n        .replace(/&/g, '&amp;')\n        .replace(/>/g, '&gt;')\n        .replace(/</g, '&lt;')\n        .replace(/'/g, '&#039;')\n        .replace(/\"/g, '&quot;');\n};\nvar strToEl = (function () {\n    var tmpEl = document.createElement('div');\n    return function (str) {\n        tmpEl.innerHTML = str.trim();\n        var firstChild = tmpEl.children[0];\n        while (tmpEl.firstChild) {\n            tmpEl.removeChild(tmpEl.firstChild);\n        }\n        return firstChild;\n    };\n})();\nvar resolveNoticeFunction = function (fn, value) {\n    return typeof fn === 'function' ? fn(sanitise(value), value) : fn;\n};\nvar resolveStringFunction = function (fn) {\n    return typeof fn === 'function' ? fn() : fn;\n};\nvar unwrapStringForRaw = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n        if ('raw' in s) {\n            return s.raw;\n        }\n    }\n    return '';\n};\nvar unwrapStringForEscaped = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('escaped' in s) {\n            return s.escaped;\n        }\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n    }\n    return '';\n};\nvar escapeForTemplate = function (allowHTML, s) {\n    return allowHTML ? unwrapStringForEscaped(s) : sanitise(s);\n};\nvar setElementHtml = function (el, allowHtml, html) {\n    el.innerHTML = escapeForTemplate(allowHtml, html);\n};\nvar sortByAlpha = function (_a, _b) {\n    var value = _a.value, _c = _a.label, label = _c === void 0 ? value : _c;\n    var value2 = _b.value, _d = _b.label, label2 = _d === void 0 ? value2 : _d;\n    return unwrapStringForRaw(label).localeCompare(unwrapStringForRaw(label2), [], {\n        sensitivity: 'base',\n        ignorePunctuation: true,\n        numeric: true,\n    });\n};\nvar sortByRank = function (a, b) {\n    return a.rank - b.rank;\n};\nvar dispatchEvent = function (element, type, customArgs) {\n    if (customArgs === void 0) { customArgs = null; }\n    var event = new CustomEvent(type, {\n        detail: customArgs,\n        bubbles: true,\n        cancelable: true,\n    });\n    return element.dispatchEvent(event);\n};\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar diff = function (a, b) {\n    var aKeys = Object.keys(a).sort();\n    var bKeys = Object.keys(b).sort();\n    return aKeys.filter(function (i) { return bKeys.indexOf(i) < 0; });\n};\nvar getClassNames = function (ClassNames) {\n    return Array.isArray(ClassNames) ? ClassNames : [ClassNames];\n};\nvar getClassNamesSelector = function (option) {\n    if (option && Array.isArray(option)) {\n        return option\n            .map(function (item) {\n            return \".\".concat(item);\n        })\n            .join('');\n    }\n    return \".\".concat(option);\n};\nvar addClassesToElement = function (element, className) {\n    var _a;\n    (_a = element.classList).add.apply(_a, getClassNames(className));\n};\nvar removeClassesFromElement = function (element, className) {\n    var _a;\n    (_a = element.classList).remove.apply(_a, getClassNames(className));\n};\nvar parseCustomProperties = function (customProperties) {\n    if (typeof customProperties !== 'undefined') {\n        try {\n            return JSON.parse(customProperties);\n        }\n        catch (e) {\n            return customProperties;\n        }\n    }\n    return {};\n};\nvar updateClassList = function (item, add, remove) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        removeClassesFromElement(itemEl, remove);\n        addClassesToElement(itemEl, add);\n    }\n};\n\nvar Dropdown = /** @class */ (function () {\n    function Dropdown(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.isActive = false;\n    }\n    /**\n     * Show dropdown to user by adding active state class\n     */\n    Dropdown.prototype.show = function () {\n        addClassesToElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isActive = true;\n        return this;\n    };\n    /**\n     * Hide dropdown from user\n     */\n    Dropdown.prototype.hide = function () {\n        removeClassesFromElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.isActive = false;\n        return this;\n    };\n    return Dropdown;\n}());\n\nvar Container = /** @class */ (function () {\n    function Container(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, position = _a.position;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.position = position;\n        this.isOpen = false;\n        this.isFlipped = false;\n        this.isDisabled = false;\n        this.isLoading = false;\n    }\n    /**\n     * Determine whether container should be flipped based on passed\n     * dropdown position\n     */\n    Container.prototype.shouldFlip = function (dropdownPos, dropdownHeight) {\n        // If flip is enabled and the dropdown bottom position is\n        // greater than the window height flip the dropdown.\n        var shouldFlip = false;\n        if (this.position === 'auto') {\n            shouldFlip =\n                this.element.getBoundingClientRect().top - dropdownHeight >= 0 &&\n                    !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n        }\n        else if (this.position === 'top') {\n            shouldFlip = true;\n        }\n        return shouldFlip;\n    };\n    Container.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Container.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Container.prototype.open = function (dropdownPos, dropdownHeight) {\n        addClassesToElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isOpen = true;\n        if (this.shouldFlip(dropdownPos, dropdownHeight)) {\n            addClassesToElement(this.element, this.classNames.flippedState);\n            this.isFlipped = true;\n        }\n    };\n    Container.prototype.close = function () {\n        removeClassesFromElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.removeActiveDescendant();\n        this.isOpen = false;\n        // A dropdown flips if it does not have space within the page\n        if (this.isFlipped) {\n            removeClassesFromElement(this.element, this.classNames.flippedState);\n            this.isFlipped = false;\n        }\n    };\n    Container.prototype.addFocusState = function () {\n        addClassesToElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.removeFocusState = function () {\n        removeClassesFromElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.enable = function () {\n        removeClassesFromElement(this.element, this.classNames.disabledState);\n        this.element.removeAttribute('aria-disabled');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '0');\n        }\n        this.isDisabled = false;\n    };\n    Container.prototype.disable = function () {\n        addClassesToElement(this.element, this.classNames.disabledState);\n        this.element.setAttribute('aria-disabled', 'true');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '-1');\n        }\n        this.isDisabled = true;\n    };\n    Container.prototype.wrap = function (element) {\n        var el = this.element;\n        var parentNode = element.parentNode;\n        if (parentNode) {\n            if (element.nextSibling) {\n                parentNode.insertBefore(el, element.nextSibling);\n            }\n            else {\n                parentNode.appendChild(el);\n            }\n        }\n        el.appendChild(element);\n    };\n    Container.prototype.unwrap = function (element) {\n        var el = this.element;\n        var parentNode = el.parentNode;\n        if (parentNode) {\n            // Move passed element outside this element\n            parentNode.insertBefore(element, el);\n            // Remove this element\n            parentNode.removeChild(el);\n        }\n    };\n    Container.prototype.addLoadingState = function () {\n        addClassesToElement(this.element, this.classNames.loadingState);\n        this.element.setAttribute('aria-busy', 'true');\n        this.isLoading = true;\n    };\n    Container.prototype.removeLoadingState = function () {\n        removeClassesFromElement(this.element, this.classNames.loadingState);\n        this.element.removeAttribute('aria-busy');\n        this.isLoading = false;\n    };\n    return Container;\n}());\n\nvar Input = /** @class */ (function () {\n    function Input(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, preventPaste = _a.preventPaste;\n        this.element = element;\n        this.type = type;\n        this.classNames = classNames;\n        this.preventPaste = preventPaste;\n        this.isFocussed = this.element.isEqualNode(document.activeElement);\n        this.isDisabled = element.disabled;\n        this._onPaste = this._onPaste.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n    }\n    Object.defineProperty(Input.prototype, \"placeholder\", {\n        set: function (placeholder) {\n            this.element.placeholder = placeholder;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Input.prototype.addEventListeners = function () {\n        var el = this.element;\n        el.addEventListener('paste', this._onPaste);\n        el.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        el.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        el.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n    };\n    Input.prototype.removeEventListeners = function () {\n        var el = this.element;\n        el.removeEventListener('input', this._onInput);\n        el.removeEventListener('paste', this._onPaste);\n        el.removeEventListener('focus', this._onFocus);\n        el.removeEventListener('blur', this._onBlur);\n    };\n    Input.prototype.enable = function () {\n        var el = this.element;\n        el.removeAttribute('disabled');\n        this.isDisabled = false;\n    };\n    Input.prototype.disable = function () {\n        var el = this.element;\n        el.setAttribute('disabled', '');\n        this.isDisabled = true;\n    };\n    Input.prototype.focus = function () {\n        if (!this.isFocussed) {\n            this.element.focus();\n        }\n    };\n    Input.prototype.blur = function () {\n        if (this.isFocussed) {\n            this.element.blur();\n        }\n    };\n    Input.prototype.clear = function (setWidth) {\n        if (setWidth === void 0) { setWidth = true; }\n        this.element.value = '';\n        if (setWidth) {\n            this.setWidth();\n        }\n        return this;\n    };\n    /**\n     * Set the correct input width based on placeholder\n     * value or input value\n     */\n    Input.prototype.setWidth = function () {\n        // Resize input to contents or placeholder\n        var element = this.element;\n        element.style.minWidth = \"\".concat(element.placeholder.length + 1, \"ch\");\n        element.style.width = \"\".concat(element.value.length + 1, \"ch\");\n    };\n    Input.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Input.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Input.prototype._onInput = function () {\n        if (this.type !== PassedElementTypes.SelectOne) {\n            this.setWidth();\n        }\n    };\n    Input.prototype._onPaste = function (event) {\n        if (this.preventPaste) {\n            event.preventDefault();\n        }\n    };\n    Input.prototype._onFocus = function () {\n        this.isFocussed = true;\n    };\n    Input.prototype._onBlur = function () {\n        this.isFocussed = false;\n    };\n    return Input;\n}());\n\nvar SCROLLING_SPEED = 4;\n\nvar List = /** @class */ (function () {\n    function List(_a) {\n        var element = _a.element;\n        this.element = element;\n        this.scrollPos = this.element.scrollTop;\n        this.height = this.element.offsetHeight;\n    }\n    List.prototype.prepend = function (node) {\n        var child = this.element.firstElementChild;\n        if (child) {\n            this.element.insertBefore(node, child);\n        }\n        else {\n            this.element.append(node);\n        }\n    };\n    List.prototype.scrollToTop = function () {\n        this.element.scrollTop = 0;\n    };\n    List.prototype.scrollToChildElement = function (element, direction) {\n        var _this = this;\n        if (!element) {\n            return;\n        }\n        var listHeight = this.element.offsetHeight;\n        // Scroll position of dropdown\n        var listScrollPosition = this.element.scrollTop + listHeight;\n        var elementHeight = element.offsetHeight;\n        // Distance from bottom of element to top of parent\n        var elementPos = element.offsetTop + elementHeight;\n        // Difference between the element and scroll position\n        var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n        requestAnimationFrame(function () {\n            _this._animateScroll(destination, direction);\n        });\n    };\n    List.prototype._scrollDown = function (scrollPos, strength, destination) {\n        var easing = (destination - scrollPos) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos + distance;\n    };\n    List.prototype._scrollUp = function (scrollPos, strength, destination) {\n        var easing = (scrollPos - destination) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos - distance;\n    };\n    List.prototype._animateScroll = function (destination, direction) {\n        var _this = this;\n        var strength = SCROLLING_SPEED;\n        var choiceListScrollTop = this.element.scrollTop;\n        var continueAnimation = false;\n        if (direction > 0) {\n            this._scrollDown(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop < destination) {\n                continueAnimation = true;\n            }\n        }\n        else {\n            this._scrollUp(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop > destination) {\n                continueAnimation = true;\n            }\n        }\n        if (continueAnimation) {\n            requestAnimationFrame(function () {\n                _this._animateScroll(destination, direction);\n            });\n        }\n    };\n    return List;\n}());\n\nvar WrappedElement = /** @class */ (function () {\n    function WrappedElement(_a) {\n        var element = _a.element, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.isDisabled = false;\n    }\n    Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n        get: function () {\n            return this.element.dataset.choice === 'active';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"dir\", {\n        get: function () {\n            return this.element.dir;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.setAttribute('value', value);\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedElement.prototype.conceal = function () {\n        var el = this.element;\n        // Hide passed input\n        addClassesToElement(el, this.classNames.input);\n        el.hidden = true;\n        // Remove element from tab index\n        el.tabIndex = -1;\n        // Backup original styles if any\n        var origStyle = el.getAttribute('style');\n        if (origStyle) {\n            el.setAttribute('data-choice-orig-style', origStyle);\n        }\n        el.setAttribute('data-choice', 'active');\n    };\n    WrappedElement.prototype.reveal = function () {\n        var el = this.element;\n        // Reinstate passed element\n        removeClassesFromElement(el, this.classNames.input);\n        el.hidden = false;\n        el.removeAttribute('tabindex');\n        // Recover original styles if any\n        var origStyle = el.getAttribute('data-choice-orig-style');\n        if (origStyle) {\n            el.removeAttribute('data-choice-orig-style');\n            el.setAttribute('style', origStyle);\n        }\n        else {\n            el.removeAttribute('style');\n        }\n        el.removeAttribute('data-choice');\n    };\n    WrappedElement.prototype.enable = function () {\n        this.element.removeAttribute('disabled');\n        this.element.disabled = false;\n        this.isDisabled = false;\n    };\n    WrappedElement.prototype.disable = function () {\n        this.element.setAttribute('disabled', '');\n        this.element.disabled = true;\n        this.isDisabled = true;\n    };\n    WrappedElement.prototype.triggerEvent = function (eventType, data) {\n        dispatchEvent(this.element, eventType, data || {});\n    };\n    return WrappedElement;\n}());\n\nvar WrappedInput = /** @class */ (function (_super) {\n    __extends(WrappedInput, _super);\n    function WrappedInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return WrappedInput;\n}(WrappedElement));\n\nvar coerceBool = function (arg, defaultValue) {\n    if (defaultValue === void 0) { defaultValue = true; }\n    return typeof arg === 'undefined' ? defaultValue : !!arg;\n};\nvar stringToHtmlClass = function (input) {\n    if (typeof input === 'string') {\n        // eslint-disable-next-line no-param-reassign\n        input = input.split(' ').filter(function (s) { return s.length; });\n    }\n    if (Array.isArray(input) && input.length) {\n        return input;\n    }\n    return undefined;\n};\nvar mapInputToChoice = function (value, allowGroup, allowRawString) {\n    if (allowRawString === void 0) { allowRawString = true; }\n    if (typeof value === 'string') {\n        var sanitisedValue = sanitise(value);\n        var userValue = allowRawString || sanitisedValue === value ? value : { escaped: sanitisedValue, raw: value };\n        var result_1 = mapInputToChoice({\n            value: value,\n            label: userValue,\n            selected: true,\n        }, false);\n        return result_1;\n    }\n    var groupOrChoice = value;\n    if ('choices' in groupOrChoice) {\n        if (!allowGroup) {\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup\n            throw new TypeError(\"optGroup is not allowed\");\n        }\n        var group = groupOrChoice;\n        var choices = group.choices.map(function (e) { return mapInputToChoice(e, false); });\n        var result_2 = {\n            id: 0, // actual ID will be assigned during _addGroup\n            label: unwrapStringForRaw(group.label) || group.value,\n            active: !!choices.length,\n            disabled: !!group.disabled,\n            choices: choices,\n        };\n        return result_2;\n    }\n    var choice = groupOrChoice;\n    var result = {\n        id: 0, // actual ID will be assigned during _addChoice\n        group: null, // actual group will be assigned during _addGroup but before _addChoice\n        score: 0, // used in search\n        rank: 0, // used in search, stable sort order\n        value: choice.value,\n        label: choice.label || choice.value,\n        active: coerceBool(choice.active),\n        selected: coerceBool(choice.selected, false),\n        disabled: coerceBool(choice.disabled, false),\n        placeholder: coerceBool(choice.placeholder, false),\n        highlighted: false,\n        labelClass: stringToHtmlClass(choice.labelClass),\n        labelDescription: choice.labelDescription,\n        customProperties: choice.customProperties,\n    };\n    return result;\n};\n\nvar isHtmlInputElement = function (e) { return e.tagName === 'INPUT'; };\nvar isHtmlSelectElement = function (e) { return e.tagName === 'SELECT'; };\nvar isHtmlOption = function (e) { return e.tagName === 'OPTION'; };\nvar isHtmlOptgroup = function (e) { return e.tagName === 'OPTGROUP'; };\n\nvar WrappedSelect = /** @class */ (function (_super) {\n    __extends(WrappedSelect, _super);\n    function WrappedSelect(_a) {\n        var element = _a.element, classNames = _a.classNames, template = _a.template, extractPlaceholder = _a.extractPlaceholder;\n        var _this = _super.call(this, { element: element, classNames: classNames }) || this;\n        _this.template = template;\n        _this.extractPlaceholder = extractPlaceholder;\n        return _this;\n    }\n    Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n        get: function () {\n            return (this.element.querySelector('option[value=\"\"]') ||\n                // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n                this.element.querySelector('option[placeholder]'));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedSelect.prototype.addOptions = function (choices) {\n        var _this = this;\n        var fragment = document.createDocumentFragment();\n        choices.forEach(function (obj) {\n            var choice = obj;\n            if (choice.element) {\n                return;\n            }\n            var option = _this.template(choice);\n            fragment.appendChild(option);\n            choice.element = option;\n        });\n        this.element.appendChild(fragment);\n    };\n    WrappedSelect.prototype.optionsAsChoices = function () {\n        var _this = this;\n        var choices = [];\n        this.element.querySelectorAll(':scope > option, :scope > optgroup').forEach(function (e) {\n            if (isHtmlOption(e)) {\n                choices.push(_this._optionToChoice(e));\n            }\n            else if (isHtmlOptgroup(e)) {\n                choices.push(_this._optgroupToChoice(e));\n            }\n            // todo: hr as empty optgroup, requires displaying empty opt-groups to be useful\n        });\n        return choices;\n    };\n    // eslint-disable-next-line class-methods-use-this\n    WrappedSelect.prototype._optionToChoice = function (option) {\n        // option.value returns the label if there is no value attribute, which can break legacy placeholder attribute support\n        if (!option.hasAttribute('value') && option.hasAttribute('placeholder')) {\n            option.setAttribute('value', '');\n            option.value = '';\n        }\n        return {\n            id: 0,\n            group: null,\n            score: 0,\n            rank: 0,\n            value: option.value,\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option\n            // This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content (ie `innerText`).\n            label: option.label,\n            element: option,\n            active: true,\n            // this returns true if nothing is selected on initial load, which will break placeholder support\n            selected: this.extractPlaceholder ? option.selected : option.hasAttribute('selected'),\n            disabled: option.disabled,\n            highlighted: false,\n            placeholder: this.extractPlaceholder && (!option.value || option.hasAttribute('placeholder')),\n            labelClass: typeof option.dataset.labelClass !== 'undefined' ? stringToHtmlClass(option.dataset.labelClass) : undefined,\n            labelDescription: typeof option.dataset.labelDescription !== 'undefined' ? option.dataset.labelDescription : undefined,\n            customProperties: parseCustomProperties(option.dataset.customProperties),\n        };\n    };\n    WrappedSelect.prototype._optgroupToChoice = function (optgroup) {\n        var _this = this;\n        var options = optgroup.querySelectorAll('option');\n        var choices = Array.from(options).map(function (option) { return _this._optionToChoice(option); });\n        return {\n            id: 0,\n            label: optgroup.label || '',\n            element: optgroup,\n            active: !!choices.length,\n            disabled: optgroup.disabled,\n            choices: choices,\n        };\n    };\n    return WrappedSelect;\n}(WrappedElement));\n\nvar DEFAULT_CLASSNAMES = {\n    containerOuter: ['choices'],\n    containerInner: ['choices__inner'],\n    input: ['choices__input'],\n    inputCloned: ['choices__input--cloned'],\n    list: ['choices__list'],\n    listItems: ['choices__list--multiple'],\n    listSingle: ['choices__list--single'],\n    listDropdown: ['choices__list--dropdown'],\n    item: ['choices__item'],\n    itemSelectable: ['choices__item--selectable'],\n    itemDisabled: ['choices__item--disabled'],\n    itemChoice: ['choices__item--choice'],\n    description: ['choices__description'],\n    placeholder: ['choices__placeholder'],\n    group: ['choices__group'],\n    groupHeading: ['choices__heading'],\n    button: ['choices__button'],\n    activeState: ['is-active'],\n    focusState: ['is-focused'],\n    openState: ['is-open'],\n    disabledState: ['is-disabled'],\n    highlightedState: ['is-highlighted'],\n    selectedState: ['is-selected'],\n    flippedState: ['is-flipped'],\n    loadingState: ['is-loading'],\n    notice: ['choices__notice'],\n    addChoice: ['choices__item--selectable', 'add-choice'],\n    noResults: ['has-no-results'],\n    noChoices: ['has-no-choices'],\n};\nvar DEFAULT_CONFIG = {\n    items: [],\n    choices: [],\n    silent: false,\n    renderChoiceLimit: -1,\n    maxItemCount: -1,\n    closeDropdownOnSelect: 'auto',\n    singleModeForMultiSelect: false,\n    addChoices: false,\n    addItems: true,\n    addItemFilter: function (value) { return !!value && value !== ''; },\n    removeItems: true,\n    removeItemButton: false,\n    removeItemButtonAlignLeft: false,\n    editItems: false,\n    allowHTML: false,\n    allowHtmlUserInput: false,\n    duplicateItemsAllowed: true,\n    delimiter: ',',\n    paste: true,\n    searchEnabled: true,\n    searchChoices: true,\n    searchFloor: 1,\n    searchResultLimit: 4,\n    searchFields: ['label', 'value'],\n    position: 'auto',\n    resetScrollPosition: true,\n    shouldSort: true,\n    shouldSortItems: false,\n    sorter: sortByAlpha,\n    shadowRoot: null,\n    placeholder: true,\n    placeholderValue: null,\n    searchPlaceholderValue: null,\n    prependValue: null,\n    appendValue: null,\n    renderSelectedChoices: 'auto',\n    loadingText: 'Loading...',\n    noResultsText: 'No results found',\n    noChoicesText: 'No choices to choose from',\n    itemSelectText: 'Press to select',\n    uniqueItemText: 'Only unique values can be added',\n    customAddItemText: 'Only values matching specific conditions can be added',\n    addItemText: function (value) { return \"Press Enter to add <b>\\\"\".concat(value, \"\\\"</b>\"); },\n    removeItemIconText: function () { return \"Remove item\"; },\n    removeItemLabelText: function (value) { return \"Remove item: \".concat(value); },\n    maxItemText: function (maxItemCount) { return \"Only \".concat(maxItemCount, \" values can be added\"); },\n    valueComparer: function (value1, value2) { return value1 === value2; },\n    fuseOptions: {\n        includeScore: true,\n    },\n    labelId: '',\n    callbackOnInit: null,\n    callbackOnCreateTemplates: null,\n    classNames: DEFAULT_CLASSNAMES,\n    appendGroupInSearch: false,\n};\n\nvar removeItem = function (item) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        itemEl.remove();\n        item.itemEl = undefined;\n    }\n};\nfunction items(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_ITEM: {\n            action.item.selected = true;\n            var el = action.item.element;\n            if (el) {\n                el.selected = true;\n                el.setAttribute('selected', '');\n            }\n            state.push(action.item);\n            break;\n        }\n        case ActionType.REMOVE_ITEM: {\n            action.item.selected = false;\n            var el = action.item.element;\n            if (el) {\n                el.selected = false;\n                el.removeAttribute('selected');\n                // For a select-one, if all options are deselected, the first item is selected. To set a black value, select.value needs to be set\n                var select = el.parentElement;\n                if (select && isHtmlSelectElement(select) && select.type === PassedElementTypes.SelectOne) {\n                    select.value = '';\n                }\n            }\n            // this is mixing concerns, but this is *so much faster*\n            removeItem(action.item);\n            state = state.filter(function (choice) { return choice.id !== action.item.id; });\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            removeItem(action.choice);\n            state = state.filter(function (item) { return item.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.HIGHLIGHT_ITEM: {\n            var highlighted = action.highlighted;\n            var item = state.find(function (obj) { return obj.id === action.item.id; });\n            if (item && item.highlighted !== highlighted) {\n                item.highlighted = highlighted;\n                if (context) {\n                    updateClassList(item, highlighted ? context.classNames.highlightedState : context.classNames.selectedState, highlighted ? context.classNames.selectedState : context.classNames.highlightedState);\n                }\n            }\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nfunction groups(s, action) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_GROUP: {\n            state.push(action.group);\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\n/* eslint-disable */\nfunction choices(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_CHOICE: {\n            state.push(action.choice);\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            action.choice.choiceEl = undefined;\n            if (action.choice.group) {\n                action.choice.group.choices = action.choice.group.choices.filter(function (obj) { return obj.id !== action.choice.id; });\n            }\n            state = state.filter(function (obj) { return obj.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.ADD_ITEM:\n        case ActionType.REMOVE_ITEM: {\n            action.item.choiceEl = undefined;\n            break;\n        }\n        case ActionType.FILTER_CHOICES: {\n            // avoid O(n^2) algorithm complexity when searching/filtering choices\n            var scoreLookup_1 = [];\n            action.results.forEach(function (result) {\n                scoreLookup_1[result.item.id] = result;\n            });\n            state.forEach(function (choice) {\n                var result = scoreLookup_1[choice.id];\n                if (result !== undefined) {\n                    choice.score = result.score;\n                    choice.rank = result.rank;\n                    choice.active = true;\n                }\n                else {\n                    choice.score = 0;\n                    choice.rank = 0;\n                    choice.active = false;\n                }\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.ACTIVATE_CHOICES: {\n            state.forEach(function (choice) {\n                choice.active = action.active;\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nvar reducers = {\n    groups: groups,\n    items: items,\n    choices: choices,\n};\nvar Store = /** @class */ (function () {\n    function Store(context) {\n        this._state = this.defaultState;\n        this._listeners = [];\n        this._txn = 0;\n        this._context = context;\n    }\n    Object.defineProperty(Store.prototype, \"defaultState\", {\n        // eslint-disable-next-line class-methods-use-this\n        get: function () {\n            return {\n                groups: [],\n                items: [],\n                choices: [],\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // eslint-disable-next-line class-methods-use-this\n    Store.prototype.changeSet = function (init) {\n        return {\n            groups: init,\n            items: init,\n            choices: init,\n        };\n    };\n    Store.prototype.reset = function () {\n        this._state = this.defaultState;\n        var changes = this.changeSet(true);\n        if (this._txn) {\n            this._changeSet = changes;\n        }\n        else {\n            this._listeners.forEach(function (l) { return l(changes); });\n        }\n    };\n    Store.prototype.subscribe = function (onChange) {\n        this._listeners.push(onChange);\n        return this;\n    };\n    Store.prototype.dispatch = function (action) {\n        var _this = this;\n        var state = this._state;\n        var hasChanges = false;\n        var changes = this._changeSet || this.changeSet(false);\n        Object.keys(reducers).forEach(function (key) {\n            var stateUpdate = reducers[key](state[key], action, _this._context);\n            if (stateUpdate.update) {\n                hasChanges = true;\n                changes[key] = true;\n                state[key] = stateUpdate.state;\n            }\n        });\n        if (hasChanges) {\n            if (this._txn) {\n                this._changeSet = changes;\n            }\n            else {\n                this._listeners.forEach(function (l) { return l(changes); });\n            }\n        }\n    };\n    Store.prototype.withTxn = function (func) {\n        this._txn++;\n        try {\n            func();\n        }\n        finally {\n            this._txn = Math.max(0, this._txn - 1);\n            if (!this._txn) {\n                var changeSet_1 = this._changeSet;\n                if (changeSet_1) {\n                    this._changeSet = undefined;\n                    this._listeners.forEach(function (l) { return l(changeSet_1); });\n                }\n            }\n        }\n    };\n    Object.defineProperty(Store.prototype, \"state\", {\n        /**\n         * Get store object\n         */\n        get: function () {\n            return this._state;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"items\", {\n        /**\n         * Get items from store\n         */\n        get: function () {\n            return this.state.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n        /**\n         * Get highlighted items from store\n         */\n        get: function () {\n            return this.items.filter(function (item) { return item.active && item.highlighted; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"choices\", {\n        /**\n         * Get choices from store\n         */\n        get: function () {\n            return this.state.choices;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeChoices\", {\n        /**\n         * Get active choices from store\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return choice.active; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"searchableChoices\", {\n        /**\n         * Get choices that can be searched (excluding placeholders or disabled choices)\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return !choice.disabled && !choice.placeholder; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"groups\", {\n        /**\n         * Get groups from store\n         */\n        get: function () {\n            return this.state.groups;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeGroups\", {\n        /**\n         * Get active groups from store\n         */\n        get: function () {\n            var _this = this;\n            return this.state.groups.filter(function (group) {\n                var isActive = group.active && !group.disabled;\n                var hasActiveOptions = _this.state.choices.some(function (choice) { return choice.active && !choice.disabled; });\n                return isActive && hasActiveOptions;\n            }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Store.prototype.inTxn = function () {\n        return this._txn > 0;\n    };\n    /**\n     * Get single choice by it's ID\n     */\n    Store.prototype.getChoiceById = function (id) {\n        return this.activeChoices.find(function (choice) { return choice.id === id; });\n    };\n    /**\n     * Get group by group id\n     */\n    Store.prototype.getGroupById = function (id) {\n        return this.groups.find(function (group) { return group.id === id; });\n    };\n    return Store;\n}());\n\nvar NoticeTypes = {\n    noChoices: 'no-choices',\n    noResults: 'no-results',\n    addChoice: 'add-choice',\n    generic: '',\n};\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\n/**\n * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2023 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n}\nfunction isObject(value) {\n  return typeof value === 'object';\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null;\n}\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\nfunction isBlank(value) {\n  return !value.trim().length;\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n}\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = key => `Invalid value for key ${key}`;\nconst PATTERN_LENGTH_TOO_LARGE = max => `Pattern length exceeds max of ${max}.`;\nconst MISSING_KEY_PROPERTY = name => `Missing ${name} property in key`;\nconst INVALID_KEY_WEIGHT_VALUE = key => `Property 'weight' in key '${key}' must be a positive integer`;\nconst hasOwn = Object.prototype.hasOwnProperty;\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n    let totalWeight = 0;\n    keys.forEach(key => {\n      let obj = createKey(key);\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach(key => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId];\n  }\n  keys() {\n    return this._keys;\n  }\n  toJSON() {\n    return JSON.stringify(this._keys);\n  }\n}\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'));\n    }\n    const name = key.name;\n    src = name;\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n      }\n    }\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n  return {\n    path,\n    id,\n    weight,\n    src,\n    getFn\n  };\n}\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.');\n}\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key;\n}\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return;\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n      const value = obj[key];\n      if (!isDefined(value)) {\n        return;\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n  return arr ? list : list[0];\n}\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1\n};\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\nvar Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens);\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n      cache.set(numTokens, n);\n      return n;\n    },\n    clear() {\n      cache.clear();\n    }\n  };\n}\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return;\n    }\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]];\n  }\n  size() {\n    return this.records.length;\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return;\n    }\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = {\n      i: docIndex,\n      $: {}\n    };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n      if (!isDefined(value)) {\n        return;\n      }\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{\n          nestedArrIndex: -1,\n          value\n        }];\n        while (stack.length) {\n          const {\n            nestedArrIndex,\n            value\n          } = stack.pop();\n          if (!isDefined(value)) {\n            continue;\n          }\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n        record.$[keyIndex] = subRecord;\n      }\n    });\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    };\n  }\n}\nfunction createIndex(keys, docs, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex;\n}\nfunction parseIndex(data, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const {\n    keys,\n    records\n  } = data;\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex;\n}\nfunction computeScore$1(pattern, {\n  errors = 0,\n  currentLocation = 0,\n  expectedLocation = 0,\n  distance = Config.distance,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  const accuracy = errors / pattern.length;\n  if (ignoreLocation) {\n    return accuracy;\n  }\n  const proximity = Math.abs(expectedLocation - currentLocation);\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n  return accuracy + proximity / distance;\n}\nfunction convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n  return indices;\n}\n\n// Machine word size\nconst MAX_BITS = 32;\nfunction search(text, pattern, patternAlphabet, {\n  location = Config.location,\n  distance = Config.distance,\n  threshold = Config.threshold,\n  findAllMatches = Config.findAllMatches,\n  minMatchCharLength = Config.minMatchCharLength,\n  includeMatches = Config.includeMatches,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n  }\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n  const mask = 1 << patternLen - 1;\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n    bitArr[finish + 1] = (1 << i) - 1;\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break;\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    if (score > currentThreshold) {\n      break;\n    }\n    lastBitArr = bitArr;\n  }\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n  return result;\n}\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n  }\n  return mask;\n}\nclass BitapSearch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.chunks = [];\n    if (!this.pattern.length) {\n      return;\n    }\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n    const len = this.pattern.length;\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n  searchIn(text) {\n    const {\n      isCaseSensitive,\n      includeMatches\n    } = this.options;\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n      return result;\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n    this.chunks.forEach(({\n      pattern,\n      alphabet,\n      startIndex\n    }) => {\n      const {\n        isMatch,\n        score,\n        indices\n      } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n      if (isMatch) {\n        hasMatches = true;\n      }\n      totalScore += score;\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n    return result;\n  }\n}\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex);\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex);\n  }\n  search( /*text*/) {}\n}\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null;\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact';\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^=(.*)$/;\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)$/;\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact';\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact';\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    };\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\nclass FuzzyMatch extends BaseMatch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^(.*)$/;\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text);\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include';\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^'(.*)$/;\n  }\n  search(text) {\n    let location = 0;\n    let index;\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n    const isMatch = !!indices.length;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    };\n  }\n}\n\n// ❗Order is important. DO NOT CHANGE.\nconst searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map(item => {\n    let query = item.trim().split(SPACE_RE).filter(item => item && !!item.trim());\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n      if (found) {\n        continue;\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break;\n        }\n      }\n    }\n    return results;\n  });\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(pattern, {\n    isCaseSensitive = Config.isCaseSensitive,\n    includeMatches = Config.includeMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    ignoreLocation = Config.ignoreLocation,\n    findAllMatches = Config.findAllMatches,\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance\n  } = {}) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n  static condition(_, options) {\n    return options.useExtendedSearch;\n  }\n  searchIn(text) {\n    const query = this.query;\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      };\n    }\n    const {\n      includeMatches,\n      isCaseSensitive\n    } = this.options;\n    text = isCaseSensitive ? text : text.toLowerCase();\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const {\n          isMatch,\n          indices,\n          score\n        } = searcher.search(text);\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break;\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n        return result;\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    };\n  }\n}\nconst registeredSearchers = [];\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options);\n    }\n  }\n  return new BitapSearch(pattern, options);\n}\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\nconst isExpression = query => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\nconst isPath = query => !!query[KeyType.PATH];\nconst isLeaf = query => !isArray(query) && isObject(query) && !isExpression(query);\nconst convertToExplicit = query => ({\n  [LogicalOperator.AND]: Object.keys(query).map(key => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, {\n  auto = true\n} = {}) {\n  const next = query => {\n    let keys = Object.keys(query);\n    const isQueryPath = isPath(query);\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query));\n    }\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n      }\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n      return obj;\n    }\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n    keys.forEach(key => {\n      const value = query[key];\n      if (isArray(value)) {\n        value.forEach(item => {\n          node.children.push(next(item));\n        });\n      }\n    });\n    return node;\n  };\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n  return next(query);\n}\n\n// Practical scoring function\nfunction computeScore(results, {\n  ignoreFieldNorm = Config.ignoreFieldNorm\n}) {\n  results.forEach(result => {\n    let totalScore = 1;\n    result.matches.forEach(({\n      key,\n      norm,\n      score\n    }) => {\n      const weight = key ? key.weight : null;\n      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n    });\n    result.score = totalScore;\n  });\n}\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n  if (!isDefined(matches)) {\n    return;\n  }\n  matches.forEach(match => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return;\n    }\n    const {\n      indices,\n      value\n    } = match;\n    let obj = {\n      indices,\n      value\n    };\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n    data.matches.push(obj);\n  });\n}\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\nfunction format(results, docs, {\n  includeMatches = Config.includeMatches,\n  includeScore = Config.includeScore\n} = {}) {\n  const transformers = [];\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n  return results.map(result => {\n    const {\n      idx\n    } = result;\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n    if (transformers.length) {\n      transformers.forEach(transformer => {\n        transformer(result, data);\n      });\n    }\n    return data;\n  });\n}\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = _objectSpread2(_objectSpread2({}, Config), options);\n    if (this.options.useExtendedSearch && !true) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);\n    }\n    this._keyStore = new KeyStore(this.options.keys);\n    this.setCollection(docs, index);\n  }\n  setCollection(docs, index) {\n    this._docs = docs;\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE);\n    }\n    this._myIndex = index || createIndex(this.options.keys, this._docs, {\n      getFn: this.options.getFn,\n      fieldNormWeight: this.options.fieldNormWeight\n    });\n  }\n  add(doc) {\n    if (!isDefined(doc)) {\n      return;\n    }\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n  remove(predicate = ( /* doc, idx */) => false) {\n    const results = [];\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n        results.push(doc);\n      }\n    }\n    return results;\n  }\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n  getIndex() {\n    return this._myIndex;\n  }\n  search(query, {\n    limit = -1\n  } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n    let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n    computeScore(results, {\n      ignoreFieldNorm\n    });\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    });\n  }\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({\n      v: text,\n      i: idx,\n      n: norm\n    }) => {\n      if (!isDefined(text)) {\n        return;\n      }\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{\n            score,\n            value: text,\n            norm,\n            indices\n          }]\n        });\n      }\n    });\n    return results;\n  }\n  _searchLogical(query) {\n    const expression = parse(query, this.options);\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const {\n          keyId,\n          searcher\n        } = node;\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n        if (matches && matches.length) {\n          return [{\n            idx,\n            item,\n            matches\n          }];\n        }\n        return [];\n      }\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return [];\n        }\n      }\n      return res;\n    };\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = {\n              idx,\n              item,\n              matches: []\n            };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({\n            matches\n          }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n    return results;\n  }\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      keys,\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (!isDefined(item)) {\n        return;\n      }\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(...this._findMatches({\n          key,\n          value: item[keyIndex],\n          searcher\n        }));\n      });\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n    return results;\n  }\n  _findMatches({\n    key,\n    value,\n    searcher\n  }) {\n    if (!isDefined(value)) {\n      return [];\n    }\n    let matches = [];\n    if (isArray(value)) {\n      value.forEach(({\n        v: text,\n        i: idx,\n        n: norm\n      }) => {\n        if (!isDefined(text)) {\n          return;\n        }\n        const {\n          isMatch,\n          score,\n          indices\n        } = searcher.searchIn(text);\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const {\n        v: text,\n        n: norm\n      } = value;\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        matches.push({\n          score,\n          key,\n          value: text,\n          norm,\n          indices\n        });\n      }\n    }\n    return matches;\n  }\n}\nFuse.version = '7.0.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n{\n  Fuse.parseQuery = parse;\n}\n{\n  register(ExtendedSearch);\n}\n\nvar SearchByFuse = /** @class */ (function () {\n    function SearchByFuse(config) {\n        this._haystack = [];\n        this._fuseOptions = __assign(__assign({}, config.fuseOptions), { keys: __spreadArray([], config.searchFields, true), includeMatches: true });\n    }\n    SearchByFuse.prototype.index = function (data) {\n        this._haystack = data;\n        if (this._fuse) {\n            this._fuse.setCollection(data);\n        }\n    };\n    SearchByFuse.prototype.reset = function () {\n        this._haystack = [];\n        this._fuse = undefined;\n    };\n    SearchByFuse.prototype.isEmptyIndex = function () {\n        return !this._haystack.length;\n    };\n    SearchByFuse.prototype.search = function (needle) {\n        if (!this._fuse) {\n            {\n                this._fuse = new Fuse(this._haystack, this._fuseOptions);\n            }\n        }\n        var results = this._fuse.search(needle);\n        return results.map(function (value, i) {\n            return {\n                item: value.item,\n                score: value.score || 0,\n                rank: i + 1, // If value.score is used for sorting, this can create non-stable sorts!\n            };\n        });\n    };\n    return SearchByFuse;\n}());\n\nfunction getSearcher(config) {\n    {\n        return new SearchByFuse(config);\n    }\n}\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option.\n * `Choices.defaults.templates` allows access to the default template methods from `callbackOnCreateTemplates`\n */\nvar isEmptyObject = function (obj) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n            return false;\n        }\n    }\n    return true;\n};\nvar assignCustomProperties = function (el, choice, withCustomProperties) {\n    var dataset = el.dataset;\n    var customProperties = choice.customProperties, labelClass = choice.labelClass, labelDescription = choice.labelDescription;\n    if (labelClass) {\n        dataset.labelClass = getClassNames(labelClass).join(' ');\n    }\n    if (labelDescription) {\n        dataset.labelDescription = labelDescription;\n    }\n    if (withCustomProperties && customProperties) {\n        if (typeof customProperties === 'string') {\n            dataset.customProperties = customProperties;\n        }\n        else if (typeof customProperties === 'object' && !isEmptyObject(customProperties)) {\n            dataset.customProperties = JSON.stringify(customProperties);\n        }\n    }\n};\nvar addAriaLabel = function (docRoot, id, element) {\n    var label = id && docRoot.querySelector(\"label[for='\".concat(id, \"']\"));\n    var text = label && label.innerText;\n    if (text) {\n        element.setAttribute('aria-label', text);\n    }\n};\nvar templates = {\n    containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n        var containerOuter = _a.classNames.containerOuter;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerOuter);\n        div.dataset.type = passedElementType;\n        if (dir) {\n            div.dir = dir;\n        }\n        if (isSelectOneElement) {\n            div.tabIndex = 0;\n        }\n        if (isSelectElement) {\n            div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n            if (searchEnabled) {\n                div.setAttribute('aria-autocomplete', 'list');\n            }\n            else if (!labelId) {\n                addAriaLabel(this._docRoot, this.passedElement.element.id, div);\n            }\n            div.setAttribute('aria-haspopup', 'true');\n            div.setAttribute('aria-expanded', 'false');\n        }\n        if (labelId) {\n            div.setAttribute('aria-labelledby', labelId);\n        }\n        return div;\n    },\n    containerInner: function (_a) {\n        var containerInner = _a.classNames.containerInner;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerInner);\n        return div;\n    },\n    itemList: function (_a, isSelectOneElement) {\n        var searchEnabled = _a.searchEnabled, _b = _a.classNames, list = _b.list, listSingle = _b.listSingle, listItems = _b.listItems;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, isSelectOneElement ? listSingle : listItems);\n        if (this._isSelectElement && searchEnabled) {\n            div.setAttribute('role', 'listbox');\n        }\n        return div;\n    },\n    placeholder: function (_a, value) {\n        var allowHTML = _a.allowHTML, placeholder = _a.classNames.placeholder;\n        var div = document.createElement('div');\n        addClassesToElement(div, placeholder);\n        setElementHtml(div, allowHTML, value);\n        return div;\n    },\n    item: function (_a, choice, removeItemButton) {\n        var allowHTML = _a.allowHTML, removeItemButtonAlignLeft = _a.removeItemButtonAlignLeft, removeItemIconText = _a.removeItemIconText, removeItemLabelText = _a.removeItemLabelText, _b = _a.classNames, item = _b.item, button = _b.button, highlightedState = _b.highlightedState, itemSelectable = _b.itemSelectable, placeholder = _b.placeholder;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        addClassesToElement(div, item);\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, choice.label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, choice.label);\n        }\n        div.dataset.item = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        assignCustomProperties(div, choice, true);\n        if (choice.disabled || this.containerOuter.isDisabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        if (this._isSelectElement) {\n            div.setAttribute('aria-selected', 'true');\n            div.setAttribute('role', 'option');\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n            div.dataset.placeholder = '';\n        }\n        addClassesToElement(div, choice.highlighted ? highlightedState : itemSelectable);\n        if (removeItemButton) {\n            if (choice.disabled) {\n                removeClassesFromElement(div, itemSelectable);\n            }\n            div.dataset.deletable = '';\n            var removeButton = document.createElement('button');\n            removeButton.type = 'button';\n            addClassesToElement(removeButton, button);\n            setElementHtml(removeButton, true, resolveNoticeFunction(removeItemIconText, choice.value));\n            var REMOVE_ITEM_LABEL = resolveNoticeFunction(removeItemLabelText, choice.value);\n            if (REMOVE_ITEM_LABEL) {\n                removeButton.setAttribute('aria-label', REMOVE_ITEM_LABEL);\n            }\n            removeButton.dataset.button = '';\n            if (removeItemButtonAlignLeft) {\n                div.insertAdjacentElement('afterbegin', removeButton);\n            }\n            else {\n                div.appendChild(removeButton);\n            }\n        }\n        return div;\n    },\n    choiceList: function (_a, isSelectOneElement) {\n        var list = _a.classNames.list;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        if (!isSelectOneElement) {\n            div.setAttribute('aria-multiselectable', 'true');\n        }\n        div.setAttribute('role', 'listbox');\n        return div;\n    },\n    choiceGroup: function (_a, _b) {\n        var allowHTML = _a.allowHTML, _c = _a.classNames, group = _c.group, groupHeading = _c.groupHeading, itemDisabled = _c.itemDisabled;\n        var id = _b.id, label = _b.label, disabled = _b.disabled;\n        var rawLabel = unwrapStringForRaw(label);\n        var div = document.createElement('div');\n        addClassesToElement(div, group);\n        if (disabled) {\n            addClassesToElement(div, itemDisabled);\n        }\n        div.setAttribute('role', 'group');\n        div.dataset.group = '';\n        div.dataset.id = id;\n        div.dataset.value = rawLabel;\n        if (disabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        var heading = document.createElement('div');\n        addClassesToElement(heading, groupHeading);\n        setElementHtml(heading, allowHTML, label || '');\n        div.appendChild(heading);\n        return div;\n    },\n    choice: function (_a, choice, selectText, groupName) {\n        var allowHTML = _a.allowHTML, _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, itemSelectable = _b.itemSelectable, selectedState = _b.selectedState, itemDisabled = _b.itemDisabled, description = _b.description, placeholder = _b.placeholder;\n        // eslint-disable-next-line prefer-destructuring\n        var label = choice.label;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        div.id = choice.elementId;\n        addClassesToElement(div, item);\n        addClassesToElement(div, itemChoice);\n        if (groupName && typeof label === 'string') {\n            label = escapeForTemplate(allowHTML, label);\n            label += \" (\".concat(groupName, \")\");\n            label = { trusted: label };\n        }\n        var describedBy = div;\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            describedBy = spanLabel;\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, label);\n        }\n        if (choice.labelDescription) {\n            var descId = \"\".concat(choice.elementId, \"-description\");\n            describedBy.setAttribute('aria-describedby', descId);\n            var spanDesc = document.createElement('span');\n            setElementHtml(spanDesc, allowHTML, choice.labelDescription);\n            spanDesc.id = descId;\n            addClassesToElement(spanDesc, description);\n            div.appendChild(spanDesc);\n        }\n        if (choice.selected) {\n            addClassesToElement(div, selectedState);\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n        }\n        div.setAttribute('role', choice.group ? 'treeitem' : 'option');\n        div.dataset.choice = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        if (selectText) {\n            div.dataset.selectText = selectText;\n        }\n        if (choice.group) {\n            div.dataset.groupId = \"\".concat(choice.group.id);\n        }\n        assignCustomProperties(div, choice, false);\n        if (choice.disabled) {\n            addClassesToElement(div, itemDisabled);\n            div.dataset.choiceDisabled = '';\n            div.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            addClassesToElement(div, itemSelectable);\n            div.dataset.choiceSelectable = '';\n        }\n        return div;\n    },\n    input: function (_a, placeholderValue) {\n        var _b = _a.classNames, input = _b.input, inputCloned = _b.inputCloned, labelId = _a.labelId;\n        var inp = document.createElement('input');\n        inp.type = 'search';\n        addClassesToElement(inp, input);\n        addClassesToElement(inp, inputCloned);\n        inp.autocomplete = 'off';\n        inp.autocapitalize = 'off';\n        inp.spellcheck = false;\n        inp.setAttribute('aria-autocomplete', 'list');\n        if (placeholderValue) {\n            inp.setAttribute('aria-label', placeholderValue);\n        }\n        else if (!labelId) {\n            addAriaLabel(this._docRoot, this.passedElement.element.id, inp);\n        }\n        return inp;\n    },\n    dropdown: function (_a) {\n        var _b = _a.classNames, list = _b.list, listDropdown = _b.listDropdown;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, listDropdown);\n        div.setAttribute('aria-expanded', 'false');\n        return div;\n    },\n    notice: function (_a, innerHTML, type) {\n        var _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, addChoice = _b.addChoice, noResults = _b.noResults, noChoices = _b.noChoices, noticeItem = _b.notice;\n        if (type === void 0) { type = NoticeTypes.generic; }\n        var notice = document.createElement('div');\n        setElementHtml(notice, true, innerHTML);\n        addClassesToElement(notice, item);\n        addClassesToElement(notice, itemChoice);\n        addClassesToElement(notice, noticeItem);\n        // eslint-disable-next-line default-case\n        switch (type) {\n            case NoticeTypes.addChoice:\n                addClassesToElement(notice, addChoice);\n                break;\n            case NoticeTypes.noResults:\n                addClassesToElement(notice, noResults);\n                break;\n            case NoticeTypes.noChoices:\n                addClassesToElement(notice, noChoices);\n                break;\n        }\n        if (type === NoticeTypes.addChoice) {\n            notice.dataset.choiceSelectable = '';\n            notice.dataset.choice = '';\n        }\n        return notice;\n    },\n    option: function (choice) {\n        // HtmlOptionElement's label value does not support HTML, so the avoid double escaping unwrap the untrusted string.\n        var labelValue = unwrapStringForRaw(choice.label);\n        var opt = new Option(labelValue, choice.value, false, choice.selected);\n        assignCustomProperties(opt, choice, true);\n        opt.disabled = choice.disabled;\n        if (choice.selected) {\n            opt.setAttribute('selected', '');\n        }\n        return opt;\n    },\n};\n\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\nvar parseDataSetId = function (element) {\n    if (!element) {\n        return undefined;\n    }\n    return element.dataset.id ? parseInt(element.dataset.id, 10) : undefined;\n};\nvar selectableChoiceIdentifier = '[data-choice-selectable]';\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\nvar Choices = /** @class */ (function () {\n    function Choices(element, userConfig) {\n        if (element === void 0) { element = '[data-choice]'; }\n        if (userConfig === void 0) { userConfig = {}; }\n        var _this = this;\n        this.initialisedOK = undefined;\n        this._hasNonChoicePlaceholder = false;\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        var defaults = Choices.defaults;\n        this.config = __assign(__assign(__assign({}, defaults.allOptions), defaults.options), userConfig);\n        ObjectsInConfig.forEach(function (key) {\n            _this.config[key] = __assign(__assign(__assign({}, defaults.allOptions[key]), defaults.options[key]), userConfig[key]);\n        });\n        var config = this.config;\n        if (!config.silent) {\n            this._validateConfig();\n        }\n        var docRoot = config.shadowRoot || document.documentElement;\n        this._docRoot = docRoot;\n        var passedElement = typeof element === 'string' ? docRoot.querySelector(element) : element;\n        if (!passedElement ||\n            typeof passedElement !== 'object' ||\n            !(isHtmlInputElement(passedElement) || isHtmlSelectElement(passedElement))) {\n            if (!passedElement && typeof element === 'string') {\n                throw TypeError(\"Selector \".concat(element, \" failed to find an element\"));\n            }\n            throw TypeError(\"Expected one of the following types text|select-one|select-multiple\");\n        }\n        var elementType = passedElement.type;\n        var isText = elementType === PassedElementTypes.Text;\n        if (isText || config.maxItemCount !== 1) {\n            config.singleModeForMultiSelect = false;\n        }\n        if (config.singleModeForMultiSelect) {\n            elementType = PassedElementTypes.SelectMultiple;\n        }\n        var isSelectOne = elementType === PassedElementTypes.SelectOne;\n        var isSelectMultiple = elementType === PassedElementTypes.SelectMultiple;\n        var isSelect = isSelectOne || isSelectMultiple;\n        this._elementType = elementType;\n        this._isTextElement = isText;\n        this._isSelectOneElement = isSelectOne;\n        this._isSelectMultipleElement = isSelectMultiple;\n        this._isSelectElement = isSelectOne || isSelectMultiple;\n        this._canAddUserChoices = (isText && config.addItems) || (isSelect && config.addChoices);\n        if (typeof config.renderSelectedChoices !== 'boolean') {\n            config.renderSelectedChoices = config.renderSelectedChoices === 'always' || isSelectOne;\n        }\n        if (config.closeDropdownOnSelect === 'auto') {\n            config.closeDropdownOnSelect = isText || isSelectOne || config.singleModeForMultiSelect;\n        }\n        else {\n            config.closeDropdownOnSelect = coerceBool(config.closeDropdownOnSelect);\n        }\n        if (config.placeholder) {\n            if (config.placeholderValue) {\n                this._hasNonChoicePlaceholder = true;\n            }\n            else if (passedElement.dataset.placeholder) {\n                this._hasNonChoicePlaceholder = true;\n                config.placeholderValue = passedElement.dataset.placeholder;\n            }\n        }\n        if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n            var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n            config.addItemFilter = re.test.bind(re);\n        }\n        if (this._isTextElement) {\n            this.passedElement = new WrappedInput({\n                element: passedElement,\n                classNames: config.classNames,\n            });\n        }\n        else {\n            var selectEl = passedElement;\n            this.passedElement = new WrappedSelect({\n                element: selectEl,\n                classNames: config.classNames,\n                template: function (data) { return _this._templates.option(data); },\n                extractPlaceholder: config.placeholder && !this._hasNonChoicePlaceholder,\n            });\n        }\n        this.initialised = false;\n        this._store = new Store(config);\n        this._currentValue = '';\n        config.searchEnabled = (!isText && config.searchEnabled) || isSelectMultiple;\n        this._canSearch = config.searchEnabled;\n        this._isScrollingOnIe = false;\n        this._highlightPosition = 0;\n        this._wasTap = true;\n        this._placeholderValue = this._generatePlaceholderValue();\n        this._baseId = generateId(passedElement, 'choices-');\n        /**\n         * setting direction in cases where it's explicitly set on passedElement\n         * or when calculated direction is different from the document\n         */\n        this._direction = passedElement.dir;\n        if (!this._direction) {\n            var elementDirection = window.getComputedStyle(passedElement).direction;\n            var documentDirection = window.getComputedStyle(document.documentElement).direction;\n            if (elementDirection !== documentDirection) {\n                this._direction = elementDirection;\n            }\n        }\n        this._idNames = {\n            itemChoice: 'item-choice',\n        };\n        this._templates = defaults.templates;\n        this._render = this._render.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n        this._onKeyUp = this._onKeyUp.bind(this);\n        this._onKeyDown = this._onKeyDown.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onClick = this._onClick.bind(this);\n        this._onTouchMove = this._onTouchMove.bind(this);\n        this._onTouchEnd = this._onTouchEnd.bind(this);\n        this._onMouseDown = this._onMouseDown.bind(this);\n        this._onMouseOver = this._onMouseOver.bind(this);\n        this._onFormReset = this._onFormReset.bind(this);\n        this._onSelectKey = this._onSelectKey.bind(this);\n        this._onEnterKey = this._onEnterKey.bind(this);\n        this._onEscapeKey = this._onEscapeKey.bind(this);\n        this._onDirectionKey = this._onDirectionKey.bind(this);\n        this._onDeleteKey = this._onDeleteKey.bind(this);\n        // If element has already been initialised with Choices, fail silently\n        if (this.passedElement.isActive) {\n            if (!config.silent) {\n                console.warn('Trying to initialise Choices on element already initialised', { element: element });\n            }\n            this.initialised = true;\n            this.initialisedOK = false;\n            return;\n        }\n        // Let's go\n        this.init();\n        // preserve the selected item list after setup for form reset\n        this._initialItems = this._store.items.map(function (choice) { return choice.value; });\n    }\n    Object.defineProperty(Choices, \"defaults\", {\n        get: function () {\n            return Object.preventExtensions({\n                get options() {\n                    return USER_DEFAULTS;\n                },\n                get allOptions() {\n                    return DEFAULT_CONFIG;\n                },\n                get templates() {\n                    return templates;\n                },\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Choices.prototype.init = function () {\n        if (this.initialised || this.initialisedOK !== undefined) {\n            return;\n        }\n        this._searcher = getSearcher(this.config);\n        this._loadChoices();\n        this._createTemplates();\n        this._createElements();\n        this._createStructure();\n        if ((this._isTextElement && !this.config.addItems) ||\n            this.passedElement.element.hasAttribute('disabled') ||\n            !!this.passedElement.element.closest('fieldset:disabled')) {\n            this.disable();\n        }\n        else {\n            this.enable();\n            this._addEventListeners();\n        }\n        // should be triggered **after** disabled state to avoid additional re-draws\n        this._initStore();\n        this.initialised = true;\n        this.initialisedOK = true;\n        var callbackOnInit = this.config.callbackOnInit;\n        // Run callback if it is a function\n        if (typeof callbackOnInit === 'function') {\n            callbackOnInit.call(this);\n        }\n    };\n    Choices.prototype.destroy = function () {\n        if (!this.initialised) {\n            return;\n        }\n        this._removeEventListeners();\n        this.passedElement.reveal();\n        this.containerOuter.unwrap(this.passedElement.element);\n        this._store._listeners = []; // prevents select/input value being wiped\n        this.clearStore(false);\n        this._stopSearch();\n        this._templates = Choices.defaults.templates;\n        this.initialised = false;\n        this.initialisedOK = undefined;\n    };\n    Choices.prototype.enable = function () {\n        if (this.passedElement.isDisabled) {\n            this.passedElement.enable();\n        }\n        if (this.containerOuter.isDisabled) {\n            this._addEventListeners();\n            this.input.enable();\n            this.containerOuter.enable();\n        }\n        return this;\n    };\n    Choices.prototype.disable = function () {\n        if (!this.passedElement.isDisabled) {\n            this.passedElement.disable();\n        }\n        if (!this.containerOuter.isDisabled) {\n            this._removeEventListeners();\n            this.input.disable();\n            this.containerOuter.disable();\n        }\n        return this;\n    };\n    Choices.prototype.highlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, true));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.highlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.unhighlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || !choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, false));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.unhighlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.highlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (!item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, true));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.unhighlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, false));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItemsByValue = function (value) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (item) { return item.value === value; }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItems = function (excludedId) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (_a) {\n                var id = _a.id;\n                return id !== excludedId;\n            }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeHighlightedItems = function (runEvent) {\n        var _this = this;\n        if (runEvent === void 0) { runEvent = false; }\n        this._store.withTxn(function () {\n            _this._store.highlightedActiveItems.forEach(function (item) {\n                _this._removeItem(item);\n                // If this action was performed by the user\n                // trigger the event\n                if (runEvent) {\n                    _this._triggerChange(item.value);\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.showDropdown = function (preventInputFocus) {\n        var _this = this;\n        if (this.dropdown.isActive) {\n            return this;\n        }\n        if (preventInputFocus === undefined) {\n            // eslint-disable-next-line no-param-reassign\n            preventInputFocus = !this._canSearch;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.show();\n            var rect = _this.dropdown.element.getBoundingClientRect();\n            _this.containerOuter.open(rect.bottom, rect.height);\n            if (!preventInputFocus) {\n                _this.input.focus();\n            }\n            _this.passedElement.triggerEvent(EventType.showDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.hideDropdown = function (preventInputBlur) {\n        var _this = this;\n        if (!this.dropdown.isActive) {\n            return this;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.hide();\n            _this.containerOuter.close();\n            if (!preventInputBlur && _this._canSearch) {\n                _this.input.removeActiveDescendant();\n                _this.input.blur();\n            }\n            _this.passedElement.triggerEvent(EventType.hideDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.getValue = function (valueOnly) {\n        var _this = this;\n        var values = this._store.items.map(function (item) {\n            return (valueOnly ? item.value : _this._getChoiceForOutput(item));\n        });\n        return this._isSelectOneElement || this.config.singleModeForMultiSelect ? values[0] : values;\n    };\n    Choices.prototype.setValue = function (items) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setValue');\n            return this;\n        }\n        this._store.withTxn(function () {\n            items.forEach(function (value) {\n                if (value) {\n                    _this._addChoice(mapInputToChoice(value, false));\n                }\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.setChoiceByValue = function (value) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoiceByValue');\n            return this;\n        }\n        if (this._isTextElement) {\n            return this;\n        }\n        this._store.withTxn(function () {\n            // If only one value has been passed, convert to array\n            var choiceValue = Array.isArray(value) ? value : [value];\n            // Loop through each value and\n            choiceValue.forEach(function (val) { return _this._findAndSelectChoiceByValue(val); });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    /**\n     * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n     * a value field name and a label field name.\n     * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n     * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n     * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n     *\n     * **Input types affected:** select-one, select-multiple\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([\n     *   {value: 'One', label: 'Label One', disabled: true},\n     *   {value: 'Two', label: 'Label Two', selected: true},\n     *   {value: 'Three', label: 'Label Three'},\n     * ], 'value', 'label', false);\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices(async () => {\n     *   try {\n     *      const items = await fetch('/items');\n     *      return items.json()\n     *   } catch(err) {\n     *      console.error(err)\n     *   }\n     * });\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([{\n     *   label: 'Group one',\n     *   id: 1,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child One', label: 'Child One', selected: true},\n     *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n     *     {value: 'Child Three', label: 'Child Three'},\n     *   ]\n     * },\n     * {\n     *   label: 'Group two',\n     *   id: 2,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child Four', label: 'Child Four', disabled: true},\n     *     {value: 'Child Five', label: 'Child Five'},\n     *     {value: 'Child Six', label: 'Child Six', customProperties: {\n     *       description: 'Custom description about child six',\n     *       random: 'Another random custom property'\n     *     }},\n     *   ]\n     * }], 'value', 'label', false);\n     * ```\n     */\n    Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices, clearSearchFlag, replaceItems) {\n        var _this = this;\n        if (choicesArrayOrFetcher === void 0) { choicesArrayOrFetcher = []; }\n        if (value === void 0) { value = 'value'; }\n        if (label === void 0) { label = 'label'; }\n        if (replaceChoices === void 0) { replaceChoices = false; }\n        if (clearSearchFlag === void 0) { clearSearchFlag = true; }\n        if (replaceItems === void 0) { replaceItems = false; }\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoices');\n            return this;\n        }\n        if (!this._isSelectElement) {\n            throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n        }\n        if (typeof value !== 'string' || !value) {\n            throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n        }\n        if (typeof choicesArrayOrFetcher === 'function') {\n            // it's a choices fetcher function\n            var fetcher_1 = choicesArrayOrFetcher(this);\n            if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n                // that's a promise\n                // eslint-disable-next-line no-promise-executor-return\n                return new Promise(function (resolve) { return requestAnimationFrame(resolve); })\n                    .then(function () { return _this._handleLoadingState(true); })\n                    .then(function () { return fetcher_1; })\n                    .then(function (data) {\n                    return _this.setChoices(data, value, label, replaceChoices, clearSearchFlag, replaceItems);\n                })\n                    .catch(function (err) {\n                    if (!_this.config.silent) {\n                        console.error(err);\n                    }\n                })\n                    .then(function () { return _this._handleLoadingState(false); })\n                    .then(function () { return _this; });\n            }\n            // function returned something else than promise, let's check if it's an array of choices\n            if (!Array.isArray(fetcher_1)) {\n                throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n            }\n            // recursion with results, it's sync and choices were cleared already\n            return this.setChoices(fetcher_1, value, label, false);\n        }\n        if (!Array.isArray(choicesArrayOrFetcher)) {\n            throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n        }\n        this.containerOuter.removeLoadingState();\n        this._store.withTxn(function () {\n            if (clearSearchFlag) {\n                _this._isSearching = false;\n            }\n            // Clear choices if needed\n            if (replaceChoices) {\n                _this.clearChoices(true, replaceItems);\n            }\n            var isDefaultValue = value === 'value';\n            var isDefaultLabel = label === 'label';\n            choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    var group = groupOrChoice;\n                    if (!isDefaultLabel) {\n                        group = __assign(__assign({}, group), { label: group[label] });\n                    }\n                    _this._addGroup(mapInputToChoice(group, true));\n                }\n                else {\n                    var choice = groupOrChoice;\n                    if (!isDefaultLabel || !isDefaultValue) {\n                        choice = __assign(__assign({}, choice), { value: choice[value], label: choice[label] });\n                    }\n                    var choiceFull = mapInputToChoice(choice, false);\n                    _this._addChoice(choiceFull);\n                    if (choiceFull.placeholder && !_this._hasNonChoicePlaceholder) {\n                        _this._placeholderValue = unwrapStringForEscaped(choiceFull.label);\n                    }\n                }\n            });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.refresh = function (withEvents, selectFirstOption, deselectAll) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = false; }\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (deselectAll === void 0) { deselectAll = false; }\n        if (!this._isSelectElement) {\n            if (!this.config.silent) {\n                console.warn('refresh method can only be used on choices backed by a <select> element');\n            }\n            return this;\n        }\n        this._store.withTxn(function () {\n            var choicesFromOptions = _this.passedElement.optionsAsChoices();\n            // Build the list of items which require preserving\n            var existingItems = {};\n            if (!deselectAll) {\n                _this._store.items.forEach(function (choice) {\n                    if (choice.id && choice.active && choice.selected) {\n                        existingItems[choice.value] = true;\n                    }\n                });\n            }\n            _this.clearStore(false);\n            var updateChoice = function (choice) {\n                if (deselectAll) {\n                    _this._store.dispatch(removeItem$1(choice));\n                }\n                else if (existingItems[choice.value]) {\n                    choice.selected = true;\n                }\n            };\n            choicesFromOptions.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    groupOrChoice.choices.forEach(updateChoice);\n                    return;\n                }\n                updateChoice(groupOrChoice);\n            });\n            /* @todo only generate add events for the added options instead of all\n            if (withEvents) {\n              items.forEach((choice) => {\n                if (existingItems[choice.value]) {\n                  this.passedElement.triggerEvent(\n                    EventType.removeItem,\n                    this._getChoiceForEvent(choice),\n                  );\n                }\n              });\n            }\n            */\n            // load new choices & items\n            _this._addPredefinedChoices(choicesFromOptions, selectFirstOption, withEvents);\n            // re-do search if required\n            if (_this._isSearching) {\n                _this._searchChoices(_this.input.value);\n            }\n        });\n        return this;\n    };\n    Choices.prototype.removeChoice = function (value) {\n        var choice = this._store.choices.find(function (c) { return c.value === value; });\n        if (!choice) {\n            return this;\n        }\n        this._clearNotice();\n        this._store.dispatch(removeChoice(choice));\n        // @todo integrate with Store\n        this._searcher.reset();\n        if (choice.selected) {\n            this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.clearChoices = function (clearOptions, clearItems) {\n        var _this = this;\n        if (clearOptions === void 0) { clearOptions = true; }\n        if (clearItems === void 0) { clearItems = false; }\n        if (clearOptions) {\n            if (clearItems) {\n                this.passedElement.element.replaceChildren('');\n            }\n            else {\n                this.passedElement.element.querySelectorAll(':not([selected])').forEach(function (el) {\n                    el.remove();\n                });\n            }\n        }\n        this.itemList.element.replaceChildren('');\n        this.choiceList.element.replaceChildren('');\n        this._clearNotice();\n        this._store.withTxn(function () {\n            var items = clearItems ? [] : _this._store.items;\n            _this._store.reset();\n            items.forEach(function (item) {\n                _this._store.dispatch(addChoice(item));\n                _this._store.dispatch(addItem(item));\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.clearStore = function (clearOptions) {\n        if (clearOptions === void 0) { clearOptions = true; }\n        this.clearChoices(clearOptions, true);\n        this._stopSearch();\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        return this;\n    };\n    Choices.prototype.clearInput = function () {\n        var shouldSetInputWidth = !this._isSelectOneElement;\n        this.input.clear(shouldSetInputWidth);\n        this._stopSearch();\n        return this;\n    };\n    Choices.prototype._validateConfig = function () {\n        var config = this.config;\n        var invalidConfigOptions = diff(config, DEFAULT_CONFIG);\n        if (invalidConfigOptions.length) {\n            console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n        }\n        if (config.allowHTML && config.allowHtmlUserInput) {\n            if (config.addItems) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks');\n            }\n            if (config.addChoices) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks');\n            }\n        }\n    };\n    Choices.prototype._render = function (changes) {\n        if (changes === void 0) { changes = { choices: true, groups: true, items: true }; }\n        if (this._store.inTxn()) {\n            return;\n        }\n        if (this._isSelectElement) {\n            if (changes.choices || changes.groups) {\n                this._renderChoices();\n            }\n        }\n        if (changes.items) {\n            this._renderItems();\n        }\n    };\n    Choices.prototype._renderChoices = function () {\n        var _this = this;\n        if (!this._canAddItems()) {\n            return; // block rendering choices if the input limit is reached.\n        }\n        var _a = this, config = _a.config, isSearching = _a._isSearching;\n        var _b = this._store, activeGroups = _b.activeGroups, activeChoices = _b.activeChoices;\n        var renderLimit = 0;\n        if (isSearching && config.searchResultLimit > 0) {\n            renderLimit = config.searchResultLimit;\n        }\n        else if (config.renderChoiceLimit > 0) {\n            renderLimit = config.renderChoiceLimit;\n        }\n        if (this._isSelectElement) {\n            var backingOptions = activeChoices.filter(function (choice) { return !choice.element; });\n            if (backingOptions.length) {\n                this.passedElement.addOptions(backingOptions);\n            }\n        }\n        var fragment = document.createDocumentFragment();\n        var renderableChoices = function (choices) {\n            return choices.filter(function (choice) {\n                return !choice.placeholder && (isSearching ? !!choice.rank : config.renderSelectedChoices || !choice.selected);\n            });\n        };\n        var selectableChoices = false;\n        var renderChoices = function (choices, withinGroup, groupLabel) {\n            if (isSearching) {\n                // sortByRank is used to ensure stable sorting, as scores are non-unique\n                // this additionally ensures fuseOptions.sortFn is not ignored\n                choices.sort(sortByRank);\n            }\n            else if (config.shouldSort) {\n                choices.sort(config.sorter);\n            }\n            var choiceLimit = choices.length;\n            choiceLimit = !withinGroup && renderLimit && choiceLimit > renderLimit ? renderLimit : choiceLimit;\n            choiceLimit--;\n            choices.every(function (choice, index) {\n                // choiceEl being empty signals the contents has probably significantly changed\n                var dropdownItem = choice.choiceEl || _this._templates.choice(config, choice, config.itemSelectText, groupLabel);\n                choice.choiceEl = dropdownItem;\n                fragment.appendChild(dropdownItem);\n                if (isSearching || !choice.selected) {\n                    selectableChoices = true;\n                }\n                return index < choiceLimit;\n            });\n        };\n        if (activeChoices.length) {\n            if (config.resetScrollPosition) {\n                requestAnimationFrame(function () { return _this.choiceList.scrollToTop(); });\n            }\n            if (!this._hasNonChoicePlaceholder && !isSearching && this._isSelectOneElement) {\n                // If we have a placeholder choice along with groups\n                renderChoices(activeChoices.filter(function (choice) { return choice.placeholder && !choice.group; }), false, undefined);\n            }\n            // If we have grouped options\n            if (activeGroups.length && !isSearching) {\n                if (config.shouldSort) {\n                    activeGroups.sort(config.sorter);\n                }\n                // render Choices without group first, regardless of sort, otherwise they won't be distinguishable\n                // from the last group\n                renderChoices(activeChoices.filter(function (choice) { return !choice.placeholder && !choice.group; }), false, undefined);\n                activeGroups.forEach(function (group) {\n                    var groupChoices = renderableChoices(group.choices);\n                    if (groupChoices.length) {\n                        if (group.label) {\n                            var dropdownGroup = group.groupEl || _this._templates.choiceGroup(_this.config, group);\n                            group.groupEl = dropdownGroup;\n                            dropdownGroup.remove();\n                            fragment.appendChild(dropdownGroup);\n                        }\n                        renderChoices(groupChoices, true, config.appendGroupInSearch && isSearching ? group.label : undefined);\n                    }\n                });\n            }\n            else {\n                renderChoices(renderableChoices(activeChoices), false, undefined);\n            }\n        }\n        if (!selectableChoices && (isSearching || !fragment.children.length || !config.renderSelectedChoices)) {\n            if (!this._notice) {\n                this._notice = {\n                    text: resolveStringFunction(isSearching ? config.noResultsText : config.noChoicesText),\n                    type: isSearching ? NoticeTypes.noResults : NoticeTypes.noChoices,\n                };\n            }\n            fragment.replaceChildren('');\n        }\n        this._renderNotice(fragment);\n        this.choiceList.element.replaceChildren(fragment);\n        if (selectableChoices) {\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._renderItems = function () {\n        var _this = this;\n        var items = this._store.items || [];\n        var itemList = this.itemList.element;\n        var config = this.config;\n        var fragment = document.createDocumentFragment();\n        var itemFromList = function (item) {\n            return itemList.querySelector(\"[data-item][data-id=\\\"\".concat(item.id, \"\\\"]\"));\n        };\n        var addItemToFragment = function (item) {\n            var el = item.itemEl;\n            if (el && el.parentElement) {\n                return;\n            }\n            el = itemFromList(item) || _this._templates.item(config, item, config.removeItemButton);\n            item.itemEl = el;\n            fragment.appendChild(el);\n        };\n        // new items\n        items.forEach(addItemToFragment);\n        var addedItems = !!fragment.childNodes.length;\n        if (this._isSelectOneElement) {\n            var existingItems = itemList.children.length;\n            if (addedItems || existingItems > 1) {\n                var placeholder = itemList.querySelector(getClassNamesSelector(config.classNames.placeholder));\n                if (placeholder) {\n                    placeholder.remove();\n                }\n            }\n            else if (!addedItems && !existingItems && this._placeholderValue) {\n                addedItems = true;\n                addItemToFragment(mapInputToChoice({\n                    selected: true,\n                    value: '',\n                    label: this._placeholderValue,\n                    placeholder: true,\n                }, false));\n            }\n        }\n        if (addedItems) {\n            itemList.append(fragment);\n            if (config.shouldSortItems && !this._isSelectOneElement) {\n                items.sort(config.sorter);\n                // push sorting into the DOM\n                items.forEach(function (item) {\n                    var el = itemFromList(item);\n                    if (el) {\n                        el.remove();\n                        fragment.append(el);\n                    }\n                });\n                itemList.append(fragment);\n            }\n        }\n        if (this._isTextElement) {\n            // Update the value of the hidden input\n            this.passedElement.value = items.map(function (_a) {\n                var value = _a.value;\n                return value;\n            }).join(config.delimiter);\n        }\n    };\n    Choices.prototype._displayNotice = function (text, type, openDropdown) {\n        if (openDropdown === void 0) { openDropdown = true; }\n        var oldNotice = this._notice;\n        if (oldNotice &&\n            ((oldNotice.type === type && oldNotice.text === text) ||\n                (oldNotice.type === NoticeTypes.addChoice &&\n                    (type === NoticeTypes.noResults || type === NoticeTypes.noChoices)))) {\n            if (openDropdown) {\n                this.showDropdown(true);\n            }\n            return;\n        }\n        this._clearNotice();\n        this._notice = text\n            ? {\n                text: text,\n                type: type,\n            }\n            : undefined;\n        this._renderNotice();\n        if (openDropdown && text) {\n            this.showDropdown(true);\n        }\n    };\n    Choices.prototype._clearNotice = function () {\n        if (!this._notice) {\n            return;\n        }\n        var noticeElement = this.choiceList.element.querySelector(getClassNamesSelector(this.config.classNames.notice));\n        if (noticeElement) {\n            noticeElement.remove();\n        }\n        this._notice = undefined;\n    };\n    Choices.prototype._renderNotice = function (fragment) {\n        var noticeConf = this._notice;\n        if (noticeConf) {\n            var notice = this._templates.notice(this.config, noticeConf.text, noticeConf.type);\n            if (fragment) {\n                fragment.append(notice);\n            }\n            else {\n                this.choiceList.prepend(notice);\n            }\n        }\n    };\n    // eslint-disable-next-line class-methods-use-this\n    Choices.prototype._getChoiceForOutput = function (choice, keyCode) {\n        return {\n            id: choice.id,\n            highlighted: choice.highlighted,\n            labelClass: choice.labelClass,\n            labelDescription: choice.labelDescription,\n            customProperties: choice.customProperties,\n            disabled: choice.disabled,\n            active: choice.active,\n            label: choice.label,\n            placeholder: choice.placeholder,\n            value: choice.value,\n            groupValue: choice.group ? choice.group.label : undefined,\n            element: choice.element,\n            keyCode: keyCode,\n        };\n    };\n    Choices.prototype._triggerChange = function (value) {\n        if (value === undefined || value === null) {\n            return;\n        }\n        this.passedElement.triggerEvent(EventType.change, {\n            value: value,\n        });\n    };\n    Choices.prototype._handleButtonAction = function (element) {\n        var _this = this;\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || !this.config.removeItemButton) {\n            return;\n        }\n        var id = element && parseDataSetId(element.parentElement);\n        var itemToRemove = id && items.find(function (item) { return item.id === id; });\n        if (!itemToRemove) {\n            return;\n        }\n        this._store.withTxn(function () {\n            // Remove item associated with button\n            _this._removeItem(itemToRemove);\n            _this._triggerChange(itemToRemove.value);\n            if (_this._isSelectOneElement && !_this._hasNonChoicePlaceholder) {\n                var placeholderChoice = (_this.config.shouldSort ? _this._store.choices.reverse() : _this._store.choices).find(function (choice) { return choice.placeholder; });\n                if (placeholderChoice) {\n                    _this._addItem(placeholderChoice);\n                    _this.unhighlightAll();\n                    if (placeholderChoice.value) {\n                        _this._triggerChange(placeholderChoice.value);\n                    }\n                }\n            }\n        });\n    };\n    Choices.prototype._handleItemAction = function (element, hasShiftKey) {\n        var _this = this;\n        if (hasShiftKey === void 0) { hasShiftKey = false; }\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || this._isSelectOneElement) {\n            return;\n        }\n        var id = parseDataSetId(element);\n        if (!id) {\n            return;\n        }\n        // We only want to select one item with a click\n        // so we deselect any items that aren't the target\n        // unless shift is being pressed\n        items.forEach(function (item) {\n            if (item.id === id && !item.highlighted) {\n                _this.highlightItem(item);\n            }\n            else if (!hasShiftKey && item.highlighted) {\n                _this.unhighlightItem(item);\n            }\n        });\n        // Focus input as without focus, a user cannot do anything with a\n        // highlighted item\n        this.input.focus();\n    };\n    Choices.prototype._handleChoiceAction = function (element) {\n        var _this = this;\n        // If we are clicking on an option\n        var id = parseDataSetId(element);\n        var choice = id && this._store.getChoiceById(id);\n        if (!choice || choice.disabled) {\n            return false;\n        }\n        var hasActiveDropdown = this.dropdown.isActive;\n        if (!choice.selected) {\n            if (!this._canAddItems()) {\n                return true; // causes _onEnterKey to early out\n            }\n            this._store.withTxn(function () {\n                _this._addItem(choice, true, true);\n                _this.clearInput();\n                _this.unhighlightAll();\n            });\n            this._triggerChange(choice.value);\n        }\n        // We want to close the dropdown if we are dealing with a single select box\n        if (hasActiveDropdown && this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n            this.containerOuter.element.focus();\n        }\n        return true;\n    };\n    Choices.prototype._handleBackspace = function (items) {\n        var config = this.config;\n        if (!config.removeItems || !items.length) {\n            return;\n        }\n        var lastItem = items[items.length - 1];\n        var hasHighlightedItems = items.some(function (item) { return item.highlighted; });\n        // If editing the last item is allowed and there are not other selected items,\n        // we can edit the item value. Otherwise if we can remove items, remove all selected items\n        if (config.editItems && !hasHighlightedItems && lastItem) {\n            this.input.value = lastItem.value;\n            this.input.setWidth();\n            this._removeItem(lastItem);\n            this._triggerChange(lastItem.value);\n        }\n        else {\n            if (!hasHighlightedItems) {\n                // Highlight last item if none already highlighted\n                this.highlightItem(lastItem, false);\n            }\n            this.removeHighlightedItems(true);\n        }\n    };\n    Choices.prototype._loadChoices = function () {\n        var _a;\n        var _this = this;\n        var config = this.config;\n        if (this._isTextElement) {\n            // Assign preset items from passed object first\n            this._presetChoices = config.items.map(function (e) { return mapInputToChoice(e, false); });\n            // Add any values passed from attribute\n            if (this.passedElement.value) {\n                var elementItems = this.passedElement.value\n                    .split(config.delimiter)\n                    .map(function (e) { return mapInputToChoice(e, false, _this.config.allowHtmlUserInput); });\n                this._presetChoices = this._presetChoices.concat(elementItems);\n            }\n            this._presetChoices.forEach(function (choice) {\n                choice.selected = true;\n            });\n        }\n        else if (this._isSelectElement) {\n            // Assign preset choices from passed object\n            this._presetChoices = config.choices.map(function (e) { return mapInputToChoice(e, true); });\n            // Create array of choices from option elements\n            var choicesFromOptions = this.passedElement.optionsAsChoices();\n            if (choicesFromOptions) {\n                (_a = this._presetChoices).push.apply(_a, choicesFromOptions);\n            }\n        }\n    };\n    Choices.prototype._handleLoadingState = function (setLoading) {\n        if (setLoading === void 0) { setLoading = true; }\n        var el = this.itemList.element;\n        if (setLoading) {\n            this.disable();\n            this.containerOuter.addLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren(this._templates.placeholder(this.config, this.config.loadingText));\n            }\n            else {\n                this.input.placeholder = this.config.loadingText;\n            }\n        }\n        else {\n            this.enable();\n            this.containerOuter.removeLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren('');\n                this._render();\n            }\n            else {\n                this.input.placeholder = this._placeholderValue || '';\n            }\n        }\n    };\n    Choices.prototype._handleSearch = function (value) {\n        if (!this.input.isFocussed) {\n            return;\n        }\n        // Check that we have a value to search and the input was an alphanumeric character\n        if (value !== null && typeof value !== 'undefined' && value.length >= this.config.searchFloor) {\n            var resultCount = this.config.searchChoices ? this._searchChoices(value) : 0;\n            if (resultCount !== null) {\n                // Trigger search event\n                this.passedElement.triggerEvent(EventType.search, {\n                    value: value,\n                    resultCount: resultCount,\n                });\n            }\n        }\n        else if (this._store.choices.some(function (option) { return !option.active; })) {\n            this._stopSearch();\n        }\n    };\n    Choices.prototype._canAddItems = function () {\n        var config = this.config;\n        var maxItemCount = config.maxItemCount, maxItemText = config.maxItemText;\n        if (!config.singleModeForMultiSelect && maxItemCount > 0 && maxItemCount <= this._store.items.length) {\n            this.choiceList.element.replaceChildren('');\n            this._notice = undefined;\n            this._displayNotice(typeof maxItemText === 'function' ? maxItemText(maxItemCount) : maxItemText, NoticeTypes.addChoice);\n            return false;\n        }\n        if (this._notice && this._notice.type === NoticeTypes.addChoice) {\n            this._clearNotice();\n        }\n        return true;\n    };\n    Choices.prototype._canCreateItem = function (value) {\n        var config = this.config;\n        var canAddItem = true;\n        var notice = '';\n        if (canAddItem && typeof config.addItemFilter === 'function' && !config.addItemFilter(value)) {\n            canAddItem = false;\n            notice = resolveNoticeFunction(config.customAddItemText, value);\n        }\n        if (canAddItem) {\n            var foundChoice = this._store.choices.find(function (choice) { return config.valueComparer(choice.value, value); });\n            if (foundChoice) {\n                if (this._isSelectElement) {\n                    // for exact matches, do not prompt to add it as a custom choice\n                    this._displayNotice('', NoticeTypes.addChoice);\n                    return false;\n                }\n                if (!config.duplicateItemsAllowed) {\n                    canAddItem = false;\n                    notice = resolveNoticeFunction(config.uniqueItemText, value);\n                }\n            }\n        }\n        if (canAddItem) {\n            notice = resolveNoticeFunction(config.addItemText, value);\n        }\n        if (notice) {\n            this._displayNotice(notice, NoticeTypes.addChoice);\n        }\n        return canAddItem;\n    };\n    Choices.prototype._searchChoices = function (value) {\n        var newValue = value.trim().replace(/\\s{2,}/, ' ');\n        // signal input didn't change search\n        if (!newValue.length || newValue === this._currentValue) {\n            return null;\n        }\n        var searcher = this._searcher;\n        if (searcher.isEmptyIndex()) {\n            searcher.index(this._store.searchableChoices);\n        }\n        // If new value matches the desired length and is not the same as the current value with a space\n        var results = searcher.search(newValue);\n        this._currentValue = newValue;\n        this._highlightPosition = 0;\n        this._isSearching = true;\n        var notice = this._notice;\n        var noticeType = notice && notice.type;\n        if (noticeType !== NoticeTypes.addChoice) {\n            if (!results.length) {\n                this._displayNotice(resolveStringFunction(this.config.noResultsText), NoticeTypes.noResults);\n            }\n            else {\n                this._clearNotice();\n            }\n        }\n        this._store.dispatch(filterChoices(results));\n        return results.length;\n    };\n    Choices.prototype._stopSearch = function () {\n        if (this._isSearching) {\n            this._currentValue = '';\n            this._isSearching = false;\n            this._clearNotice();\n            this._store.dispatch(activateChoices(true));\n            this.passedElement.triggerEvent(EventType.search, {\n                value: '',\n                resultCount: 0,\n            });\n        }\n    };\n    Choices.prototype._addEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        // capture events - can cancel event processing or propagation\n        documentElement.addEventListener('touchend', this._onTouchEnd, true);\n        outerElement.addEventListener('keydown', this._onKeyDown, true);\n        outerElement.addEventListener('mousedown', this._onMouseDown, true);\n        // passive events - doesn't call `preventDefault` or `stopPropagation`\n        documentElement.addEventListener('click', this._onClick, { passive: true });\n        documentElement.addEventListener('touchmove', this._onTouchMove, {\n            passive: true,\n        });\n        this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n            passive: true,\n        });\n        if (this._isSelectOneElement) {\n            outerElement.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            outerElement.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n        }\n        inputElement.addEventListener('keyup', this._onKeyUp, {\n            passive: true,\n        });\n        inputElement.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        inputElement.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        inputElement.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n        if (inputElement.form) {\n            inputElement.form.addEventListener('reset', this._onFormReset, {\n                passive: true,\n            });\n        }\n        this.input.addEventListeners();\n    };\n    Choices.prototype._removeEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n        outerElement.removeEventListener('keydown', this._onKeyDown, true);\n        outerElement.removeEventListener('mousedown', this._onMouseDown, true);\n        documentElement.removeEventListener('click', this._onClick);\n        documentElement.removeEventListener('touchmove', this._onTouchMove);\n        this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n        if (this._isSelectOneElement) {\n            outerElement.removeEventListener('focus', this._onFocus);\n            outerElement.removeEventListener('blur', this._onBlur);\n        }\n        inputElement.removeEventListener('keyup', this._onKeyUp);\n        inputElement.removeEventListener('input', this._onInput);\n        inputElement.removeEventListener('focus', this._onFocus);\n        inputElement.removeEventListener('blur', this._onBlur);\n        if (inputElement.form) {\n            inputElement.form.removeEventListener('reset', this._onFormReset);\n        }\n        this.input.removeEventListeners();\n    };\n    Choices.prototype._onKeyDown = function (event) {\n        var keyCode = event.keyCode;\n        var hasActiveDropdown = this.dropdown.isActive;\n        /*\n        See:\n        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n        https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n        https://en.wikipedia.org/wiki/UTF-16#Code_points_from_U+010000_to_U+10FFFF - UTF-16 surrogate pairs\n        https://stackoverflow.com/a/70866532 - \"Unidentified\" for mobile\n        http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635 - U+FFFF is reserved (Section 16.7)\n    \n        Logic: when a key event is sent, `event.key` represents its printable value _or_ one\n        of a large list of special values indicating meta keys/functionality. In addition,\n        key events for compose functionality contain a value of `Dead` when mid-composition.\n    \n        I can't quite verify it, but non-English IMEs may also be able to generate key codes\n        for code points in the surrogate-pair range, which could potentially be seen as having\n        key.length > 1. Since `Fn` is one of the special keys, we can't distinguish by that\n        alone.\n    \n        Here, key.length === 1 means we know for sure the input was printable and not a special\n        `key` value. When the length is greater than 1, it could be either a printable surrogate\n        pair or a special `key` value. We can tell the difference by checking if the _character\n        code_ value (not code point!) is in the \"surrogate pair\" range or not.\n    \n        We don't use .codePointAt because an invalid code point would return 65535, which wouldn't\n        pass the >= 0x10000 check we would otherwise use.\n    \n        > ...The Unicode Standard sets aside 66 noncharacter code points. The last two code points\n        > of each plane are noncharacters: U+FFFE and U+FFFF on the BMP...\n        */\n        var wasPrintableChar = event.key.length === 1 ||\n            (event.key.length === 2 && event.key.charCodeAt(0) >= 0xd800) ||\n            event.key === 'Unidentified';\n        /*\n          We do not show the dropdown if focusing out with esc or navigating through input fields.\n          An activated search can still be opened with any other key.\n         */\n        if (!this._isTextElement &&\n            !hasActiveDropdown &&\n            keyCode !== KeyCodeMap.ESC_KEY &&\n            keyCode !== KeyCodeMap.TAB_KEY &&\n            keyCode !== KeyCodeMap.SHIFT_KEY) {\n            this.showDropdown();\n            if (!this.input.isFocussed && wasPrintableChar) {\n                /*\n                  We update the input value with the pressed key as\n                  the input was not focussed at the time of key press\n                  therefore does not have the value of the key.\n                */\n                this.input.value += event.key;\n                // browsers interpret a space as pagedown\n                if (event.key === ' ') {\n                    event.preventDefault();\n                }\n            }\n        }\n        switch (keyCode) {\n            case KeyCodeMap.A_KEY:\n                return this._onSelectKey(event, this.itemList.element.hasChildNodes());\n            case KeyCodeMap.ENTER_KEY:\n                return this._onEnterKey(event, hasActiveDropdown);\n            case KeyCodeMap.ESC_KEY:\n                return this._onEscapeKey(event, hasActiveDropdown);\n            case KeyCodeMap.UP_KEY:\n            case KeyCodeMap.PAGE_UP_KEY:\n            case KeyCodeMap.DOWN_KEY:\n            case KeyCodeMap.PAGE_DOWN_KEY:\n                return this._onDirectionKey(event, hasActiveDropdown);\n            case KeyCodeMap.DELETE_KEY:\n            case KeyCodeMap.BACK_KEY:\n                return this._onDeleteKey(event, this._store.items, this.input.isFocussed);\n        }\n    };\n    Choices.prototype._onKeyUp = function ( /* event: KeyboardEvent */) {\n        this._canSearch = this.config.searchEnabled;\n    };\n    Choices.prototype._onInput = function ( /* event: InputEvent */) {\n        var value = this.input.value;\n        if (!value) {\n            if (this._isTextElement) {\n                this.hideDropdown(true);\n            }\n            else {\n                this._stopSearch();\n            }\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        if (this._canSearch) {\n            // do the search even if the entered text can not be added\n            this._handleSearch(value);\n        }\n        if (!this._canAddUserChoices) {\n            return;\n        }\n        // determine if a notice needs to be displayed for why a search result can't be added\n        this._canCreateItem(value);\n        if (this._isSelectElement) {\n            this._highlightPosition = 0; // reset to select the notice and/or exact match\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._onSelectKey = function (event, hasItems) {\n        // If CTRL + A or CMD + A have been pressed and there are items to select\n        if ((event.ctrlKey || event.metaKey) && hasItems) {\n            this._canSearch = false;\n            var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n            if (shouldHightlightAll) {\n                this.highlightAll();\n            }\n        }\n    };\n    Choices.prototype._onEnterKey = function (event, hasActiveDropdown) {\n        var _this = this;\n        var value = this.input.value;\n        var target = event.target;\n        event.preventDefault();\n        if (target && target.hasAttribute('data-button')) {\n            this._handleButtonAction(target);\n            return;\n        }\n        if (!hasActiveDropdown) {\n            if (this._isSelectElement || this._notice) {\n                this.showDropdown();\n            }\n            return;\n        }\n        var highlightedChoice = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n        if (highlightedChoice && this._handleChoiceAction(highlightedChoice)) {\n            return;\n        }\n        if (!target || !value) {\n            this.hideDropdown(true);\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        var addedItem = false;\n        this._store.withTxn(function () {\n            addedItem = _this._findAndSelectChoiceByValue(value, true);\n            if (!addedItem) {\n                if (!_this._canAddUserChoices) {\n                    return;\n                }\n                if (!_this._canCreateItem(value)) {\n                    return;\n                }\n                _this._addChoice(mapInputToChoice(value, false, _this.config.allowHtmlUserInput), true, true);\n                addedItem = true;\n            }\n            _this.clearInput();\n            _this.unhighlightAll();\n        });\n        if (!addedItem) {\n            return;\n        }\n        this._triggerChange(value);\n        if (this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n        }\n    };\n    Choices.prototype._onEscapeKey = function (event, hasActiveDropdown) {\n        if (hasActiveDropdown) {\n            event.stopPropagation();\n            this.hideDropdown(true);\n            this._stopSearch();\n            this.containerOuter.element.focus();\n        }\n    };\n    Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n        var keyCode = event.keyCode;\n        // If up or down key is pressed, traverse through options\n        if (hasActiveDropdown || this._isSelectOneElement) {\n            this.showDropdown();\n            this._canSearch = false;\n            var directionInt = keyCode === KeyCodeMap.DOWN_KEY || keyCode === KeyCodeMap.PAGE_DOWN_KEY ? 1 : -1;\n            var skipKey = event.metaKey || keyCode === KeyCodeMap.PAGE_DOWN_KEY || keyCode === KeyCodeMap.PAGE_UP_KEY;\n            var nextEl = void 0;\n            if (skipKey) {\n                if (directionInt > 0) {\n                    nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            else {\n                var currentEl = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n                if (currentEl) {\n                    nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            if (nextEl) {\n                // We prevent default to stop the cursor moving\n                // when pressing the arrow\n                if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n                    this.choiceList.scrollToChildElement(nextEl, directionInt);\n                }\n                this._highlightChoice(nextEl);\n            }\n            // Prevent default to maintain cursor position whilst\n            // traversing dropdown options\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onDeleteKey = function (event, items, hasFocusedInput) {\n        // If backspace or delete key is pressed and the input has no value\n        if (!this._isSelectOneElement && !event.target.value && hasFocusedInput) {\n            this._handleBackspace(items);\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onTouchMove = function () {\n        if (this._wasTap) {\n            this._wasTap = false;\n        }\n    };\n    Choices.prototype._onTouchEnd = function (event) {\n        var target = (event || event.touches[0]).target;\n        var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n        if (touchWasWithinContainer) {\n            var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n            if (containerWasExactTarget) {\n                if (this._isTextElement) {\n                    this.input.focus();\n                }\n                else if (this._isSelectMultipleElement) {\n                    this.showDropdown();\n                }\n            }\n            // Prevents focus event firing\n            event.stopPropagation();\n        }\n        this._wasTap = true;\n    };\n    /**\n     * Handles mousedown event in capture mode for containetOuter.element\n     */\n    Choices.prototype._onMouseDown = function (event) {\n        var target = event.target;\n        if (!(target instanceof HTMLElement)) {\n            return;\n        }\n        // If we have our mouse down on the scrollbar and are on IE11...\n        if (IS_IE11 && this.choiceList.element.contains(target)) {\n            // check if click was on a scrollbar area\n            var firstChoice = this.choiceList.element.firstElementChild;\n            this._isScrollingOnIe =\n                this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n        }\n        if (target === this.input.element) {\n            return;\n        }\n        var item = target.closest('[data-button],[data-item],[data-choice]');\n        if (item instanceof HTMLElement) {\n            if ('button' in item.dataset) {\n                this._handleButtonAction(item);\n            }\n            else if ('item' in item.dataset) {\n                this._handleItemAction(item, event.shiftKey);\n            }\n            else if ('choice' in item.dataset) {\n                this._handleChoiceAction(item);\n            }\n        }\n        event.preventDefault();\n    };\n    /**\n     * Handles mouseover event over this.dropdown\n     * @param {MouseEvent} event\n     */\n    Choices.prototype._onMouseOver = function (_a) {\n        var target = _a.target;\n        if (target instanceof HTMLElement && 'choice' in target.dataset) {\n            this._highlightChoice(target);\n        }\n    };\n    Choices.prototype._onClick = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var clickWasWithinContainer = containerOuter.element.contains(target);\n        if (clickWasWithinContainer) {\n            if (!this.dropdown.isActive && !containerOuter.isDisabled) {\n                if (this._isTextElement) {\n                    if (document.activeElement !== this.input.element) {\n                        this.input.focus();\n                    }\n                }\n                else {\n                    this.showDropdown();\n                    containerOuter.element.focus();\n                }\n            }\n            else if (this._isSelectOneElement &&\n                target !== this.input.element &&\n                !this.dropdown.element.contains(target)) {\n                this.hideDropdown();\n            }\n        }\n        else {\n            containerOuter.removeFocusState();\n            this.hideDropdown(true);\n            this.unhighlightAll();\n        }\n    };\n    Choices.prototype._onFocus = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var focusWasWithinContainer = target && containerOuter.element.contains(target);\n        if (!focusWasWithinContainer) {\n            return;\n        }\n        var targetIsInput = target === this.input.element;\n        if (this._isTextElement) {\n            if (targetIsInput) {\n                containerOuter.addFocusState();\n            }\n        }\n        else if (this._isSelectMultipleElement) {\n            if (targetIsInput) {\n                this.showDropdown(true);\n                // If element is a select box, the focused element is the container and the dropdown\n                // isn't already open, focus and show dropdown\n                containerOuter.addFocusState();\n            }\n        }\n        else {\n            containerOuter.addFocusState();\n            if (targetIsInput) {\n                this.showDropdown(true);\n            }\n        }\n    };\n    Choices.prototype._onBlur = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var blurWasWithinContainer = target && containerOuter.element.contains(target);\n        if (blurWasWithinContainer && !this._isScrollingOnIe) {\n            if (target === this.input.element) {\n                containerOuter.removeFocusState();\n                this.hideDropdown(true);\n                if (this._isTextElement || this._isSelectMultipleElement) {\n                    this.unhighlightAll();\n                }\n            }\n            else if (target === this.containerOuter.element) {\n                // Remove the focus state when the past outerContainer was the target\n                containerOuter.removeFocusState();\n                // Also close the dropdown if search is disabled\n                if (!this._canSearch) {\n                    this.hideDropdown(true);\n                }\n            }\n        }\n        else {\n            // On IE11, clicking the scollbar blurs our input and thus\n            // closes the dropdown. To stop this, we refocus our input\n            // if we know we are on IE *and* are scrolling.\n            this._isScrollingOnIe = false;\n            this.input.element.focus();\n        }\n    };\n    Choices.prototype._onFormReset = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this.clearInput();\n            _this.hideDropdown();\n            _this.refresh(false, false, true);\n            if (_this._initialItems.length) {\n                _this.setChoiceByValue(_this._initialItems);\n            }\n        });\n    };\n    Choices.prototype._highlightChoice = function (el) {\n        if (el === void 0) { el = null; }\n        var choices = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier));\n        if (!choices.length) {\n            return;\n        }\n        var passedEl = el;\n        var highlightedState = this.config.classNames.highlightedState;\n        var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(getClassNamesSelector(highlightedState)));\n        // Remove any highlighted choices\n        highlightedChoices.forEach(function (choice) {\n            removeClassesFromElement(choice, highlightedState);\n            choice.setAttribute('aria-selected', 'false');\n        });\n        if (passedEl) {\n            this._highlightPosition = choices.indexOf(passedEl);\n        }\n        else {\n            // Highlight choice based on last known highlight location\n            if (choices.length > this._highlightPosition) {\n                // If we have an option to highlight\n                passedEl = choices[this._highlightPosition];\n            }\n            else {\n                // Otherwise highlight the option before\n                passedEl = choices[choices.length - 1];\n            }\n            if (!passedEl) {\n                passedEl = choices[0];\n            }\n        }\n        addClassesToElement(passedEl, highlightedState);\n        passedEl.setAttribute('aria-selected', 'true');\n        this.passedElement.triggerEvent(EventType.highlightChoice, {\n            el: passedEl,\n        });\n        if (this.dropdown.isActive) {\n            // IE11 ignores aria-label and blocks virtual keyboard\n            // if aria-activedescendant is set without a dropdown\n            this.input.setActiveDescendant(passedEl.id);\n            this.containerOuter.setActiveDescendant(passedEl.id);\n        }\n    };\n    Choices.prototype._addItem = function (item, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (!item.id) {\n            throw new TypeError('item.id must be set before _addItem is called for a choice/item');\n        }\n        if (this.config.singleModeForMultiSelect || this._isSelectOneElement) {\n            this.removeActiveItems(item.id);\n        }\n        this._store.dispatch(addItem(item));\n        if (withEvents) {\n            this.passedElement.triggerEvent(EventType.addItem, this._getChoiceForOutput(item));\n            if (userTriggered) {\n                this.passedElement.triggerEvent(EventType.choice, this._getChoiceForOutput(item));\n            }\n        }\n    };\n    Choices.prototype._removeItem = function (item) {\n        if (!item.id) {\n            return;\n        }\n        this._store.dispatch(removeItem$1(item));\n        var notice = this._notice;\n        if (notice && notice.type === NoticeTypes.noChoices) {\n            this._clearNotice();\n        }\n        this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(item));\n    };\n    Choices.prototype._addChoice = function (choice, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (choice.id) {\n            throw new TypeError('Can not re-add a choice which has already been added');\n        }\n        var config = this.config;\n        if (!config.duplicateItemsAllowed && this._store.choices.find(function (c) { return config.valueComparer(c.value, choice.value); })) {\n            return;\n        }\n        // Generate unique id, in-place update is required so chaining _addItem works as expected\n        this._lastAddedChoiceId++;\n        choice.id = this._lastAddedChoiceId;\n        choice.elementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choice.id);\n        var prependValue = config.prependValue, appendValue = config.appendValue;\n        if (prependValue) {\n            choice.value = prependValue + choice.value;\n        }\n        if (appendValue) {\n            choice.value += appendValue.toString();\n        }\n        if ((prependValue || appendValue) && choice.element) {\n            choice.element.value = choice.value;\n        }\n        this._clearNotice();\n        this._store.dispatch(addChoice(choice));\n        if (choice.selected) {\n            this._addItem(choice, withEvents, userTriggered);\n        }\n    };\n    Choices.prototype._addGroup = function (group, withEvents) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = true; }\n        if (group.id) {\n            throw new TypeError('Can not re-add a group which has already been added');\n        }\n        this._store.dispatch(addGroup(group));\n        if (!group.choices) {\n            return;\n        }\n        // add unique id for the group(s), and do not store the full list of choices in this group\n        this._lastAddedGroupId++;\n        group.id = this._lastAddedGroupId;\n        group.choices.forEach(function (item) {\n            item.group = group;\n            if (group.disabled) {\n                item.disabled = true;\n            }\n            _this._addChoice(item, withEvents);\n        });\n    };\n    Choices.prototype._createTemplates = function () {\n        var _this = this;\n        var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n        var userTemplates = {};\n        if (typeof callbackOnCreateTemplates === 'function') {\n            userTemplates = callbackOnCreateTemplates.call(this, strToEl, escapeForTemplate, getClassNames);\n        }\n        var templating = {};\n        Object.keys(this._templates).forEach(function (name) {\n            if (name in userTemplates) {\n                templating[name] = userTemplates[name].bind(_this);\n            }\n            else {\n                templating[name] = _this._templates[name].bind(_this);\n            }\n        });\n        this._templates = templating;\n    };\n    Choices.prototype._createElements = function () {\n        var templating = this._templates;\n        var _a = this, config = _a.config, isSelectOneElement = _a._isSelectOneElement;\n        var position = config.position, classNames = config.classNames;\n        var elementType = this._elementType;\n        this.containerOuter = new Container({\n            element: templating.containerOuter(config, this._direction, this._isSelectElement, isSelectOneElement, config.searchEnabled, elementType, config.labelId),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.containerInner = new Container({\n            element: templating.containerInner(config),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.input = new Input({\n            element: templating.input(config, this._placeholderValue),\n            classNames: classNames,\n            type: elementType,\n            preventPaste: !config.paste,\n        });\n        this.choiceList = new List({\n            element: templating.choiceList(config, isSelectOneElement),\n        });\n        this.itemList = new List({\n            element: templating.itemList(config, isSelectOneElement),\n        });\n        this.dropdown = new Dropdown({\n            element: templating.dropdown(config),\n            classNames: classNames,\n            type: elementType,\n        });\n    };\n    Choices.prototype._createStructure = function () {\n        var _a = this, containerInner = _a.containerInner, containerOuter = _a.containerOuter, passedElement = _a.passedElement;\n        var dropdownElement = this.dropdown.element;\n        // Hide original element\n        passedElement.conceal();\n        // Wrap input in container preserving DOM ordering\n        containerInner.wrap(passedElement.element);\n        // Wrapper inner container with outer container\n        containerOuter.wrap(containerInner.element);\n        if (this._isSelectOneElement) {\n            this.input.placeholder = this.config.searchPlaceholderValue || '';\n        }\n        else {\n            if (this._placeholderValue) {\n                this.input.placeholder = this._placeholderValue;\n            }\n            this.input.setWidth();\n        }\n        containerOuter.element.appendChild(containerInner.element);\n        containerOuter.element.appendChild(dropdownElement);\n        containerInner.element.appendChild(this.itemList.element);\n        dropdownElement.appendChild(this.choiceList.element);\n        if (!this._isSelectOneElement) {\n            containerInner.element.appendChild(this.input.element);\n        }\n        else if (this.config.searchEnabled) {\n            dropdownElement.insertBefore(this.input.element, dropdownElement.firstChild);\n        }\n        this._highlightPosition = 0;\n        this._isSearching = false;\n    };\n    Choices.prototype._initStore = function () {\n        var _this = this;\n        this._store.subscribe(this._render).withTxn(function () {\n            _this._addPredefinedChoices(_this._presetChoices, _this._isSelectOneElement && !_this._hasNonChoicePlaceholder, false);\n        });\n        if (!this._store.choices.length || (this._isSelectOneElement && this._hasNonChoicePlaceholder)) {\n            this._render();\n        }\n    };\n    Choices.prototype._addPredefinedChoices = function (choices, selectFirstOption, withEvents) {\n        var _this = this;\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (withEvents === void 0) { withEvents = true; }\n        if (selectFirstOption) {\n            /**\n             * If there is a selected choice already or the choice is not the first in\n             * the array, add each choice normally.\n             *\n             * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n             */\n            var noSelectedChoices = choices.findIndex(function (choice) { return choice.selected; }) === -1;\n            if (noSelectedChoices) {\n                choices.some(function (choice) {\n                    if (choice.disabled || 'choices' in choice) {\n                        return false;\n                    }\n                    choice.selected = true;\n                    return true;\n                });\n            }\n        }\n        choices.forEach(function (item) {\n            if ('choices' in item) {\n                if (_this._isSelectElement) {\n                    _this._addGroup(item, withEvents);\n                }\n            }\n            else {\n                _this._addChoice(item, withEvents);\n            }\n        });\n    };\n    Choices.prototype._findAndSelectChoiceByValue = function (value, userTriggered) {\n        var _this = this;\n        if (userTriggered === void 0) { userTriggered = false; }\n        // Check 'value' property exists and the choice isn't already selected\n        var foundChoice = this._store.choices.find(function (choice) { return _this.config.valueComparer(choice.value, value); });\n        if (foundChoice && !foundChoice.disabled && !foundChoice.selected) {\n            this._addItem(foundChoice, true, userTriggered);\n            return true;\n        }\n        return false;\n    };\n    Choices.prototype._generatePlaceholderValue = function () {\n        var config = this.config;\n        if (!config.placeholder) {\n            return null;\n        }\n        if (this._hasNonChoicePlaceholder) {\n            return config.placeholderValue;\n        }\n        if (this._isSelectElement) {\n            var placeholderOption = this.passedElement.placeholderOption;\n            return placeholderOption ? placeholderOption.text : null;\n        }\n        return null;\n    };\n    Choices.prototype._warnChoicesInitFailed = function (caller) {\n        if (this.config.silent) {\n            return;\n        }\n        if (!this.initialised) {\n            throw new TypeError(\"\".concat(caller, \" called on a non-initialised instance of Choices\"));\n        }\n        else if (!this.initialisedOK) {\n            throw new TypeError(\"\".concat(caller, \" called for an element which has multiple instances of Choices initialised on it\"));\n        }\n    };\n    Choices.version = '11.1.0';\n    return Choices;\n}());\n\nexport { Choices as default };\n","import Choices from 'choices.js';\nimport { ModelView } from '@/Common/ModelView';\n\nclass SelectComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\n\t\tthis.template = _.template(`\n\t\t\t<select\n\t\t\t\ttype=\"<%=type%>\"\n\t\t\t\tclass=\"form-control <%=className%>\"\n\t\t\t\ttoggle-entity=\"_entitie_form\"\n\t\t\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\t\t\tid=\"<%=name%>\"\n\t\t\t\tname=\"<%=name%>\"\n\t\t\t\ttarget=\"<%= target%>\"\n\t\t\t\tplaceholder=\"<%=placeholder%>\"\n\t\t\t\tvalue=\"<%= valor%>\"\n\t\t\t\t<%=(readonly)? 'readonly': ''%>\n\t\t\t\t<%=(disabled)? 'disabled': ''%>>\n\t\t\t\t<option value=\"\">Pendiente seleccionar...</option>\n\t\t\t\t<% data = (searchType == 'local')? this.collection[search]: new Array()\n\t\t\t\tif(_.size(data) > 0){\n\t\t\t\t\t_.each(data, function(row, index){ \t%>\n\t\t\t\t\t<% selected = (index == valor)? 'selected': '' %>\n\t\t\t\t\t<option <%=selected%> value=\"<%= index%>\"><%= row%></option>\n\t\t\t\t<% })\n\t\t\t\t} else { %>\n\t\t\t\t\t<option value=\"\">...</option>\n\t\t\t\t<% } %>\n\t\t\t</select>\n\t\t\t<label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n\t\t`);\n\t}\n}\n\nclass RadioComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(`\n            <div class=\"form-check form-check-inline mt-2\">\n                <input\n                    id=\"<%=name%>1\"\n                    name=\"<%=name%>\"\n                    toggle-entity=\"entitie_form\"\n                    target=\"<%= target%>\"\n                    class=\"form-check-input mt-0\"\n                    toggle-event=\"<%=(event)? event :'' %>\"\n                    type=\"radio\"\n                    value='S'\n                    <%=(valor == 'S')? 'checked':''%>\n                    <%=(readonly)? 'readonly': ''%>\n                    <%=(disabled)? 'disabled': ''%>\n                />\n                <label class=\"form-check-label mt-0\" for=\"flexRadioDefault1\">\n                    SI\n                </label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n                <input\n                    id=\"<%=name%>2\"\n                    name=\"<%=name%>\"\n                    toggle-entity=\"entitie_form\"\n                    target=\"<%= target%>\"\n                    class=\"form-check-input mt-0\"\n                    toggle-event=\"<%=(event)? event.name:'' %>\"\n                    type=\"radio\"\n                    value='N'\n                    <%=(valor != 'S')? 'checked':''%>\n                    <%=(readonly)? 'readonly': ''%>\n                    <%=(disabled)? 'disabled': ''%>\n                />\n                <label class=\"form-check-label mt-0\" for=\"flexRadioDefault2\">\n                    NO\n                </label>\n            </div>\n             <label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n            `);\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass DateComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = `<input\n            type=\"<%=type%>\"\n            class=\"form-control datepicker mt-2 ddate\"\n            toggle-entity=\"entitie_form\"\n            toggle-event=\"<%= (event)? event : '' %>\"\n            id=\"<%=name%>\"\n            name=\"<%=name%>\"\n            target=\"<%= target%>\"\n            placeholder=\"<%=(placeholder)? placeholder : label %>\"\n            value=\"<%= valor%>\"\n            for=\"<%= name%>\"\n            title=\"<%=(placeholder)? placeholder : label %>\"\n            <%=(disabled)? 'disabled': ''%>\n            <%=(readonly)? 'readonly': ''%>\n\t    />`;\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass TextComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = `<textarea\n\t\ttype=\"<%=type%>\"\n\t\ttoggle-entity=\"entitie_form\"\n\t\tclass=\"form-control  mt-2\"\n\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\tid=\"<%=name%>\"\n\t\tname=\"<%=name%>\"\n\t\ttarget=\"<%= target%>\"\n\t\tplaceholder=\"<%=(placeholder)? placeholder : label %>\"\n\t\tmaxlength=\"<%= longitud %>\"\n\t\trows=\"<%=(rows)? rows : 1 %>\"\n\t\t<%=(readonly)? 'readonly': ''%>\n\t\t<%=(disabled)? 'disabled': ''%>><%= valor%></textarea>\n      <label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n      `;\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass DialogComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(`<div class=\"input-group  mt-2\">\n            <input\n                type=\"text\"\n                toggle-entity=\"entitie_form\"\n                class=\"d-none\"\n                id=\"<%= name%>\"\n                name=\"<%= name%>\"\n                value=\"<%= valor%>\"\n                target=\"-1\"\n            />\n            <% if(type === 'text'){ %>\n                <input type=\"<%=type%>\"\n                placeholder=\"<%=(placeholder)? placeholder : label %>\"\n                ondblclick=\"document.querySelector('.search_<%=name%>').click()\"\n                id=\"<%= name%>_detalle\"\n                name=\"<%= name%>_detalle\"\n                class=\"form-control\"\n                value=\"<%= detalle%>\"\n                target=\"-1\"\n                readonly\n            />\n            <% } %>\n            <% if(type === 'textarea'){ %>\n                <textarea\n                rows='1'\n                placeholder=\"<%=(placeholder)? placeholder : label %>\"\n                ondblclick=\"document.querySelector('.search_<%=name%>').click()\"\n                id=\"<%= name%>_detalle\"\n                name=\"<%= name%>_detalle\"\n                class=\"form-control\"\n                target=\"-1\"\n                readonly ><%= detalle%></textarea>\n            <% } %>\n\n            <span class=\"input-group-text\">\n                <% if(searchType === \"ajax\"){ %>\n                    <button type=\"button\"\n                    target= \"<%= target%>\"\n                    data-search=\"<%=search%>\"\n                    data-tag=\"<%=name%>\"\n                    data-size=\"<%=(size)? size : 100 %>\"\n                    data-detalle=\"<%=name%>_detalle\"\n                    onclick=\"buscarDataAjax(this)\"\n                    class=\"btn btn-sm bg-gray search_<%=name%>\"\n                    <%=(disabled)? 'disabled': ''%>\n                    >\n                        <i class=\"fa fa-search\"></i>\n                </button>\n                <% } else { %>\n                    <button type=\"button\"\n                    target= \"<%= target%>\"\n                    data-search=\"<%=search%>\"\n                    data-tag=\"<%=name%>\"\n                    data-size=\"<%=(size)? size : 100 %>\"\n                    data-detalle=\"<%=name%>_detalle\"\n                    onclick=\"buscarData(this, Colletions)\"\n                    class=\"btn btn-sm bg-gray search_<%=name%>\"\n                    <%=(disabled)? 'disabled': ''%>\n                    >\n                        <i class=\"fa fa-search\"></i>\n                </button>\n                <% } %>\n            </span>\n        </div>\n        <p id=\"<%=name%>_hp\" class=\"d-none text-danger\"></p>`);\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass OpenAddress extends Backbone.View {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tinitialize() {\n\t\tthis.Modal = new bootstrap.Modal(document.getElementById('modal_generic'), {\n\t\t\tkeyboard: true,\n\t\t\tbackdrop: 'static',\n\t\t});\n\t}\n\n\trender() {\n\t\tconst template = _.template(document.getElementById('tmp_direction').innerHTML);\n\t\tthis.$el.html(\n\t\t\ttemplate({\n\t\t\t\tadress: this.collection,\n\t\t\t}),\n\t\t);\n\t\t$('#size_modal_generic').addClass('modal-lg');\n\t\tthis.Modal.show();\n\t\tdocument.getElementById('modal_generic').addEventListener('hidden.bs.modal', (e) => {\n\t\t\tif ($('.modal:visible').length == 0) this.remove();\n\t\t});\n\t\treturn this;\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'blur [data-toggle=\"valida_caracteres\"]': 'validaCaracteres',\n\t\t\t'click #button_address_modal': 'addressModal',\n\t\t\t'change #address_zona': 'addressZona',\n\t\t\t'click #address_one': 'addressOne',\n\t\t\t'click [data-dismiss=\"modal\"]': 'closeModal',\n\t\t};\n\t}\n\n\tcloseModal(e) {\n\t\te.preventDefault();\n\t\tthis.Modal.hide();\n\t}\n\n\tvalidaCaracteres(e) {\n\t\tlet target = $(e.currentTarget);\n\t\tif (/[^a-zA-Z\\ 0-9]/g.test(target.val())) {\n\t\t\ttarget.val('');\n\t\t}\n\t}\n\n\taddressModal(event) {\n\t\tevent.preventDefault();\n\t\tlet barrio = '';\n\t\tlet address;\n\n\t\tif (this.$el.find('#address_five').val() !== '') {\n\t\t\tbarrio = ' BRR ' + $('#address_five').val();\n\t\t}\n\t\tif (this.$el.find('#address_one').val() == null && $('#address_two').val() == '') {\n\t\t\taddress = 'BRR';\n\t\t} else {\n\t\t\taddress =\n\t\t\t\tthis.$el.find('#address_one').val() +\n\t\t\t\t' ' +\n\t\t\t\tthis.$el.find('#address_two').val() +\n\t\t\t\t' ' +\n\t\t\t\tthis.$el.find('#address_four').val() +\n\t\t\t\t' ' +\n\t\t\t\tbarrio;\n\t\t}\n\t\tdocument.getElementById(this.model.name).value = address;\n\t\tthis.Modal.hide();\n\t}\n\n\taddressZona(event) {\n\t\tevent.preventDefault();\n\t\tconst valor = $(event.currentTarget).val();\n\t\tlet lista;\n\t\tif (valor === 'R') {\n\t\t\tlista = _.filter(this.collection, (row) => {\n\t\t\t\treturn row.tipo_rural === 'S' || row.tipo_rural === 'V';\n\t\t\t});\n\t\t\tthis.$el.find('#address_barrio').fadeOut();\n\t\t\tthis.$el.find('#show_address_four').fadeOut();\n\t\t\tthis.$el.find('#address_nombre_optional').text('Nombre ubicación');\n\t\t\tthis.$el.find('#show_address_two').attr('class', 'col-md-4');\n\t\t\tthis.$el.find('#address_one').removeAttr('disabled');\n\n\t\t\tnew Choices(this.$el.find('#address_one')[0]);\n\t\t} else if (valor === 'U') {\n\t\t\tlista = _.filter(this.collection, (row) => {\n\t\t\t\treturn row.tipo_rural === 'N';\n\t\t\t});\n\t\t\tthis.$el.find('#show_address_four').fadeIn();\n\t\t\tthis.$el.find('#address_barrio').fadeIn();\n\t\t\tthis.$el.find('#address_nombre_optional').text('Número ');\n\t\t\tthis.$el.find('#show_address_two').attr('class', 'col-md-2');\n\t\t\tthis.$el.find('#address_one').removeAttr('disabled');\n\n\t\t\tnew Choices(this.$el.find('#address_one')[0]);\n\t\t} else {\n\t\t\tlista = [];\n\t\t\t$('#address_one').attr('disabled', 'true');\n\t\t}\n\n\t\tlet html = '';\n\t\tconst template = _.template(`<option value=\"<%=estado%>\"><%=detalle%></option>`);\n\t\t_.each(lista, (adres) => {\n\t\t\thtml += template(adres);\n\t\t});\n\t\tthis.$el.find('#address_one').html(html);\n\t}\n\n\taddressOne(event) {\n\t\tevent.preventDefault();\n\t\tif (this.$el.find('#address_zona').val() == '') {\n\t\t\tthis.$el.find('#address_zona').focus();\n\t\t\tthis.$el.find('#address_one').val('');\n\t\t}\n\t}\n}\n\nclass InputComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\n\t\tthis.template = _.template(`\n\t\t\t<input\n\t\t\t\ttype=\"<%=type%>\"\n\t\t\t\tclass=\"form-control <%=className%>\"\n\t\t\t\ttoggle-entity=\"_entitie_form\"\n\t\t\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\t\t\tid=\"<%=name%>\"\n\t\t\t\tname=\"<%=name%>\"\n\t\t\t\ttarget=\"<%= target%>\"\n\t\t\t\tplaceholder=\"<%=placeholder%>\"\n\t\t\t\tvalue=\"<%= valor%>\"\n\t\t\t\t<%=(readonly)? 'readonly': ''%>\n\t\t\t\t<%=(disabled)? 'disabled': ''%>\n\t\t\t\t/>\n\t\t\t<label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n\t\t`);\n\t}\n}\n\nexport {\n\tSelectComponent,\n\tRadioComponent,\n\tDateComponent,\n\tTextComponent,\n\tDialogComponent,\n\tOpenAddress,\n\tInputComponent,\n};\n","import { Testeo } from '@/Core';\n\nconst RulesValidator = (rules = [], attr = {}) => {\n\tconst error = new Array();\n\t_.each(rules, (rule, item) => {\n\t\tif (rule !== undefined) {\n\t\t\tconst {\n\t\t\t\trequired = false,\n\t\t\t\tnumber = undefined,\n\t\t\t\temail = undefined,\n\t\t\t\tdate = undefined,\n\t\t\t\tmaxlength = undefined,\n\t\t\t\tminlength = undefined,\n\t\t\t\trangelength = undefined,\n\t\t\t\trange = undefined,\n\t\t\t} = rule;\n\n\t\t\tlet err = undefined;\n\t\t\tif (!!required) {\n\t\t\t\terr = Testeo.vacio({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(email)) {\n\t\t\t\terr = Testeo.email({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(number)) {\n\t\t\t\terr = Testeo.numerico({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(date)) {\n\t\t\t\terr = Testeo.date({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && _.isUndefined(maxlength) && !_.isUndefined(minlength)) {\n\t\t\t\terr = Testeo.max({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: minlength,\n\t\t\t\t\tmax: maxlength,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(rangelength)) {\n\t\t\t\terr = Testeo.max({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: rangelength[0],\n\t\t\t\t\tmax: rangelength[1],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(range)) {\n\t\t\t\terr = Testeo.identi({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: range[0],\n\t\t\t\t\tmax: range[1],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (err && err !== undefined) error.push(err);\n\t\t}\n\t});\n\n\treturn !!_.isEmpty(error) ? null : error;\n};\n\nexport { RulesValidator };\n","import { RulesValidator } from '@/Componentes/Services/RulesValidator';\n\nclass UserRecoveryModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'documento';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tdocumento: null,\n\t\t\ttipo: void 0,\n\t\t\tcoddoc: void 0,\n\t\t\temail: void 0,\n\t\t};\n\t}\n\n\tvalidate(attr = {}) {\n\t\treturn RulesValidator(UserRecoveryModel.Rules.rules, attr);\n\t}\n\n\tstatic Rules = {\n\t\trules: {\n\t\t\tdocumento: {\n\t\t\t\trequired: true,\n\t\t\t\tminlength: 5,\n\t\t\t\tmaxlength: 18,\n\t\t\t},\n\t\t\tcoddoc: { required: true },\n\t\t\ttipo: { required: true, maxlength: 1 },\n\t\t\ttipafi: { required: false, maxlength: 1 },\n\t\t\temail: { required: true },\n\t\t\ttelefono: { required: false },\n\t\t\tnovedad: { required: false },\n\t\t},\n\t\tmessages: {\n\t\t\tdocumento: { required: 'Se requiere campo documento' },\n\t\t\tcoddoc: { required: 'Se requiere campo tipo documento' },\n\t\t\ttipo: { required: 'Se requiere campo tipo' },\n\t\t\temail: { required: 'Se requiere campo email' },\n\t\t\tnovedad: { required: 'Se requiere campo novedad' },\n\t\t\ttelefono: { required: 'Se requiere campo telefono' },\n\t\t\ttipafi: { required: 'Se requiere campo tipo afiliado' },\n\t\t},\n\t};\n\n\tstatic changeRuleProperty(transfer = {}) {\n\t\tconst { rule, prop, value } = transfer;\n\t\tUserRecoveryModel.Rules.rules[rule][prop] = value;\n\t}\n\n\tstatic changeRulesProperty(transfer = []) {\n\t\t_.each(transfer, (row) => UserRecoveryModel.changeRuleProperty(row));\n\t}\n}\n\nexport { UserRecoveryModel };\n","import { $App } from '@/App';\nimport { ComponentModel } from '@/Componentes/Models/ComponentModel.js';\nimport { InputComponent, SelectComponent } from '@/Componentes/Views/ComponentsView.js';\nimport { UserRecoveryModel } from '../models/UserRecoveryModel.js';\nimport { ModelView } from '@/Common/ModelView.js';\nimport Choices from 'choices.js';\n\nexport default class EmailChangeView extends ModelView {\n\t#App = null;\n\t#form = null;\n\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tonRender: () => this.renderAfter(),\n\t\t});\n\t\tthis.#App = options.App || $App;\n\t\tthis.#form = null;\n\t\tthis.children = [];\n\t\tthis.template = _.template(document.getElementById('tmp_email_change').innerHTML);\n\t}\n\n\tget className() {\n\t\treturn 'card mb-2';\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'click #render_login_principal': 'renderLogin',\n\t\t\t'click #btn_cambio_correo': 'changeEmail',\n\t\t};\n\t}\n\n\trenderAfter() {\n\t\tlet view = this.addComponent(\n\t\t\tnew ComponentModel({\n\t\t\t\tname: 'coddoc',\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: 'coddoc',\n\t\t\t\tdisabled: false,\n\t\t\t\treadonly: false,\n\t\t\t\torder: 0,\n\t\t\t\ttarget: 1,\n\t\t\t\tsearchType: 'local',\n\t\t\t\tsearch: 'coddoc',\n\t\t\t\tclassName: 'js-choice',\n\t\t\t}),\n\t\t);\n\t\tthis.$el.find('#component_coddoc').html(view.$el);\n\n\t\tview = this.addComponent(\n\t\t\tnew ComponentModel({\n\t\t\t\tname: 'tipafi',\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: 'tipafi',\n\t\t\t\tdisabled: false,\n\t\t\t\treadonly: false,\n\t\t\t\torder: 0,\n\t\t\t\ttarget: 1,\n\t\t\t\tsearchType: 'local',\n\t\t\t\tsearch: 'tipafi',\n\t\t\t}),\n\t\t);\n\n\t\tthis.$el.find('#component_tipafi').html(view.$el);\n\n\t\tconst Elements = this.$el.find('.js-choice');\n\t\t$.each(Elements, (key, element) => {\n\t\t\tnew Choices(element);\n\t\t});\n\n\t\tUserRecoveryModel.changeRulesProperty([\n\t\t\t{ rule: 'telefono', prop: 'required', value: true },\n\t\t\t{ rule: 'novedad', prop: 'required', value: true },\n\t\t\t{ rule: 'tipo', prop: 'required', value: true },\n\t\t\t{ rule: 'tipo', prop: 'maxlength', value: 1 },\n\t\t]);\n\n\t\tthis.#form = this.$el.find('#formCambioCorreo');\n\t\tthis.#form.validate({\n\t\t\t...UserRecoveryModel.Rules,\n\t\t\thighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-valid').addClass('is-invalid');\n\t\t\t},\n\t\t\tunhighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-invalid').addClass('is-valid');\n\t\t\t},\n\t\t});\n\t\treturn this;\n\t}\n\n\trenderLogin(e) {\n\t\te.preventDefault();\n\t\tthis.remove();\n\t\tthis.#App.router.navigate('auth', { trigger: true });\n\t}\n\n\taddComponent(model = {}) {\n\t\tlet view;\n\t\tif (_.size(this.children) > 0) {\n\t\t\tif (_.indexOf(this.children, model.get('cid')) != -1) {\n\t\t\t\tview = this.children[model.get('cid')];\n\t\t\t}\n\t\t}\n\t\tif (!view) {\n\t\t\tswitch (model.get('type')) {\n\t\t\t\tcase 'select':\n\t\t\t\t\tview = new SelectComponent({\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\tcollection: this.#App.Collections.formParams,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'input':\n\t\t\t\t\tview = new InputComponent({\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.children[model.get('cid')] = view;\n\t\t}\n\t\tview.render();\n\t\treturn view;\n\t}\n\n\tcloseChildren() {\n\t\tconst children = this.children || {};\n\t\t_.each(children, (child) => this.closeChildView(child));\n\t}\n\n\tcloseChildView(view) {\n\t\tif (!view) return;\n\t\tif (_.isFunction(view.remove)) {\n\t\t\tview.remove();\n\t\t}\n\t\tthis.stopListening(view);\n\t\tif (view.model) {\n\t\t\tthis.children[view.model.cid] = undefined;\n\t\t}\n\t}\n\n\tchangeEmail(e) {\n\t\te.preventDefault();\n\t\tvar target = this.$el.find(e.currentTarget);\n\t\ttarget.attr('disabled', 'true');\n\n\t\tlet _err = 0;\n\t\tif (this.#form.valid() == false) _err++;\n\t\tif (_err > 0) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Se requiere de resolver los campos requeridos para continuar.',\n\t\t\t});\n\t\t\tsetTimeout(() => this.$el.find('label.error').fadeOut(), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst entity = new UserRecoveryModel({\n\t\t\tdocumento: this.$el.find('#documento').val(),\n\t\t\ttipo: this.$el.find('#tipafi').val(),\n\t\t\temail: this.$el.find('#email').val(),\n\t\t\tcoddoc: this.$el.find('#coddoc').val(),\n\t\t\ttelefono: this.$el.find('#telefono').val(),\n\t\t\tnovedad: this.$el.find('#novedad').val(),\n\t\t});\n\n\t\tif (entity.isValid() === false) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\tmessage:\n\t\t\t\t\t'Todos los campos son requeridos para continuar el proceso: <br/> ' +\n\t\t\t\t\tentity.validationError.join('<br/>'),\n\t\t\t});\n\t\t\tsetTimeout(() => this.#form.find('label.error').fadeOut(), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.#App.trigger('syncro', {\n\t\t\turl: this.#App.url('cambio_correo'),\n\t\t\tdata: entity.toJSON(),\n\t\t\tcallback: (response) => {\n\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\tthis.$el.find('#documento').val('');\n\t\t\t\tthis.$el.find('#email').val('');\n\t\t\t\tthis.$el.find('#telefono').val('');\n\t\t\t\tthis.$el.find('#novedad').val('');\n\n\t\t\t\tif (response && response.success) {\n\t\t\t\t\tthis.#App.router.navigate('auth', { trigger: true });\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tthis.#App.trigger('alert:success', {\n\t\t\t\t\t\t\tmessage: response.msj,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\t\t\t\tmessage: response.msj,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.#App.router.navigate('auth', { trigger: true });\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tremove() {\n\t\tthis.closeChildren();\n\t\tModelView.prototype.remove.call(this);\n\t}\n}\n","import { ModelView } from '@/Common/ModelView';\n\nexport default class InfoView extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(document.getElementById('tmp_info').innerHTML);\n\t}\n}\n","import { $App } from '@/App';\nimport { Region } from '@/Common/Region';\nimport LayoutLogin from './views/LayoutLogin';\nimport EmailChangeView from './views/EmailChangeView';\nimport InfoView from './views/InfoView';\n\nexport default class EmailChange {\n\t#region = null;\n\t#layout = null;\n\t#App = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, Backbone.Events);\n\t\tthis.#App = options.App || $App;\n\t\tthis.#region = options.region;\n\n\t\tsessionStorage.setItem('miTokenAuth', '');\n\n\t\tthis.#layout = new LayoutLogin({\n\t\t\tmodel: {\n\t\t\t\tuseInfo: true,\n\t\t\t},\n\t\t});\n\t\tthis.#region.show(this.#layout);\n\t}\n\n\tmain() {\n\t\tconst infoView = new InfoView({\n\t\t\tmodel: {\n\t\t\t\ttitle: 'Cambio de correo electrónico',\n\t\t\t\ttext: 'Por favor, ingresa los datos solicitados para continuar.',\n\t\t\t},\n\t\t});\n\t\tthis.#layout.getRegion('info').show(infoView);\n\n\t\tconst view = new EmailChangeView({ collection: this.#App.Collections.formParams });\n\t\tthis.#layout.getRegion('recovery').show(view);\n\t\t$('#render_info').fadeIn();\n\t\t$('#render_recovery').fadeIn();\n\t\t$('#render_register').fadeOut();\n\t\t$('#render_sesion').fadeIn();\n\t}\n\n\tdestroy() {\n\t\tthis.stopListening();\n\t\tif (this.#region && this.#region instanceof Region) this.#region.remove();\n\t}\n}\n","import { RulesValidator } from '@/Componentes/Services/RulesValidator';\n\nclass UserAuthModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'documento';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tdocumento: void 0,\n\t\t\ttipo: void 0,\n\t\t\tclave: void 0,\n\t\t\tcoddoc: void 0,\n\t\t};\n\t}\n\n\tvalidate(attr = {}) {\n\t\treturn RulesValidator(UserAuthModel.Rules.rules, attr);\n\t}\n\n\tstatic Rules = {\n\t\trules: {\n\t\t\ttipafi: { required: true },\n\t\t\tclave: { required: true, maxlength: 45 },\n\t\t\tdocumento: {\n\t\t\t\trequired: true,\n\t\t\t\tminlength: 5,\n\t\t\t\tmaxlength: 18,\n\t\t\t},\n\t\t\tcoddoc: { required: true },\n\t\t\ttipo: { required: true, maxlength: 1 },\n\t\t},\n\t\tmessages: {\n\t\t\ttipafi: { required: 'Se requiere de campo tipo afiliado' },\n\t\t\tclave: { required: 'Se requiere de campo clave' },\n\t\t\tdocumento: { required: 'Se requiere de campo documento' },\n\t\t\tcoddoc: { required: 'Se requiere de campo tipo documento' },\n\t\t\ttipo: { required: 'Se requiere de campo tipo registro' },\n\t\t},\n\t};\n\n\tstatic changeRuleProperty(transfer = {}) {\n\t\tconst { rule, prop, value } = transfer;\n\t\tUserAuthModel.Rules.rules[rule][prop] = value;\n\t}\n\n\tstatic changeRulesProperty(transfer = []) {\n\t\t_.each(transfer, (row) => UserAuthModel.changeRuleProperty(row));\n\t}\n}\n\nexport { UserAuthModel };\n","import { $App } from '@/App';\nimport { ComponentModel } from '@/Componentes/Models/ComponentModel';\nimport { InputComponent, SelectComponent } from '@/Componentes/Views/ComponentsView';\nimport { UserAuthModel } from '../models/UserAuthModel';\nimport Choices from 'choices.js';\nimport { ModelView } from '@/Common/ModelView';\n\nexport default class LoginView extends ModelView {\n\t#App = null;\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tonRender: () => this.renderAfter(),\n\t\t});\n\t\tthis.form = null;\n\t\tthis.template = _.template(document.querySelector('#tmp_login').innerHTML);\n\t\tthis.#App = options.App || $App;\n\t}\n\n\tinitialize() {\n\t\tthis.children = [];\n\t}\n\n\tget className() {\n\t\treturn 'card mb-2';\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'click #mostrar_password': 'showPassword',\n\t\t\t'focusout #cedrep': 'validePk',\n\t\t\t'change [name=\"tipafi\"]': 'changeTipo',\n\t\t\t'click #bt_autenticate': 'autenticate',\n\t\t\t'click #bt_recuperar_clave': 'renderRecoveryPassword',\n\t\t\t'click #bt_solicitar_clave': 'solicitaClave',\n\t\t\t'click #bt_usar_clave': 'solicitaClave',\n\t\t\t'click #bt_cambia_email': 'solicitaCambiaEmail',\n\t\t};\n\t}\n\n\trenderAfter() {\n\t\tconst view = this.addComponent(\n\t\t\tnew ComponentModel({\n\t\t\t\tname: 'coddoc',\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: 'coddoc',\n\t\t\t\tdisabled: false,\n\t\t\t\treadonly: false,\n\t\t\t\torder: 0,\n\t\t\t\ttarget: 1,\n\t\t\t\tsearchType: 'local',\n\t\t\t\tsearch: 'coddoc',\n\t\t\t\tclassName: 'js-choice',\n\t\t\t}),\n\t\t);\n\t\tthis.$el.find('#component_coddoc').html(view.$el);\n\n\t\tconst compones = this.addComponent(\n\t\t\tnew ComponentModel({\n\t\t\t\tname: 'tipafi',\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: 'tipafi',\n\t\t\t\tdisabled: false,\n\t\t\t\treadonly: false,\n\t\t\t\torder: 0,\n\t\t\t\ttarget: 1,\n\t\t\t\tsearchType: 'local',\n\t\t\t\tsearch: 'tipafi',\n\t\t\t\tclassName: 'js-choice',\n\t\t\t}),\n\t\t);\n\n\t\tthis.$el.find('#component_tipafi').html(compones.$el);\n\t\tthis.form = this.$el.find('#formLogin');\n\t\tthis.form.validate({\n\t\t\t...UserAuthModel.Rules,\n\t\t\thighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-valid').addClass('is-invalid');\n\t\t\t},\n\t\t\tunhighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-invalid').addClass('is-valid');\n\t\t\t},\n\t\t});\n\n\t\tconst Elements = this.$el.find('.js-choice');\n\t\t$.each(Elements, (key, element) => {\n\t\t\tnew Choices(element);\n\t\t});\n\n\t\treturn this;\n\t}\n\n\trenderRecoveryPassword(e) {\n\t\te.preventDefault();\n\t\tthis.remove();\n\t\tthis.#App.router.navigate('recovery', { trigger: true });\n\t}\n\n\taddComponent(model = {}) {\n\t\tlet view;\n\t\tif (_.size(this.children) > 0) {\n\t\t\tif (_.indexOf(this.children, model.get('cid')) != -1) {\n\t\t\t\tview = this.children[model.get('cid')];\n\t\t\t}\n\t\t}\n\t\tif (!view) {\n\t\t\tswitch (model.get('type')) {\n\t\t\t\tcase 'select':\n\t\t\t\t\tview = new SelectComponent({\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\tcollection: this.#App.Collections.formParams,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'input':\n\t\t\t\t\tview = new InputComponent({\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.children[model.get('cid')] = view;\n\t\t}\n\t\tview.render();\n\t\treturn view;\n\t}\n\n\tautenticate(e) {\n\t\te.preventDefault();\n\t\tconst target = this.$el.find(e.currentTarget);\n\t\ttarget.attr('disabled', 'true');\n\n\t\tlet _err = 0;\n\t\tif (this.form.valid() == false) _err++;\n\n\t\tif (_err > 0) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Se requiere de resolver los campos requeridos para continuar.',\n\t\t\t});\n\t\t\tsetTimeout(() => this.$el.find('label.error').fadeOut(), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst entity = new UserAuthModel({\n\t\t\tdocumento: this.$el.find('#documento').val(),\n\t\t\ttipo: this.$el.find('#tipafi').val(),\n\t\t\ttipafi: this.$el.find('#tipafi').val(),\n\t\t\tclave: this.$el.find('#clave').val(),\n\t\t\tcoddoc: this.$el.find('#coddoc').val(),\n\t\t});\n\n\t\tif (entity.isValid() === false) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\tmessage:\n\t\t\t\t\t'Todos los campos son requeridos para continuar el proceso: ' +\n\t\t\t\t\tentity.validationError.join(' '),\n\t\t\t});\n\t\t\tsetTimeout(() => this.$el.find('label.error').fadeOut(), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.#App.trigger('syncro', {\n\t\t\turl: this.#App.url('autenticar'),\n\t\t\tdata: entity.toJSON(),\n\t\t\tcallback: (response) => {\n\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\tthis.$el.find('#documento').val('');\n\t\t\t\tthis.$el.find('#clave').val('');\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success === true) {\n\t\t\t\t\t\twindow.location.href = this.#App.kumbiaURL(response.location);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (response.noAccess == 1) {\n\t\t\t\t\t\t\tthis.#App.trigger('confirma', {\n\t\t\t\t\t\t\t\tmessage: response.msj,\n\t\t\t\t\t\t\t\tcallback: (status) => {\n\t\t\t\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = this.#App.url('registro_empresa');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (response.noAccess == 2) {\n\t\t\t\t\t\t\tconst miTokenAuth = btoa(\n\t\t\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\t\t\tdocumento: response.documento,\n\t\t\t\t\t\t\t\t\tcoddoc: response.coddoc,\n\t\t\t\t\t\t\t\t\ttipo: response.tipo,\n\t\t\t\t\t\t\t\t\ttipafi: response.tipafi,\n\t\t\t\t\t\t\t\t\tid: response.id,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsessionStorage.setItem('miTokenAuth', miTokenAuth);\n\t\t\t\t\t\t\tthis.#App.router.navigate('verification', {\n\t\t\t\t\t\t\t\ttrigger: true,\n\t\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\t\t\t\t\tmessage: response.msj,\n\t\t\t\t\t\t\t\ttimer: 30000,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.$el.find('#bt_usar_clave').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tsolicitaClave(e) {\n\t\te.preventDefault();\n\t\tconst has = $(e.currentTarget).attr('data-has');\n\t\tif (has == 'N') {\n\t\t\tthis.$el.find('.inbox-clave').fadeOut(() => {\n\t\t\t\tthis.$el.find('#bt_autenticate').text('Consultar afiliación');\n\t\t\t\tthis.$el.find('#clave').val('xxxx');\n\t\t\t\tthis.$el.find('.inuse-clave').fadeIn();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.$el.find('#clave').val('');\n\t\t\tthis.$el.find('.inbox-clave').fadeIn(() => {\n\t\t\t\tthis.$el.find('#bt_autenticate').text('Iniciar sesión');\n\t\t\t\tthis.$el.find('.inuse-clave').fadeOut();\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t}\n\n\tshowPassword(e) {\n\t\tlet target = this.$el.find(e.currentTarget);\n\n\t\tif (target.hasClass('eye')) {\n\t\t\ttarget.html('<i class=\"fas fa-eye-slash\"></i>');\n\t\t\ttarget.removeClass('eye');\n\t\t\tthis.$el.find('#clave').attr('type', 'text');\n\t\t} else {\n\t\t\ttarget.html('<i class=\"fas fa-eye\"></i>');\n\t\t\ttarget.addClass('eye');\n\t\t\tthis.$el.find('#clave').attr('type', 'password');\n\t\t}\n\t\treturn false;\n\t}\n\n\tchangeTipo(e) {\n\t\te.preventDefault();\n\t\tswitch (this.$el.find(e.currentTarget).val()) {\n\t\t\tcase 'E':\n\t\t\t\tthis.$el.find('#lb_documento').text('Documento empleador');\n\t\t\t\tbreak;\n\t\t\tcase 'I':\n\t\t\tcase 'O':\n\t\t\tcase 'F':\n\t\t\tcase 'S':\n\t\t\tcase 'T':\n\t\t\t\tthis.$el.find('#lb_documento').text('Identificación trabajador');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t$('#lb_documento').text('Identificación');\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcloseChildren() {\n\t\tconst children = this.children || {};\n\t\t_.each(children, (child) => this.closeChildView(child));\n\t}\n\n\tcloseChildView(view) {\n\t\tif (!view) return;\n\t\tif (_.isFunction(view.remove)) {\n\t\t\tview.remove();\n\t\t}\n\t\tthis.stopListening(view);\n\t\tif (view.model) {\n\t\t\tthis.children[view.model.cid] = undefined;\n\t\t}\n\t}\n\n\tsolicitaCambiaEmail(e) {\n\t\te.preventDefault();\n\t\tthis.remove();\n\t\tthis.#App.router.navigate('email_change', { trigger: true });\n\t}\n\n\tremove() {\n\t\tthis.stopListening();\n\t\tthis.closeChildren();\n\t\tModelView.prototype.remove.call(this);\n\t}\n}\n","import { $App } from '@/App';\nimport { Region } from '@/Common/Region';\nimport LoginView from './views/LoginView';\nimport LayoutLogin from './views/LayoutLogin';\nimport InfoView from './views/InfoView';\n\nexport default class Login {\n\t#App = null;\n\t#region = null;\n\t#layout = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, Backbone.Events);\n\t\tsessionStorage.setItem('miTokenAuth', '');\n\t\tthis.#App = options.App || $App;\n\t\tthis.#region = options.region || null;\n\t}\n\n\tmain() {\n\t\tthis.#layout = new LayoutLogin({\n\t\t\tmodel: {\n\t\t\t\tuseInfo: true,\n\t\t\t},\n\t\t});\n\t\tthis.#region.show(this.#layout);\n\n\t\tconst infoView = new InfoView({\n\t\t\tmodel: {\n\t\t\t\ttitle: 'Inicio de sesión, consulta Y gestión',\n\t\t\t\ttext: 'Por favor, ingresa los datos solicitados para continuar.',\n\t\t\t},\n\t\t});\n\t\tthis.#layout.getRegion('info').show(infoView);\n\n\t\tconst view = new LoginView({ collection: this.#App.Collections.formParams });\n\t\tthis.#layout.getRegion('login').show(view);\n\n\t\t$('#render_login').fadeIn('fast', () => $('#render_left_content').fadeIn('slow'));\n\t\t$('#render_sesion').fadeIn();\n\t\t$('#render_register').fadeOut();\n\t}\n\n\tdestroy() {\n\t\tthis.stopListening();\n\t\tif (this.#region && this.#region instanceof Region) this.#region.remove();\n\t}\n}\n","import Choices from 'choices.js';\nimport { $App } from '@/App';\nimport { ComponentModel } from '@/Componentes/Models/ComponentModel.js';\nimport { InputComponent, SelectComponent } from '@/Componentes/Views/ComponentsView.js';\nimport { UserRecoveryModel } from '../models/UserRecoveryModel.js';\n\nexport default class RecoveryView extends Backbone.View {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.form = null;\n\t\tthis.children = [];\n\t}\n\n\tget className() {\n\t\treturn 'card mb-2';\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'click #render_login_principal': 'renderLogin',\n\t\t\t'click #btn_recuperar_clave': 'recoveryPassword',\n\t\t\t'click #mostrar_password': 'showPassword',\n\t\t\t\"change [name='tipo']\": 'changeTipo',\n\t\t};\n\t}\n\n\trender() {\n\t\tconst renderedHtml = _.template(document.querySelector('#tmp_recovery').innerHTML);\n\t\tthis.$el.html(renderedHtml());\n\n\t\tlet view = this.addComponent(\n\t\t\tnew ComponentModel({\n\t\t\t\tname: 'coddoc',\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: 'coddoc',\n\t\t\t\tdisabled: false,\n\t\t\t\treadonly: false,\n\t\t\t\torder: 0,\n\t\t\t\ttarget: 1,\n\t\t\t\tsearchType: 'local',\n\t\t\t\tsearch: 'coddoc',\n\t\t\t\tclassName: 'js-choice',\n\t\t\t}),\n\t\t);\n\t\tthis.$el.find('#component_coddoc').html(view.$el);\n\n\t\tview = this.addComponent(\n\t\t\tnew ComponentModel({\n\t\t\t\tname: 'tipafi',\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: 'tipafi',\n\t\t\t\tdisabled: false,\n\t\t\t\treadonly: false,\n\t\t\t\torder: 0,\n\t\t\t\ttarget: 1,\n\t\t\t\tsearchType: 'local',\n\t\t\t\tsearch: 'tipafi',\n\t\t\t}),\n\t\t);\n\n\t\tthis.$el.find('#component_tipafi').html(view.$el);\n\n\t\tconst Elements = this.$el.find('.js-choice');\n\t\t$.each(Elements, (key, element) => {\n\t\t\tnew Choices(element);\n\t\t});\n\n\t\tthis.form = this.$el.find('#formRecovery');\n\t\tthis.form.validate({\n\t\t\t...UserRecoveryModel.Rules,\n\t\t\thighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-valid').addClass('is-invalid');\n\t\t\t},\n\t\t\tunhighlight: function (element) {\n\t\t\t\t$(element).removeClass('is-invalid').addClass('is-valid');\n\t\t\t},\n\t\t});\n\t\treturn this;\n\t}\n\n\trenderLogin(e) {\n\t\te.preventDefault();\n\t\tthis.remove();\n\t\t$App.router.navigate('auth', { trigger: true });\n\t}\n\n\trecoveryPassword(e) {\n\t\te.preventDefault();\n\t\tvar target = this.$el.find(e.currentTarget);\n\t\ttarget.attr('disabled', 'true');\n\n\t\tlet _err = 0;\n\t\tif (this.form.valid() == false) _err++;\n\t\tif (_err > 0) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Se requiere de resolver los campos requeridos para continuar.',\n\t\t\t});\n\t\t\tsetTimeout(() => this.$el.find('label.error').fadeOut(), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst entity = new UserRecoveryModel({\n\t\t\tdocumento: this.$el.find('#documento').val(),\n\t\t\ttipo: this.$el.find('#tipafi').val(),\n\t\t\temail: this.$el.find('#email').val(),\n\t\t\tcoddoc: this.$el.find('#coddoc').val(),\n\t\t});\n\n\t\tif (entity.isValid() === false) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage:\n\t\t\t\t\t'Todos los campos son requeridos para continuar el proceso: <br/> ' +\n\t\t\t\t\tentity.validationError.join('<br/>'),\n\t\t\t});\n\t\t\tsetTimeout(() => this.$el.find('label.error').fadeOut(), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\t$App.trigger('syncro', {\n\t\t\turl: $App.url('recuperar_clave'),\n\t\t\tdata: entity.toJSON(),\n\t\t\tcallback: (response) => {\n\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\tthis.$el.find('#documento').val('');\n\t\t\t\tthis.$el.find('#email').val('');\n\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.$el.find('#email').val('');\n\t\t\t\t\tthis.$el.find('#documento').val('');\n\n\t\t\t\t\t$App.router.navigate('auth', { trigger: true });\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t$App.trigger('alert:success', {\n\t\t\t\t\t\t\tmessage: response.msj,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$App.trigger('alert:warning', {\n\t\t\t\t\t\t\tmessage: response.msj,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\t$App.router.navigate('auth', { trigger: true });\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tshowPassword(e) {\n\t\tlet target = $(e.currentTarget);\n\n\t\tif (target.hasClass('eye')) {\n\t\t\ttarget.html('<i class=\"fas fa-eye-slash\"></i>');\n\t\t\ttarget.removeClass('eye');\n\t\t\t$('#clave').attr('type', 'text');\n\t\t} else {\n\t\t\ttarget.html('<i class=\"fas fa-eye\"></i>');\n\t\t\ttarget.addClass('eye');\n\t\t\t$('#clave').attr('type', 'password');\n\t\t}\n\t\treturn false;\n\t}\n\n\tchangeTipo(e) {\n\t\tlet target = this.$el.find(e.currentTarget);\n\t\tlet tipo = target.val();\n\t\tif (tipo == 'E') {\n\t\t\tthis.$el.find('#lb_documento').text('Documento empleador');\n\t\t} else {\n\t\t\tthis.$el.find('#lb_documento').text('Documento afiliado');\n\t\t}\n\t}\n\n\taddComponent(model = {}) {\n\t\tlet view;\n\t\tif (_.size(this.children) > 0) {\n\t\t\tif (_.indexOf(this.children, model.get('cid')) != -1) {\n\t\t\t\tview = this.children[model.get('cid')];\n\t\t\t}\n\t\t}\n\t\tif (!view) {\n\t\t\tswitch (model.get('type')) {\n\t\t\t\tcase 'select':\n\t\t\t\t\tview = new SelectComponent({\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t\tcollection: $App.Collections.formParams,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'input':\n\t\t\t\t\tview = new InputComponent({\n\t\t\t\t\t\tmodel: model,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.children[model.get('cid')] = view;\n\t\t}\n\t\tview.render();\n\t\treturn view;\n\t}\n\n\tremove() {\n\t\tthis.stopListening();\n\t\tBackbone.View.prototype.remove.call(this);\n\t\tthis.closeChildren();\n\t}\n\n\tcloseChildren() {\n\t\tvar children = this.children || {};\n\t\t_.each(children, (child) => this.closeChildView(child));\n\t}\n\n\tcloseChildView(view) {\n\t\tif (!view) return;\n\t\tif (_.isFunction(view.remove)) {\n\t\t\tview.remove();\n\t\t}\n\t\tthis.stopListening(view);\n\t\tif (view.model) {\n\t\t\tthis.children[view.model.cid] = undefined;\n\t\t}\n\t}\n}\n","import { $App } from '@/App';\nimport { Region } from '@/Common/Region';\nimport LayoutLogin from './views/LayoutLogin';\nimport RecoveryView from './views/RecoveryView';\nimport InfoView from './views/InfoView';\n\nexport default class Recovery {\n\t#App = null;\n\t#region = null;\n\t#layout = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, Backbone.Events);\n\t\tsessionStorage.setItem('miTokenAuth', '');\n\t\tthis.#App = options.App || $App;\n\t\tthis.#region = options.region;\n\t\tthis.#layout = new LayoutLogin({\n\t\t\tmodel: {\n\t\t\t\tuseInfo: true,\n\t\t\t},\n\t\t});\n\t\tthis.#region.show(this.#layout);\n\t}\n\n\tmain() {\n\t\tconst view = new RecoveryView({ collection: this.#App.Collections.formParams });\n\t\tthis.#layout.getRegion('recovery').show(view);\n\n\t\tconst infoView = new InfoView();\n\t\tthis.#layout.getRegion('info').show(infoView);\n\n\t\t$('#render_recovery').fadeIn('fast', () => {\n\t\t\t$('#render_left_content').fadeIn('slow');\n\t\t});\n\t\t$('#render_register').fadeOut();\n\t\t$('#render_sesion').fadeIn();\n\t}\n\n\tdestroy() {\n\t\tthis.stopListening();\n\t\tif (this.#region && this.#region instanceof Region) this.#region.remove();\n\t}\n}\n","import { RulesValidator } from '@/Componentes/Services/RulesValidator';\n\nclass UserRegisterModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'cedrep';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tcedrep: null,\n\t\t\ttipo: '',\n\t\t\tnit: null,\n\t\t\trazsoc: '',\n\t\t\tcodciu: '',\n\t\t\trepleg: '',\n\t\t\ttipsoc: '',\n\t\t\ttipafi: '',\n\t\t\tcoddoc: 0,\n\t\t\ttipper: '',\n\t\t\temail: '',\n\t\t\tcalemp: '',\n\t\t\tcoddocrepleg: '',\n\t\t};\n\t}\n\n\tvalidate(attr = {}) {\n\t\treturn RulesValidator(UserRegisterModel.Rules.rules, attr);\n\t}\n\n\tstatic Rules = {\n\t\trules: {\n\t\t\ttipo: { required: true, minlength: 1 },\n\t\t\tnit: { required: true, minlength: 5, maxlength: 16 },\n\t\t\trazsoc: { required: true },\n\t\t\tcodciu: { required: true },\n\t\t\tcedrep: { required: true, minlength: 5, maxlength: 16 },\n\t\t\trepleg: { required: true, maxlength: 80 },\n\t\t\ttipsoc: { required: true, minlength: 1 },\n\t\t\tcoddoc: { required: true, minlength: 1 },\n\t\t\ttipper: { required: true, minlength: 1 },\n\t\t\temail: { required: true, email: true },\n\t\t\tcalemp: { required: false, minlength: 1 },\n\t\t\tcoddocrepleg: { required: true, minlength: 1 },\n\t\t},\n\t\tmessages: {\n\t\t\ttipo: {\n\t\t\t\trequired: 'Se requere del campo tipo',\n\t\t\t\tminlength: 'Se requiere el valor minimo para tipo',\n\t\t\t},\n\t\t\tnit: {\n\t\t\t\trequired: 'Se requere del campo nit',\n\t\t\t\tminlength: 'Se requiere el valor minimo 5 para nit',\n\t\t\t},\n\t\t\trazsoc: { required: 'Se requere del campo razon social' },\n\t\t\tcodciu: { required: 'Se requere del campo ciudad' },\n\t\t\tcedrep: { required: 'Se requere del campo cedula' },\n\t\t\trepleg: { required: 'Se requere del campo nombre' },\n\t\t\ttipsoc: { required: 'Se requere del campo tipo sociedad' },\n\t\t\tcoddoc: { required: 'Se requere del campo tipo documento' },\n\t\t\ttipper: { required: 'Se requere del campo tipo persona' },\n\t\t\temail: { required: 'Se requere del campo email' },\n\t\t\tcoddocrepleg: { required: 'Se requere del campo tipo documento' },\n\t\t},\n\t};\n\n\tstatic changeRuleProperty(transfer = {}) {\n\t\tconst { rule, prop, value } = transfer;\n\t\tUserRegisterModel.Rules.rules[rule][prop] = value;\n\t}\n\n\tstatic changeRulesProperty(transfer = []) {\n\t\t_.each(transfer, (row) => UserRegisterModel.changeRuleProperty(row));\n\t}\n}\n\nexport { UserRegisterModel };\n","import { $App } from '@/App';\nimport { ComponentModel } from '@/Componentes/Models/ComponentModel';\nimport { DateComponent, DialogComponent, InputComponent, RadioComponent, SelectComponent, TextComponent } from '@/Componentes/Views/ComponentsView';\nimport { eventsFormControl, Testeo } from '@/Core';\nimport Choices from 'choices.js';\n\nimport { UserRegisterModel } from '../models/UserRegisterModel';\n\nexport default class RegisterView extends Backbone.View {\n    constructor(options = {}) {\n        super(options);\n        this.children = [];\n    }\n\n    initialize() {\n        this.selectores = undefined;\n        this.form = undefined;\n    }\n\n    get className() {\n        return 'card mb-2';\n    }\n\n    get events() {\n        return {\n            'click #btnRegresar': 'closeRegister',\n            'focusout #email': 'validaEmail',\n            'change #tipper': 'changeTipoPersona',\n            'change #tipo': 'changeTipoAfiliado',\n            'click #sesion_persona': 'sesionPersona',\n            'click #btnRegistrar': 'registrarServer',\n        };\n    }\n\n    render() {\n        $('#render_sesion').fadeOut();\n        $('#render_left_content').fadeOut();\n        const renderedHtml = _.template(document.querySelector('#tmp_register').innerHTML);\n        this.$el.html(renderedHtml());\n        this.__afterRender();\n        return this;\n    }\n\n    __afterRender() {\n        _.each(this.collection, (component = {}) => {\n            const view = this.addComponent(\n                new ComponentModel({\n                    disabled: false,\n                    readonly: false,\n                    order: 0,\n                    target: 1,\n                    searchType: 'local',\n                    ...component,\n                    valor: '',\n                }),\n            );\n            this.$el.find('#component_' + component['name']).html(view.$el);\n        });\n\n        const Elements = this.$el.find('.js-choice');\n        _.each(Elements, (element) => {\n            new Choices(element);\n        });\n\n        this.form = this.$el.find('#formRegister');\n        this.form.validate({\n            ...UserRegisterModel.Rules,\n            highlight: function (element) {\n                $(element).removeClass('is-valid').addClass('is-invalid');\n            },\n            unhighlight: function (element) {\n                $(element).removeClass('is-invalid').addClass('is-valid');\n            },\n        });\n        eventsFormControl(this.$el);\n    }\n\n    validaEmail() {\n        let _email = $('#email').val();\n        let _cedrep = $('#cedrep').val();\n        let _nit = $('#calemp').val() == 'E' ? $('#nit').val() : $('#cedrep').val();\n\n        if (_cedrep == '') {\n            $App.trigger('alert:error', {\n                message: 'Ingresa primero el número de documento del representante legal.',\n            });\n            $('#cedrep').focus();\n            return false;\n        }\n\n        if (_nit == '') {\n            return false;\n        }\n\n        if (Testeo.email({ attr: _email, target: false, label: 'email', out: false }) !== false) {\n            $('#email-error').text('Debe tener formato de email correcto.');\n            $('#email-error').attr('style', 'display:inline-block');\n            return false;\n        }\n\n        $App.trigger('syncro', {\n            url: $App.url('valida_email'),\n            data: {\n                email: _email,\n                documento: _cedrep,\n                nit: _nit,\n            },\n            callback: (response) => {\n                if (!response.success) {\n                    $App.trigger('alert:error', { message: response.msj });\n                    $('#email').val('');\n                    return;\n                }\n                return;\n            },\n        });\n    }\n\n    closeRegister(event) {\n        event.preventDefault();\n        Swal.fire({\n            title: '¡Confirmar!',\n            text: '¿Está seguro que desea abandonar el formulario de registro en plataforma.?',\n            showCancelButton: true,\n            confirmButtonClass: 'btn btn-sm btn-success',\n            cancelButtonClass: 'btn btn-sm btn-danger',\n            confirmButtonText: 'SI',\n            cancelButtonText: 'NO',\n        }).then((result) => {\n            if (result.isConfirmed) {\n                this.remove();\n                $App.router.navigate('auth', { trigger: true });\n            }\n        });\n    }\n\n    changeTipoPersona(e) {\n        e.preventDefault();\n        const target = this.$el.find(e.currentTarget);\n        const value = target.val();\n        if (value == '') return false;\n        if (value == 'J') this.$el.find('#coddoc').val('3');\n        if (value == 'N') this.$el.find('#coddoc').val('1');\n        this.$el.find('#coddocrepleg').val('CC');\n        this.$el.find('#nit').trigger('focus');\n    }\n\n    changeTipoAfiliado(e) {\n        e.preventDefault();\n        const valor = e.target.value;\n        this.$el.find('#tipsoc').val('08');\n        switch (valor) {\n            case 'I':\n                this.$el.find(\"[toggle-event='call']\").text('independiente');\n                this.$el.find(\"[toggle-event='repre']\").text('independiente');\n                break;\n            case 'F':\n                this.$el.find(\"[toggle-event='call']\").text('facultativo');\n                this.$el.find(\"[toggle-event='repre']\").text('facultativo');\n                break;\n            case 'O':\n                this.$el.find(\"[toggle-event='call']\").text('pensionado');\n                this.$el.find(\"[toggle-event='repre']\").text('pensionado');\n                break;\n            case 'P':\n                this.$el.find(\"[toggle-event='call']\").text('particular');\n                this.$el.find(\"[toggle-event='repre']\").text('particular');\n                break;\n            case 'S':\n                this.$el.find(\"[toggle-event='call']\").text('serivicio domestico');\n                this.$el.find(\"[toggle-event='repre']\").text('serivicio domestico');\n                break;\n            case 'N':\n                this.$el.find(\"[toggle-event='call']\").text('usuario foniñez');\n                this.$el.find(\"[toggle-event='repre']\").text('usuario foniñez');\n                break;\n            default:\n                this.$el.find(\"[toggle-event='call']\").text('empresa');\n                this.$el.find(\"[toggle-event='repre']\").text('representante Legal');\n                this.$el.find('#tipsoc').val('');\n                break;\n        }\n\n        this.__changeEmpresa(valor == 'E');\n        this.__changeIndependiente(valor == 'I');\n        this.__changePensionado(valor == 'O');\n        this.__changeFacultativo(valor == 'F');\n        this.__changeServicioDomestico(valor == 'S');\n\n        switch (valor) {\n            case 'I':\n            case 'O':\n            case 'F':\n            case 'S':\n                this.$el.find('#coddocrepleg').rules('remove', 'required');\n                this.$el.find('#nit').rules('remove', 'required');\n                this.$el.find('#tipper').rules('remove', 'required');\n                this.$el.find('#razsoc').rules('remove', 'required');\n\n                UserRegisterModel.changeRulesProperty([\n                    { rule: 'coddocrepleg', prop: 'required', value: false },\n                    { rule: 'nit', prop: 'required', value: false },\n                    { rule: 'tipper', prop: 'required', value: false },\n                    { rule: 'razsoc', prop: 'required', value: false },\n                ]);\n\n                this.$el.find('#coddoc').val('1');\n                this.$el.find('#tipper').val('N');\n                this.$el.find('.fg-tipper').fadeOut();\n                this.$el.find('.fg-nit').fadeOut();\n                this.$el.find('.fg-razsoc').fadeOut();\n                this.$el.find('.fg-coddocrepleg').fadeOut();\n                break;\n            case 'P':\n            case 'N':\n                //particular\n                this.$el.find('#coddocrepleg').rules('remove', 'required');\n                this.$el.find('#nit').rules('remove', 'required');\n                this.$el.find('#tipper').rules('remove', 'required');\n                this.$el.find('#razsoc').rules('remove', 'required');\n                this.$el.find('#calemp').rules('remove', 'required');\n                this.$el.find('#tipsoc').rules('remove', 'required');\n\n                UserRegisterModel.changeRulesProperty([\n                    { rule: 'coddocrepleg', prop: 'required', value: false },\n                    { rule: 'nit', prop: 'required', value: false },\n                    { rule: 'tipper', prop: 'required', value: false },\n                    { rule: 'razsoc', prop: 'required', value: false },\n                    { rule: 'calemp', prop: 'required', value: false },\n                    { rule: 'tipsoc', prop: 'required', value: false },\n                ]);\n\n                this.$el.find('#coddoc').val('1');\n                this.$el.find('#tipper').val('N');\n                this.$el.find('.fg-calemp').fadeOut();\n                this.$el.find('.fg-tipsoc').fadeOut();\n                this.$el.find('.fg-tipper').fadeOut();\n                this.$el.find('.fg-nit').fadeOut();\n                this.$el.find('.fg-razsoc').fadeOut();\n                this.$el.find('.fg-coddocrepleg').fadeOut();\n                break;\n            default:\n                this.$el.find('#coddocrepleg').rules('add', { required: true });\n                this.$el.find('#nit').rules('add', { required: true });\n                this.$el.find('#tipper').rules('add', { required: true });\n                this.$el.find('#razsoc').rules('add', { required: true });\n                this.$el.find('#calemp').rules('add', { required: true });\n                this.$el.find('#tipsoc').rules('add', { required: true });\n\n                UserRegisterModel.changeRulesProperty([\n                    { rule: 'coddocrepleg', prop: 'required', value: true },\n                    { rule: 'nit', prop: 'required', value: true },\n                    { rule: 'tipper', prop: 'required', value: true },\n                    { rule: 'razsoc', prop: 'required', value: true },\n                    { rule: 'calemp', prop: 'required', value: true },\n                    { rule: 'tipsoc', prop: 'required', value: true },\n                ]);\n\n                this.$el.find('.fg-calemp').fadeIn();\n                this.$el.find('.fg-tipsoc').fadeIn();\n                this.$el.find('.fg-tipper').fadeIn();\n                this.$el.find('.fg-nit').fadeIn();\n                this.$el.find('.fg-razsoc').fadeIn();\n                this.$el.find('.fg-coddocrepleg').fadeIn();\n                break;\n        }\n    }\n\n    sesionPersona(event) {\n        event.preventDefault();\n        window.location.href = $App.kumbiaURL('mercurio/login/ingreso_persona');\n    }\n\n    addComponent(model = {}) {\n        let view;\n        if (_.size(this.children) > 0) {\n            if (_.indexOf(this.children, model.get('cid')) != -1) {\n                view = this.children[model.get('cid')];\n            }\n        }\n        if (!view) {\n            switch (model.get('type')) {\n                case 'select':\n                    view = new SelectComponent({\n                        model: model,\n                        collection: $App.Collections.formParams,\n                    });\n                    break;\n                case 'radio':\n                    view = new RadioComponent({\n                        model: model,\n                    });\n                    break;\n                case 'date':\n                    view = new DateComponent({\n                        model: model,\n                    });\n                    break;\n                case 'text':\n                    view = new TextComponent({\n                        model: model,\n                    });\n                    break;\n                case 'dialog':\n                    view = new DialogComponent({\n                        model: model,\n                        collection: $App.Collections.formParams,\n                    });\n                    break;\n                case 'input':\n                    view = new InputComponent({\n                        model: model,\n                    });\n                    break;\n                default:\n                    break;\n            }\n            this.children[model.get('cid')] = view;\n        }\n        view.render();\n        return view;\n    }\n\n    closeChildren() {\n        var children = this.children || {};\n        _.each(children, (child) => this.closeChildView(child));\n    }\n\n    closeChildView(view) {\n        if (!view) return;\n        if (_.isFunction(view.remove)) {\n            view.remove();\n        }\n        this.stopListening(view);\n        if (view.model) {\n            this.children[view.model.cid] = undefined;\n        }\n    }\n\n    registrarServer(e) {\n        e.preventDefault();\n        const target = this.$el.find(e.currentTarget);\n        target.attr('disabled', 'true');\n\n        let _err = 0;\n        if (this.form.valid() == false) _err++;\n        if (_err > 0) {\n            target.removeAttr('disabled');\n            $App.trigger('alert:warning', {\n                message: 'Se requiere de resolver los campos requeridos para continuar.',\n            });\n            setTimeout(() => this.$el.find('label.error').fadeOut(), 6000);\n            return false;\n        }\n\n        const entity = new UserRegisterModel(this.__serializeArray());\n        const status = entity.isValid();\n        if (status === false) {\n            target.removeAttr('disabled');\n            $App.trigger('alert:warning', {\n                message: `Algunos de los campos son requeridos para poder continuar:\n\t\t\t\t\t${entity.validationError.join(' ')}`,\n            });\n            return false;\n        }\n\n        const _token = $(\"[name='csrf-token']\").attr('content');\n        this.trigger('send:register', {\n            data: entity.toJSON(),\n            token: _token,\n            callback: (response) => {\n                if (response) {\n                    if (response.success == true) {\n                        this.__confimStatic({\n                            message: response.msj,\n                            callback: (status) => {\n                                if (status) {\n                                    target.removeAttr('disabled');\n                                    const miTokenAuth = btoa(\n                                        JSON.stringify({\n                                            documento: response.documento,\n                                            coddoc: response.coddoc,\n                                            tipo: 'P',\n                                            tipafi: response.tipafi,\n                                            id: response.id,\n                                        }),\n                                    );\n                                    sessionStorage.setItem('miTokenAuth', miTokenAuth);\n                                    $App.router.navigate('verification', {\n                                        trigger: true,\n                                        replace: true,\n                                    });\n                                } else {\n                                    target.removeAttr('disabled');\n                                }\n                            },\n                        });\n                    } else {\n                        target.removeAttr('disabled');\n                    }\n                } else {\n                    target.removeAttr('disabled');\n                }\n            },\n        });\n    }\n\n    __confimStatic(transfer = {}) {\n        const { message = 'Nota no hay respuesta de la solicitud', callback } = transfer;\n        Swal.fire({\n            title: '¿Confirmar?',\n            text: message,\n            icon: 'success',\n            allowOutsideClick: false,\n            allowEscapeKey: false,\n            showCancelButton: true,\n            confirmButtonColor: '#2dce89',\n            cancelButtonColor: '#fc8c72',\n            confirmButtonText: 'SI, Continuar!',\n        }).then((result) => {\n            callback(result.isConfirmed);\n        });\n    }\n\n    __changeEmpresa(status) {\n        if (status) {\n            let target = this.$el.find('#calemp option[value=\"E\"]');\n            target.prop('disabled', false);\n            target.prop('selected', true);\n            this.$el.find('#calemp option[value!=\"E\"]').prop('disabled', true);\n        }\n    }\n\n    __changeIndependiente(status) {\n        if (status) {\n            let target = this.$el.find('#calemp option[value=\"I\"]');\n            target.prop('disabled', false);\n            target.prop('selected', true);\n            this.$el.find('#calemp option[value!=\"I\"]').prop('disabled', true);\n        }\n    }\n\n    __changePensionado(status) {\n        if (status) {\n            let target = this.$el.find('#calemp option[value=\"P\"]');\n            target.prop('disabled', false);\n            target.prop('selected', true);\n            this.$el.find('#calemp option[value!=\"P\"]').prop('disabled', true);\n        }\n    }\n\n    __changeFacultativo(status) {\n        if (status) {\n            let target = this.$el.find('#calemp option[value=\"F\"]');\n            target.prop('disabled', false);\n            target.prop('selected', true);\n            this.$el.find('#calemp option[value!=\"F\"]').prop('disabled', true);\n        }\n    }\n\n    __changeServicioDomestico(status) {\n        if (status) {\n            let target = this.$el.find('#calemp option[value=\"D\"]');\n            target.prop('disabled', false);\n            target.prop('selected', true);\n            this.$el.find('#calemp option[value!=\"D\"]').prop('disabled', true);\n        }\n    }\n\n    __serializeArray() {\n        const _arreglo = this.form.serializeArray();\n        let _datos = {};\n        let _i = 0;\n        while (_i < _arreglo.length) {\n            _datos[_arreglo[_i].name] = _arreglo[_i].value;\n            _i++;\n        }\n        return _datos;\n    }\n\n    remove() {\n        this.stopListening();\n        Backbone.View.prototype.remove.call(this);\n        this.closeChildren();\n    }\n}\n","import { $App } from '@/App';\nimport { Region } from '@/Common/Region';\nimport { is_email } from '@/Core';\nimport LayoutLogin from './views/LayoutLogin';\nimport RegisterView from './views/RegisterView';\nimport loading from '@/Componentes/Views/Loading';\n\nexport default class Register {\n\t#App = null;\n\t#region = null;\n\t#layout = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, Backbone.Events);\n\t\tsessionStorage.setItem('miTokenAuth', '');\n\t\tthis.#App = options.App || $App;\n\t\tthis.#region = options.region;\n\t\tthis.#layout = new LayoutLogin({\n\t\t\tmodel: {\n\t\t\t\tuseInfo: false,\n\t\t\t},\n\t\t});\n\t\tthis.#region.show(this.#layout);\n\t\tthis.on('form:cancel', this.destroy);\n\t}\n\n\tmain(formComponents) {\n\t\tconst view = new RegisterView({ collection: formComponents });\n\t\tthis.listenTo(view, 'send:register', this.__registerServer);\n\t\tthis.listenTo(view, 'load:captcha', this.__reloadCaptcha);\n\n\t\tthis.#layout.getRegion('register').show(view);\n\t\t$('#render_sesion').fadeOut();\n\t}\n\n\t__registerServer(transfer = {}) {\n\t\tconst { callback, data, token } = transfer;\n\t\t$.ajax({\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'JSON',\n\t\t\tcache: false,\n\t\t\turl: this.#App.url('registro'),\n\t\t\tdata: data,\n\t\t\tbeforeSend: (xhr) => {\n\t\t\t\tloading.show();\n\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + token);\n\t\t\t},\n\t\t})\n\t\t\t.done((response) => {\n\t\t\t\tloading.hide();\n\t\t\t\tif (response.success) {\n\t\t\t\t\treturn callback(response);\n\t\t\t\t} else {\n\t\t\t\t\tthis.#App.trigger('alert:error', { message: response.msj });\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t})\n\t\t\t.fail((err) => {\n\t\t\t\tloading.hide();\n\t\t\t\tthis.#App.trigger('alert:error', { message: err.responseText });\n\t\t\t\treturn callback(false);\n\t\t\t});\n\t}\n\n\t__validaEmail() {\n\t\tlet _email = $('#email').val();\n\t\tlet _cedrep = $('#cedrep').val();\n\t\tlet _nit = $('#nit').val();\n\n\t\tif (_cedrep == '') {\n\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Ingresa primero el número de documento del representante legal.',\n\t\t\t});\n\t\t\t$('#cedrep').focus();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (_nit == '') {\n\t\t\tthis.#App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Ingresa primero el nit de la empresa.',\n\t\t\t});\n\t\t\t$('#nit').focus();\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!is_email(_email)) {\n\t\t\t$('#email-error').text('Debe tener formato de email correcto.');\n\t\t\t$('#email-error').attr('style', 'display:inline-block');\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.#App.trigger('syncro', {\n\t\t\turl: this.#App.url('valida_email'),\n\t\t\tdata: {\n\t\t\t\temail: _email,\n\t\t\t\tdocumento: _cedrep,\n\t\t\t\tnit: _nit,\n\t\t\t},\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.#App.trigger('alert:warning', { message: response.msj });\n\t\t\t\t\t\t$('#email').val('');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\t__reloadCaptcha() {\n\t\tdocument.getElementById('reloadCaptcha').addEventListener('click', function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tconst url = $App.url('captcha/' + Math.random());\n\t\t\t$('#captchaImage').attr('src', url.toString());\n\t\t\tthis.blur();\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tdestroy() {\n\t\tthis.stopListening();\n\t\tif (this.#region && this.#region instanceof Region) this.#region.remove();\n\t}\n}\n","import { $App } from '@/App';\n\nexport default class VerificationView extends Backbone.View {\n    constructor(options = {}) {\n        super(options);\n        this.selectores = undefined;\n        this.formulario = undefined;\n        _.extend(this, options);\n    }\n\n    initialize() {}\n\n    get className() {\n        return 'row';\n    }\n\n    render() {\n        const template = document.getElementById('tmp_verification').innerHTML;\n        const renderedHtml = _.template(template);\n        this.$el.html(renderedHtml());\n        return this;\n    }\n\n    get events() {\n        return {\n            \"keyup input[data-toggle='code']\": 'goToNextInput',\n            \"keydown input[data-toggle='code']\": 'onKeyDown',\n            \"click input[data-toggle='code']\": 'onFocus',\n            'click #btnVerify': 'verifyCode',\n        };\n    }\n\n    goToNextInput(e = {}) {\n        const key = e.which;\n        const t = this.$el.find(e.target);\n        let sib = t.next('input');\n        const rf = _.union(_.range(48, 58), _.range(96, 106));\n        if (key === 9) {\n            return true;\n        } else {\n            if (_.contains(rf, key) === false) {\n                e.preventDefault();\n                return false;\n            }\n        }\n        if (!sib || !sib.length) {\n            sib = this.$el.find('input').eq(0);\n        }\n        if (sib.val() == '') sib.select().focus();\n    }\n\n    onKeyDown(e = {}) {\n        const key = e.which;\n        const rf = _.union(_.range(48, 58), _.range(96, 106));\n        if (key === 9) {\n            return true;\n        } else {\n            if (_.contains(rf, key) === true) {\n                return true;\n            }\n        }\n        e.preventDefault();\n        return false;\n    }\n\n    onFocus(e) {\n        $(e.target).select();\n    }\n\n    verifyCode(e) {\n        e.preventDefault();\n        const params = this.model;\n        $App.trigger('syncro', {\n            url: $App.url('tokenParticular'),\n            data: params,\n            callback: (response) => {\n                if (response) {\n                    if (response.success) {\n                        const token = response.token;\n                        this.trigger('send:verify', {\n                            data: {\n                                code_1: this.getInput('code_1'),\n                                code_2: this.getInput('code_2'),\n                                code_3: this.getInput('code_3'),\n                                code_4: this.getInput('code_4'),\n                                ...params,\n                            },\n                            token: token,\n                            callback: (response = {}) => {\n                                if (response.success == true) {\n                                    if (response.isValid == true) {\n                                        window.location.href = $App.kumbiaURL('mercurio/principal/ingresoDirigido/' + response.token);\n                                    } else {\n                                        $App.trigger('alert:error', {\n                                            message: response.msj,\n                                        });\n                                        this.setInput('code_1', '');\n                                        this.setInput('code_2', '');\n                                        this.setInput('code_3', '');\n                                        this.setInput('code_4', '');\n                                    }\n                                } else {\n                                    $App.trigger('alert:error', { message: response.msj });\n                                    this.setInput('code_1', '');\n                                    this.setInput('code_2', '');\n                                    this.setInput('code_3', '');\n                                    this.setInput('code_4', '');\n                                }\n                            },\n                        });\n                    } else {\n                        $App.trigger('alert:error', { message: response.msj });\n                    }\n                }\n            },\n        });\n    }\n\n    getInput(selector = '') {\n        return this.$el.find(`[name='${selector}']`).val();\n    }\n\n    setInput(selector = '', value = '') {\n        return this.$el.find(`[name='${selector}']`).val(value);\n    }\n}\n","import { $App } from '@/App';\nimport { Region } from '@/Common/Region';\nimport loading from '@/Componentes/Views/Loading';\nimport LayoutLogin from './views/LayoutLogin';\nimport VerificationView from './views/VerificationView';\n\nexport default class Verification {\n\t#region = null;\n\t#layout = null;\n\t#App = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, Backbone.Events);\n\t\tthis.#App = options.App || $App;\n\t\tthis.#region = options.region;\n\t\tthis.#layout = new LayoutLogin({\n\t\t\tmodel: {\n\t\t\t\tuseInfo: true,\n\t\t\t},\n\t\t});\n\t\tthis.#region.show(this.#layout);\n\t\tthis.on('form:cancel', this.destroy);\n\t}\n\n\tmain(params = {}) {\n\t\tloading.hide();\n\t\tconst view = new VerificationView({ model: params });\n\t\tthis.listenTo(view, 'send:verify', this.__procesarVerify);\n\t\tthis.#layout.getRegion('verification').show(view);\n\n\t\t$('#render_register').fadeOut('fast');\n\t\t$('#render_sesion').fadeOut('fast');\n\t}\n\n\t__procesarVerify(transfer = {}) {\n\t\tconst { data, token, callback } = transfer;\n\t\t$.ajax({\n\t\t\tmethod: 'POST',\n\t\t\tdataType: 'JSON',\n\t\t\tcache: false,\n\t\t\turl: this.#App.url('verify'),\n\t\t\tdata: data,\n\t\t\tbeforeSend: (xhr) => {\n\t\t\t\tloading.show();\n\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + token);\n\t\t\t},\n\t\t})\n\t\t\t.done((response) => {\n\t\t\t\tloading.hide();\n\t\t\t\tif (response) {\n\t\t\t\t\treturn callback(response);\n\t\t\t\t} else {\n\t\t\t\t\tthis.#App.trigger('alert:error', {\n\t\t\t\t\t\tmessage: 'Error al procesar la solicitud, no hay una respuesta del servidor.',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t})\n\t\t\t.fail((err) => {\n\t\t\t\tloading.hide();\n\t\t\t\tthis.#App.trigger('alert:error', { message: err.responseText });\n\t\t\t\treturn callback(false);\n\t\t\t});\n\t}\n\n\tdestroy() {\n\t\tthis.stopListening();\n\t\tif (this.#region && this.#region instanceof Region) this.#region.remove();\n\t}\n}\n","import { $App } from '@/App';\nimport { Controller } from '@/Common/Controller';\nimport EmailChange from './EmailChange';\nimport Login from './Login';\nimport Recovery from './Recovery';\nimport Register from './Register';\nimport Verification from './Verification';\n\nclass ControllerLogin extends Controller {\n    constructor(options = {}) {\n        super(options);\n        this.App = options.App || $App;\n        this.App.Collections.formParams = null;\n    }\n\n    login() {\n        const app = this.startController(Login);\n        if (_.isNull(this.App.Collections.formParams)) {\n            this.__paramsLogin({\n                callback: (response) => {\n                    if (response) app.main();\n                },\n            });\n        } else {\n            app.main();\n        }\n    }\n\n    recovery() {\n        const app = this.startController(Recovery);\n        if (_.isNull(this.App.Collections.formParams)) {\n            this.__paramsLogin({\n                callback: (response) => {\n                    if (response) app.main();\n                },\n            });\n        } else {\n            app.main();\n        }\n    }\n\n    guia() {\n        $('#render_register').fadeIn();\n        $('#render_sesion').fadeOut();\n    }\n\n    register() {\n        const app = this.startController(Register);\n        if (_.isNull(this.App.Collections.formParams)) {\n            this.__paramsLogin({\n                callback: (response) => {\n                    if (response) app.main(this.formComponents);\n                },\n            });\n        } else {\n            app.main(this.formComponents);\n        }\n    }\n\n    verification(params) {\n        const app = this.startController(Verification);\n        app.main(params);\n    }\n\n    emailChange() {\n        const app = this.startController(EmailChange);\n        if (_.isNull(this.App.Collections.formParams)) {\n            this.__paramsLogin({\n                callback: (response) => {\n                    if (response) app.main();\n                },\n            });\n        } else {\n            app.main();\n        }\n    }\n\n    __paramsLogin(transfer = {}) {\n        const { callback, silent = false } = transfer;\n\n        this.App.trigger('syncro', {\n            url: this.App.url('mercurio/paramsLogin'),\n            data: {},\n            silent,\n            callback: (response = {}) => {\n                if (!_.isEmpty(response)) {\n                    if (response.success) {\n                        if (_.isNull(this.App.Collections.formParams)) this.App.Collections.formParams = [];\n                        _.extend(this.App.Collections.formParams, response.data);\n                        this.formComponents = response.components;\n                        return callback !== false ? callback(response.msj) : '';\n                    }\n                }\n                return callback !== false ? callback(false) : '';\n            },\n        });\n    }\n}\n\nexport { ControllerLogin };\n","import { $App } from '@/App.js';\nimport { Testeo } from '@/Core.js';\nimport { ControllerLogin } from './ControllerLogin.js';\n\nclass RouterLogin extends Backbone.Router {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\troutes: {\n\t\t\t\tauth: 'loginRute',\n\t\t\t\trecovery: 'recoveryRute',\n\t\t\t\tguia: 'guiaRute',\n\t\t\t\tregister: 'registerRute',\n\t\t\t\temail_change: 'emailChangeRute',\n\t\t\t\tverification: 'verificationRute',\n\t\t\t\t'verify/:tipo/:coddoc/:documento': 'verificationExternal',\n\t\t\t},\n\t\t});\n\t\tthis._bindRoutes();\n\t\tif (!this.currentApp) this.currentApp = {};\n\t}\n\n\tinitialize() {\n\t\tthis.currentApp = $App.startSubApplication(ControllerLogin);\n\t}\n\n\tloginRute() {\n\t\tthis.currentApp.login();\n\t}\n\n\trecoveryRute() {\n\t\tthis.currentApp.recovery();\n\t}\n\n\tguiaRute() {\n\t\tthis.currentApp.guia();\n\t}\n\n\tregisterRute() {\n\t\tthis.currentApp.register();\n\t}\n\n\temailChangeRute() {\n\t\tthis.currentApp.emailChange();\n\t}\n\n\tverificationRute() {\n\t\tconst _props = sessionStorage.getItem('miTokenAuth');\n\t\tif (_.isUndefined(_props) == true || _.isNull(_props) == true || _props == '') {\n\t\t\t$App.trigger('alert:error', {\n\t\t\t\tmessage: 'No hay una solicitud en proceso para continuar.',\n\t\t\t});\n\t\t\treturn this.navigate('auth', { trigger: true, replace: true });\n\t\t}\n\n\t\tlet decode;\n\t\tlet alg = 0;\n\t\tlet flag;\n\t\ttry {\n\t\t\tdecode = atob(_props);\n\t\t\tflag = JSON.parse(decode);\n\t\t} catch (errors) {\n\t\t\talg++;\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Los parametros no son validos para continuar',\n\t\t\t});\n\t\t\treturn this.navigate('auth', { trigger: true, replace: true });\n\t\t}\n\t\tif (alg == 0) {\n\t\t\tlet err;\n\t\t\tif (flag) {\n\t\t\t\terr = Testeo.identi({\n\t\t\t\t\tattr: flag.documento,\n\t\t\t\t\ttarget: 'documento',\n\t\t\t\t\tlabel: 'identificación',\n\t\t\t\t\tmin: 6,\n\t\t\t\t\tmax: 19,\n\t\t\t\t});\n\t\t\t\tif (err) {\n\t\t\t\t\t$App.trigger('alert:warning', {\n\t\t\t\t\t\tmessage: 'El documento no es valido para continuar',\n\t\t\t\t\t});\n\t\t\t\t\treturn this.navigate('auth', { trigger: true, replace: true });\n\t\t\t\t}\n\n\t\t\t\terr = Testeo.identi({\n\t\t\t\t\tattr: flag.coddoc,\n\t\t\t\t\ttarget: 'coddoc',\n\t\t\t\t\tlabel: 'tipo documneto',\n\t\t\t\t\tmin: 1,\n\t\t\t\t\tmax: 3,\n\t\t\t\t});\n\n\t\t\t\tif (err) {\n\t\t\t\t\t$App.trigger('alert:warning', {\n\t\t\t\t\t\tmessage: 'El tipo documento no es valido para continuar',\n\t\t\t\t\t});\n\t\t\t\t\tthis.navigate('auth', { trigger: true, replace: true });\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\terr = Testeo.vacio({\n\t\t\t\t\tattr: flag.tipo,\n\t\t\t\t\ttarget: 'tipo',\n\t\t\t\t\tlabel: 'tipo afiliado',\n\t\t\t\t});\n\n\t\t\t\tif (\n\t\t\t\t\t!(\n\t\t\t\t\t\tflag.tipo == 'P' ||\n\t\t\t\t\t\tflag.tipo == 'T' ||\n\t\t\t\t\t\tflag.tipo == 'E' ||\n\t\t\t\t\t\tflag.tipo == 'I' ||\n\t\t\t\t\t\tflag.tipo == 'O' ||\n\t\t\t\t\t\tflag.tipo == 'F' ||\n\t\t\t\t\t\tflag.tipo == 'S'\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\terr = true;\n\t\t\t\t}\n\n\t\t\t\tif (err) {\n\t\t\t\t\t$App.trigger('alert:warning', {\n\t\t\t\t\t\tmessage: 'El tipo afilición no es valido para continuar',\n\t\t\t\t\t});\n\t\t\t\t\treturn this.navigate('auth', { trigger: true, replace: true });\n\t\t\t\t}\n\t\t\t\tthis.currentApp.verification(flag);\n\t\t\t}\n\t\t}\n\t}\n\n\tverificationExternal(tipo = undefined, coddoc = undefined, documento = undefined) {\n\t\tif (\n\t\t\t_.isUndefined(tipo) == true ||\n\t\t\t_.isUndefined(coddoc) == true ||\n\t\t\t_.isUndefined(documento) == true\n\t\t) {\n\t\t\t$App.trigger('alert:error', {\n\t\t\t\tmessage: 'No hay una solicitud en proceso para continuar.',\n\t\t\t});\n\t\t\tthis.navigate('auth', { trigger: true, replace: true });\n\t\t\treturn false;\n\t\t}\n\t\tlet err = Testeo.identi({\n\t\t\tattr: documento,\n\t\t\ttarget: 'documento',\n\t\t\tlabel: 'identificación',\n\t\t\tmin: 6,\n\t\t\tmax: 19,\n\t\t});\n\t\tif (err) {\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage: 'El documento no es valido para continuar',\n\t\t\t});\n\t\t\tthis.navigate('auth', { trigger: true, replace: true });\n\t\t\treturn false;\n\t\t}\n\n\t\terr = Testeo.identi({\n\t\t\tattr: coddoc,\n\t\t\ttarget: 'coddoc',\n\t\t\tlabel: 'tipo documneto',\n\t\t\tmin: 1,\n\t\t\tmax: 3,\n\t\t});\n\n\t\tif (err) {\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage: 'El tipo documento no es valido para continuar',\n\t\t\t});\n\t\t\tthis.navigate('auth', { trigger: true, replace: true });\n\t\t\treturn false;\n\t\t}\n\n\t\terr = Testeo.vacio({\n\t\t\tattr: tipo,\n\t\t\ttarget: 'tipo',\n\t\t\tlabel: 'tipo afiliado',\n\t\t});\n\n\t\tif (\n\t\t\t!(\n\t\t\t\ttipo == 'P' ||\n\t\t\t\ttipo == 'T' ||\n\t\t\t\ttipo == 'E' ||\n\t\t\t\ttipo == 'I' ||\n\t\t\t\ttipo == 'O' ||\n\t\t\t\ttipo == 'F' ||\n\t\t\t\ttipo == 'S'\n\t\t\t)\n\t\t) {\n\t\t\terr = true;\n\t\t}\n\n\t\tif (err) {\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage: 'El tipo afilición no es valido para continuar',\n\t\t\t});\n\t\t\tthis.navigate('auth', { trigger: true, replace: true });\n\t\t\treturn false;\n\t\t}\n\n\t\tconst miTokenAuth = btoa(\n\t\t\tJSON.stringify({\n\t\t\t\tdocumento,\n\t\t\t\tcoddoc,\n\t\t\t\ttipo,\n\t\t\t}),\n\t\t);\n\t\tsessionStorage.setItem('miTokenAuth', miTokenAuth);\n\t\tthis.navigate('verification', { trigger: true, replace: true });\n\t\treturn false;\n\t}\n}\n\nexport { RouterLogin };\n","import loading from '@/Componentes/Views/Loading';\nimport { $App } from '@/App.js';\nimport { RouterLogin } from './RouterLogin';\n\n$(() => {\n\tloading.show(false, { addClass: 'loader-white' });\n\t$('body').addClass('bg-gradient-primary');\n\t$App.startApp(RouterLogin, 'auth', '#boneLayout');\n});\n"],"names":["loading","status","element","loader","template","out","options","_currentView","_currentViews","_$el","Region","__privateAdd","view","el","CSRF","$Kumbia","$App","RouterModule","ruta","type","message","transfer","title","timer","timeout","text","icon","SubApplication","__services","services","ser","callback","result","url","data","silent","csrf","xhr","response","err","keys","targetModal","event","method","controller","filename","link","formData","urlError","emulateDefault","methodMap","model","params","is_email","value","Testeo","showError","target","toggle","sel","validate","attr","regex","errorMessage","label","min","max","fecha","regexFecha","fechaDividida","year","month","day","esBisiesto","eventsFormControl","Controller","__publicField","ModelView","renderedHtml","_el","selector","id","val","tag","key","Layout","regionDefinitions","__selector","name","$el","regionName","region","LayoutLogin","componenetDefaultAttribute","ComponentModel","extendStatics","d","b","p","__extends","__","__assign","t","s","n","__spreadArray","to","from","pack","l","ar","ActionType","EventType","KeyCodeMap","ObjectsInConfig","PassedElementTypes","addChoice","choice","removeChoice","filterChoices","results","activateChoices","active","addGroup","group","addItem","item","removeItem$1","highlightItem","highlighted","getRandomNumber","generateChars","length","generateId","prefix","getAdjacentEl","startEl","direction","prop","sibling","isScrolledIntoView","parent","isVisible","sanitise","strToEl","tmpEl","str","firstChild","resolveNoticeFunction","fn","resolveStringFunction","unwrapStringForRaw","unwrapStringForEscaped","escapeForTemplate","allowHTML","setElementHtml","allowHtml","html","sortByAlpha","_a","_b","_c","value2","_d","label2","sortByRank","a","dispatchEvent","customArgs","diff","aKeys","bKeys","i","getClassNames","ClassNames","getClassNamesSelector","option","addClassesToElement","className","removeClassesFromElement","parseCustomProperties","customProperties","updateClassList","add","remove","itemEl","Dropdown","classNames","Container","position","dropdownPos","dropdownHeight","shouldFlip","activeDescendantID","parentNode","Input","preventPaste","placeholder","setWidth","SCROLLING_SPEED","List","node","child","_this","listHeight","listScrollPosition","elementHeight","elementPos","destination","scrollPos","strength","easing","distance","choiceListScrollTop","continueAnimation","WrappedElement","origStyle","eventType","WrappedInput","_super","coerceBool","arg","defaultValue","stringToHtmlClass","input","mapInputToChoice","allowGroup","allowRawString","sanitisedValue","userValue","result_1","groupOrChoice","choices","e","result_2","isHtmlInputElement","isHtmlSelectElement","isHtmlOption","isHtmlOptgroup","WrappedSelect","extractPlaceholder","fragment","obj","optgroup","DEFAULT_CLASSNAMES","DEFAULT_CONFIG","maxItemCount","value1","removeItem","items","action","context","state","update","select","groups","scoreLookup_1","reducers","Store","init","changes","onChange","hasChanges","stateUpdate","func","changeSet_1","isActive","hasActiveOptions","NoticeTypes","_defineProperty","r","_toPropertyKey","ownKeys","o","_objectSpread2","_toPrimitive","isArray","getTag","baseToString","toString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","totalWeight","createKey","keyId","path","src","weight","getFn","createKeyPath","createKeyId","get","list","arr","deepGet","index","len","MatchOptions","BasicOptions","FuzzyOptions","AdvancedOptions","Config","SPACE","norm","mantissa","cache","m","numTokens","FuseIndex","fieldNormWeight","docs","records","idx","doc","docIndex","record","keyIndex","subRecords","stack","nestedArrIndex","subRecord","k","createIndex","myIndex","parseIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","ignoreLocation","accuracy","proximity","convertMaskToIndices","matchmask","minMatchCharLength","indices","start","end","match","MAX_BITS","search","patternAlphabet","location","threshold","findAllMatches","includeMatches","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","score","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","createPatternAlphabet","char","BitapSearch","isCaseSensitive","addChunk","startIndex","remainder","allIndices","totalScore","hasMatches","alphabet","isMatch","BaseMatch","getMatch","exp","matches","ExactMatch","InverseExactMatch","PrefixExactMatch","InversePrefixExactMatch","SuffixExactMatch","InverseSuffixExactMatch","FuzzyMatch","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","query","queryItem","found","searcher","token","MultiMatchSet","ExtendedSearch","_","numMatches","qLen","pLen","registeredSearchers","register","args","createSearcher","searcherClass","LogicalOperator","KeyType","isExpression","isPath","isLeaf","convertToExplicit","parse","auto","next","isQueryPath","computeScore","ignoreFieldNorm","transformMatches","transformScore","format","includeScore","transformers","transformer","Fuse","predicate","limit","shouldSort","sortFn","expression","evaluate","res","resultMap","expResults","SearchByFuse","config","needle","getSearcher","isEmptyObject","assignCustomProperties","withCustomProperties","dataset","labelClass","labelDescription","addAriaLabel","docRoot","templates","dir","isSelectElement","isSelectOneElement","searchEnabled","passedElementType","labelId","containerOuter","div","containerInner","listSingle","listItems","removeItemButton","removeItemButtonAlignLeft","removeItemIconText","removeItemLabelText","button","highlightedState","itemSelectable","rawValue","spanLabel","removeButton","REMOVE_ITEM_LABEL","groupHeading","itemDisabled","disabled","rawLabel","heading","selectText","groupName","itemChoice","selectedState","description","describedBy","descId","spanDesc","placeholderValue","inputCloned","inp","listDropdown","innerHTML","noResults","noChoices","noticeItem","notice","labelValue","opt","IS_IE11","USER_DEFAULTS","parseDataSetId","selectableChoiceIdentifier","Choices","userConfig","defaults","passedElement","elementType","isText","isSelectOne","isSelectMultiple","isSelect","re","selectEl","elementDirection","documentDirection","callbackOnInit","runEvent","c","excludedId","preventInputFocus","rect","preventInputBlur","valueOnly","values","choiceValue","choicesArrayOrFetcher","replaceChoices","clearSearchFlag","replaceItems","fetcher_1","resolve","isDefaultValue","isDefaultLabel","choiceFull","withEvents","selectFirstOption","deselectAll","choicesFromOptions","existingItems","updateChoice","clearOptions","clearItems","shouldSetInputWidth","invalidConfigOptions","isSearching","activeGroups","activeChoices","renderLimit","backingOptions","renderableChoices","selectableChoices","renderChoices","withinGroup","groupLabel","choiceLimit","dropdownItem","groupChoices","dropdownGroup","itemList","itemFromList","addItemToFragment","addedItems","openDropdown","oldNotice","noticeElement","noticeConf","keyCode","itemToRemove","placeholderChoice","hasShiftKey","hasActiveDropdown","lastItem","hasHighlightedItems","elementItems","setLoading","resultCount","maxItemText","canAddItem","foundChoice","newValue","noticeType","documentElement","outerElement","inputElement","wasPrintableChar","hasItems","shouldHightlightAll","highlightedChoice","addedItem","directionInt","skipKey","nextEl","currentEl","hasFocusedInput","touchWasWithinContainer","containerWasExactTarget","firstChoice","clickWasWithinContainer","focusWasWithinContainer","targetIsInput","blurWasWithinContainer","passedEl","highlightedChoices","userTriggered","prependValue","appendValue","callbackOnCreateTemplates","userTemplates","templating","dropdownElement","noSelectedChoices","placeholderOption","caller","SelectComponent","RadioComponent","DateComponent","TextComponent","DialogComponent","OpenAddress","barrio","address","valor","lista","row","adres","InputComponent","RulesValidator","rules","error","rule","required","number","email","date","maxlength","minlength","rangelength","range","_UserRecoveryModel","UserRecoveryModel","_App","_form","EmailChangeView","__privateSet","Elements","__privateGet","children","_err","entity","InfoView","_region","_layout","EmailChange","infoView","_UserAuthModel","UserAuthModel","LoginView","compones","miTokenAuth","Login","RecoveryView","Recovery","_UserRegisterModel","UserRegisterModel","RegisterView","component","_email","_cedrep","_nit","_token","_arreglo","_datos","_i","Register","formComponents","VerificationView","sib","rf","Verification","ControllerLogin","app","RouterLogin","_props","decode","alg","flag","tipo","coddoc","documento"],"mappings":"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","x_google_ignoreList":[10]}