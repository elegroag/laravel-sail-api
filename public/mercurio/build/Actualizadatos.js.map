{"version":3,"file":"Actualizadatos.js","sources":["../../src/Common/Region.js","../../src/Componentes/Views/Loading.js","../../src/Utils.js","../../src/App.js","../../src/Componentes/Routers/AfiliationRouter.js","../../src/Common/ModelView.js","../../src/Componentes/Views/HeaderView.js","../../src/Componentes/Services/AfiliationService.js","../../src/Common/Layout.js","../../src/Componentes/Views/LayoutView.js","../../src/Mercurio/ControllerRequest.js","../../src/Core.js","../../src/Componentes/Services/RulesValidator.js","../../src/Mercurio/Actualizadatos/models/ActualizadatosModel.js","../../src/Mercurio/Actualizadatos/views/ActualizadatosView.js","../../node_modules/.pnpm/choices.js@11.1.0/node_modules/choices.js/public/assets/scripts/choices.mjs","../../src/Componentes/Models/ComponentModel.js","../../src/Componentes/Services/GestionAdjuntoService.js","../../src/Componentes/Views/ComponentsView.js","../../src/Componentes/Models/DocumentoModel.js","../../src/Componentes/Collections/CollectionView.js","../../src/Componentes/Views/DocumentsCollectionView.js","../../src/Componentes/Views/LoadDocumentsView.js","../../src/Componentes/Views/SeguimientosView.js","../../src/Componentes/Views/SubHeaderView.js","../../src/Mercurio/FormView.js","../../src/Mercurio/Empresas/models/EmpresaModel.js","../../src/Mercurio/Actualizadatos/views/FormActualizadatosView.js","../../src/Mercurio/Actualizadatos/ControllerActualizadatos.js","../../src/Mercurio/Actualizadatos/RouterActualizadatos.js","../../src/Mercurio/Actualizadatos/main.js"],"sourcesContent":["export class Region {\n\t#currentView = null;\n\t#currentViews = null;\n\t#$el = null;\n\n\tconstructor(options = {}) {\n\t\t_.extend(this, options);\n\t\tthis.currentViews = new Array();\n\t\tthis.el = options.el;\n\t}\n\n\t// Closes any active view and render a new one\n\tshow(view) {\n\t\tthis.closeView(this.currentView);\n\t\tthis.currentView = view;\n\t\tthis.openView(view);\n\t}\n\n\thtml(el) {\n\t\tif (this.$el) this.$el.html(el);\n\t}\n\n\tappend(view) {\n\t\tthis.currentViews.push(view);\n\t\tthis.ensureEl();\n\t\tview.render();\n\t\tthis.$el.append(view.el);\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\tcloseView(view) {\n\t\t// Only remove the view when the remove function\n\t\t// is available\n\t\tif (view && view.remove) {\n\t\t\tview.remove();\n\t\t}\n\t}\n\n\topenView(view) {\n\t\t// Be sure that this.$el exists\n\t\tthis.ensureEl();\n\n\t\t// Render the view on the this.$el element\n\t\tview.render();\n\t\tthis.$el.html(view.el);\n\n\t\t// Callback when the view is in the DOM\n\t\tif (view.onShow) view.onShow();\n\t}\n\n\t// Create the this.$el attribute if do not exists\n\tensureEl() {\n\t\tif (this.$el) return;\n\t\tthis.$el = $(this.el);\n\t}\n\n\t// Close the Region and any view on it\n\tremove() {\n\t\tif (this.currentViews.length > 0) {\n\t\t\tthis.currentViews.forEach((view) => {\n\t\t\t\tthis.closeView(view);\n\t\t\t});\n\t\t}\n\t\tthis.closeView(this.currentView);\n\t}\n}\n","const loading = (() => {\n\tlet status,\n\t\telement,\n\t\tloader,\n\t\ttemplate = void 0;\n\n\tconst show = (out = false, options) => {\n\t\tif (out) {\n\t\t\telement = document.createElement('div');\n\t\t\telement.setAttribute('id', 'loading_msj');\n\t\t\t$(element).html(\n\t\t\t\t\"<div class='loading_msj'><p class='text-warning'>Procesando datos de busqueda...</p></div>\",\n\t\t\t);\n\t\t\tdocument.getElementById('app').appendChild(element);\n\t\t}\n\t\tif (!status) {\n\t\t\ttemplate = _.template($('#tmp_loader').html());\n\t\t\tloader = document.createElement('div');\n\t\t\tloader.setAttribute('class', 'loader');\n\t\t\tloader.setAttribute('id', 'loader');\n\t\t\t$(loader).append(template());\n\t\t\tdocument.body.appendChild(loader);\n\t\t\tloader.setAttribute('style', 'display:block');\n\t\t\tif (_.isObject(options) === true) {\n\t\t\t\tif (options.addClass) {\n\t\t\t\t\t$('.loader').addClass(options.addClass);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstatus = true;\n\t};\n\n\tconst hide = (out = false) => {\n\t\tif (out) {\n\t\t\telement.remove();\n\t\t}\n\t\tif (status) {\n\t\t\tloader.remove();\n\t\t}\n\t\tstatus = void 0;\n\t};\n\n\treturn {\n\t\thide,\n\t\tshow,\n\t};\n})();\n\nexport default loading;\n","const CSRF = $(\"[name='csrf-token']\");\nconst $Kumbia = {\n    path: CSRF.attr('path'),\n    app: CSRF.attr('app'),\n};\n\nclass Utils {\n    static getKumbiaURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getAppURL(url) {\n        if (typeof url == 'undefined') url = '';\n        return $Kumbia.path + url;\n    }\n\n    static getURL(url) {\n        if (typeof url == 'undefined') {\n            return $Kumbia.path;\n        } else {\n            return $Kumbia.path + url;\n        }\n    }\n\n    static redirectParentToAction(url) {\n        new Utils.redirectToAction(url, window.parent);\n    }\n\n    static redirectOpenerToAction(url) {\n        new Utils.redirectToAction(url, window.opener);\n    }\n\n    static redirectToAction(url, win) {\n        win = win ? win : window;\n        win.location.href = Utils.getKumbiaURL() + url;\n    }\n\n    static upperCaseFirst(str) {\n        let first = str.substring(0, 1).toUpperCase();\n        return first + str.substr(1, str.length - 1);\n    }\n\n    static numberFormat(number = 0, decimals = 0, dec_point = undefined, thousands_sep = undefined) {\n        let n = !isFinite(+number) ? 0 : +number;\n        let prec = !isFinite(+decimals) ? 0 : Math.abs(decimals);\n        let sep = typeof thousands_sep === 'undefined' ? ',' : thousands_sep;\n        let dec = typeof dec_point === 'undefined' ? '.' : dec_point;\n        let s = undefined;\n\n        const toFixedFix = (n, prec) => {\n            let k = Math.pow(10, prec);\n            return '' + Math.round(n * k) / k;\n        };\n\n        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');\n        if (s[0].length > 3) {\n            s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\n        }\n        if ((s[1] || '').length < prec) {\n            s[1] = s[1] || '';\n            s[1] += new Array(prec - s[1].length + 1).join('0');\n        }\n        return s.join(dec);\n    }\n\n    static validOnlyLetter(evt) {\n        evt = evt ? evt : window.event ? window.event : null;\n        let kc = evt.keyCode;\n        let ev = (kc >= 65 && kc <= 90) || kc == 8 || kc == 9 || kc == 32;\n        if (ev == false) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            evt.stopped = true;\n        }\n    }\n}\n\nclass Messages {\n    static display(message, type, timeout = 8000) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    }\n}\n\nexport { $Kumbia, Messages, Utils };\n","import { Region } from '@/Common/Region';\nimport loading from '@/Componentes/Views/Loading';\nimport { $Kumbia } from '@/Utils';\n\nconst $App = {\n    Models: {},\n    Collections: {},\n    router: null,\n    currentSubapp: null,\n    Modal: null,\n    layout: null,\n    el: null,\n    mainRegion: null,\n    startApp(RouterModule, ruta = '', el = '') {\n        this.el = el;\n        if (this.el === '') {\n            this.el = '#contentView';\n        }\n        this.initialize();\n        this.router = new RouterModule();\n        if (!Backbone.history.start()) {\n            this.router.navigate(ruta, { trigger: true });\n        }\n    },\n    initialize() {\n        _.extend(this, Backbone.Events);\n\n        const alertTypes = ['error', 'warning', 'success', 'info'];\n\n        alertTypes.forEach((type) => {\n            this.listenTo(this, `noty:${type}`, (message) => this.notify(type, message));\n            this.listenTo(this, `alert:${type}`, (transfer) => this.alert(type, transfer));\n        });\n\n        this.listenTo(this, 'confirma', this.confirmaApp);\n        this.listenTo(this, 'syncro', this.syncroRequest);\n        this.listenTo(this, 'ajax', this.ajaxKumbia);\n        this.listenTo(this, 'show:modal', this.renderModal);\n        this.listenTo(this, 'hide:modal', this.closeModal);\n        this.listenTo(this, 'down', this.downLoadFile);\n        this.listenTo(this, 'upload', this.uploadFile);\n    },\n    notify(type, message) {\n        this.showNoty(type, message.toString(), type === 'error' ? 10000 : 6000);\n    },\n    alert(type, transfer) {\n        const { title = 'Notificación', message = 'Nota no hay respuesta de la solicitud', timer = 8200 } = transfer;\n        this.showAlert(title, message, type, timer);\n    },\n    showNoty(type, message, timeout) {\n        new Noty({\n            text: message,\n            layout: 'topRight',\n            theme: 'relax',\n            type: type,\n            timeout: timeout,\n        }).show();\n    },\n    showAlert(title = '', text = '', icon = '', timer) {\n        Swal.fire({\n            title,\n            html: text,\n            icon,\n            showConfirmButton: false,\n            confirmButtonText: 'Continuar',\n            timer,\n        });\n    },\n    startSubApplication(SubApplication, __services, options = {}) {\n        let services = [];\n\n        if (typeof __services != 'string') {\n            if (_.isArray(__services) === true) {\n                _.each(__services, (ser) => {\n                    services[ser.name] = new ser.inyectar();\n                });\n            } else if (_.isObject(__services) === true) {\n                services[__services.name] = new __services.inyectar();\n            } else {\n                services.push(__services);\n            }\n        }\n\n        this.mainRegion = new Region({ el: this.el, ...options });\n        this.currentSubapp = new SubApplication({\n            region: this.mainRegion,\n            services: services,\n            App: this,\n        });\n        return this.currentSubapp;\n    },\n    confirmaApp(transfer) {\n        const { message, callback, title = '¿Confirmar?', icon = 'warning' } = transfer;\n        Swal.fire({\n            title: title,\n            text: message,\n            icon: icon,\n            showCancelButton: true,\n            confirmButtonColor: '#2dce89',\n            cancelButtonColor: '#fc8c72',\n            confirmButtonText: 'SI, Continuar!',\n        }).then((result) => {\n            callback(result.isConfirmed);\n        });\n    },\n    syncroRequest(transfer) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        Backbone.ajax({\n            type: 'POST',\n            dataType: 'json',\n            url: url,\n            data: data,\n            cache: false,\n            contentType: 'application/x-www-form-urlencoded',\n            processData: true,\n            timeout: 52400,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    console.log(err.responseText);\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    console.log(err);\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n    renderModal(transfer = {}) {\n        const { title, view, options = false } = transfer;\n        const targetModal = $('#modalComponent');\n        if (!this.Modal) {\n            this.Modal = new bootstrap.Modal(document.getElementById('modalComponent'), {\n                keyboard: true,\n                backdrop: 'static',\n            });\n        }\n        targetModal.find('#mdl_set_title').text(title);\n        targetModal.find('#mdl_set_footer').css('display', 'none');\n        if (options) {\n            targetModal.find('.modal-dialog').addClass(options.bootstrapSize);\n        }\n        targetModal.find('#mdl_set_body').html(view.render().$el);\n        this.Modal.show();\n        if (options) {\n            this.Modal.on('hidden.bs.modal', (event) => view.remove());\n            targetModal.find('.close').addClass('d-none');\n        }\n    },\n    closeModal(view) {\n        if (this.Modal) {\n            this.Modal.hide();\n            this.Modal = null;\n        }\n        if (view) {\n            view.remove();\n        }\n    },\n    url(method = '', controller = undefined) {\n        return this.kumbiaURL((controller ?? '') + '/' + method);\n    },\n    kumbiaURL: (url) => {\n        if (_.isUndefined(url) === true) url = '';\n        return $Kumbia.path + url;\n    },\n    ajaxKumbia(transfer = {}) {\n        const { url, data = {}, callback, silent = false } = transfer;\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n\n        $.ajax({\n            type: 'POST',\n            data: data,\n            url: this.kumbiaURL(url),\n            dataType: 'html',\n            processData: true,\n            contentType: 'application/x-www-form-urlencoded',\n            cache: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n        })\n            .done((response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            })\n            .fail((err) => {\n                if (silent == false) loading.hide();\n                this.trigger('alert:error', { message: err.responseText });\n                return callback(false);\n            })\n            .always(() => {\n                if (silent == false) loading.hide();\n            });\n    },\n    downLoadFile(transfer) {\n        const { url, filename } = transfer;\n        const link = document.createElement('a');\n        link.href = this.kumbiaURL(url + '/' + filename);\n        link.download = filename;\n        console.log(link);\n        link.click();\n    },\n    uploadFile(transfer) {\n        const { url, data, callback, silent = false } = transfer;\n        let formData;\n        if (data instanceof FormData) {\n            formData = data;\n        } else {\n            formData = new FormData();\n            formData.append(data.name, data.file);\n        }\n        // eslint-disable-next-line quotes\n        const csrf = document.querySelector(\"[name='csrf-token']\").getAttribute('content');\n        Backbone.ajax({\n            url: url,\n            type: 'POST',\n            dataType: 'json',\n            data: formData,\n            cache: false,\n            contentType: false,\n            processData: false,\n            beforeSend: (xhr) => {\n                if (silent == false) loading.show();\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n                if (csrf.length > 0) {\n                    xhr.setRequestHeader('Authorization', 'Bearer ' + csrf);\n                }\n            },\n            success: (response) => {\n                if (silent == false) loading.hide();\n                return callback(response);\n            },\n            error: (err) => {\n                const keys = _.keys(err);\n                console.log(err);\n                if (silent == false) loading.hide();\n                if (_.indexOf(keys, 'responseText') !== -1) {\n                    this.trigger('alert:error', { message: err.responseText });\n                } else {\n                    this.trigger('alert:error', { message: err });\n                }\n                return callback(false);\n            },\n        });\n    },\n};\n\nexport { $App };\n","import { $App } from '@/App';\n\nclass AfiliationRouter extends Backbone.Router {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\troutes: {\n\t\t\t\tlist: 'listRute',\n\t\t\t\t'list/:tipo': 'listRute',\n\t\t\t\tcreate: 'createRute',\n\t\t\t\t'proceso/:id': 'procesoRute',\n\t\t\t},\n\t\t\t...options,\n\t\t});\n\n\t\tthis.currentApp = options.controller;\n\t\tthis._bindRoutes();\n\t}\n\n\tlistRute(tipo = '') {\n\t\tthis.currentApp.listRequests(tipo);\n\t}\n\n\tcreateRute() {\n\t\tthis.currentApp.createRequest();\n\t}\n\n\tprocesoRute(id) {\n\t\tif (_.isUndefined(id) == true || _.isNull(id) == true || id == '') {\n\t\t\t$App.trigger('alert:error', {\n\t\t\t\tmessage: 'No hay una solicitud en proceso para continuar.',\n\t\t\t});\n\t\t\tthis.navigate('list', { trigger: true });\n\t\t\treturn false;\n\t\t}\n\t\tthis.currentApp.procesoRute(id);\n\t}\n}\n\nexport { AfiliationRouter };\n","export class ModelView extends Backbone.View {\n\tmodelDOM = null;\n\n\tconstructor(options = { modelDOM: null, onRender: null }) {\n\t\tsuper(options);\n\t\tthis.modelDOM = options.modelDOM || Backbone.Model;\n\t\tthis.template = null;\n\t\t_.extend(this, options);\n\t\tthis.onRender = _.isFunction(this.onRender) ? this.onRender : null;\n\t}\n\n\t/**\n\t * @override\n\t */\n\trender() {\n\t\tconst data = this.serializeData();\n\t\tlet renderedHtml;\n\n\t\tif (_.isFunction(this.template)) {\n\t\t\trenderedHtml = this.template(data);\n\t\t} else if (_.isString(this.template)) {\n\t\t\tconst compiledTemplate = this.compileTemplate();\n\t\t\trenderedHtml = compiledTemplate(data);\n\t\t}\n\n\t\tthis.$el.html(renderedHtml);\n\t\tif (this.onRender) this.onRender(this.$el);\n\t\treturn this;\n\t}\n\n\tcompileTemplate() {\n\t\tif (_.isString(this.template) === true) {\n\t\t\tconst _el = document.querySelector(this.template);\n\t\t\treturn _.template(_el.innerHTML);\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Transform Model into JSON representation\n\tserializeData() {\n\t\tlet data = null;\n\n\t\t// Only when model is available\n\t\tif (this.modelDOM !== null) {\n\t\t\tif (this.model instanceof this.modelDOM) {\n\t\t\t\tdata = this.model.toJSON();\n\t\t\t} else {\n\t\t\t\tif (typeof this.model == 'object') {\n\t\t\t\t\tdata = this.model;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof this.model == 'object') {\n\t\t\t\tdata = this.model;\n\t\t\t}\n\t\t}\n\t\treturn data ? data : {};\n\t}\n\n\tgetInput(selector) {\n\t\treturn this.$el.find(`[name='${selector}']`).val();\n\t}\n\n\tgetInputById(id) {\n\t\treturn this.$el.find('#' + id).val();\n\t}\n\n\tsetInput(selector, val) {\n\t\treturn this.$el.find(`[name='${selector}']`).val(val ?? '');\n\t}\n\n\tgetInputByTag(tag, key) {\n\t\treturn this.$el.find(`[${tag}='${key}']`).val();\n\t}\n\n\tgetCheck(selector) {\n\t\treturn this.$el.find(`[name='${selector}']:checked`).length;\n\t}\n\n\tgetInputFile(id) {\n\t\treturn this.$el.find('#' + id).files[0];\n\t}\n}\n","import { ModelView } from '@/Common/ModelView';\nclass HeaderView extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(document.getElementById('tmp_card_header').innerHTML);\n\t}\n\n\tget className() {\n\t\treturn 'row justify-content-center';\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove() {\n\t\tthis.stopListening();\n\t\tBackbone.View.prototype.remove.call(this);\n\t}\n}\n\nexport { HeaderView };\n","import { $App } from '@/App';\nimport { HeaderView } from '@/Componentes/Views/HeaderView';\n\nclass AfiliationService {\n    constructor() {\n        this.headerView = null;\n    }\n\n    findDataTable(transfer = {}) {\n        const { url, callback, silent = false } = transfer;\n        $App.trigger('ajax', {\n            url: url,\n            data: {},\n            silent,\n            callback: (response) => {\n                if (response) {\n                    if (response) {\n                        return callback(response);\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    paramsServer(transfer = {}) {\n        const callback = transfer.callback || false;\n        const silent = transfer.silent || false;\n\n        $App.trigger('syncro', {\n            url: $App.url('params'),\n            data: {},\n            silent,\n            callback: (response) => {\n                if (response) {\n                    if (response.success === true) {\n                        if (_.isNull($App.Collections.formParams)) $App.Collections.formParams = [];\n                        _.extend($App.Collections.formParams, response.data);\n                        return callback !== false ? callback(response.msj) : '';\n                    }\n                }\n                return callback !== false ? callback(false) : '';\n            },\n        });\n    }\n\n    serachRequestServer(transfer = {}) {\n        const { id, callback } = transfer;\n        $App.trigger('syncro', {\n            url: $App.url('searchRequest/' + id),\n            data: {},\n            callback: (response) => {\n                if (response) {\n                    return callback(response);\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    sendRadicado(transfer = {}) {\n        const { model, callback } = transfer;\n        $App.trigger('syncro', {\n            url: $App.url('enviarCaja'),\n            data: model.toJSON(),\n            callback: (response) => {\n                if (response) {\n                    if (response.success) {\n                        $App.trigger('alert:success', { message: response.msj });\n                        return callback(response);\n                    } else {\n                        $App.trigger('alert:error', { message: response.msj });\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    initHeaderView(options = {}) {\n        let estado_detalle;\n        if (this.headerView) this.headerView.remove();\n        switch (options.estado) {\n            case 'T':\n                estado_detalle = 'Temporales';\n                break;\n            case 'P':\n                estado_detalle = 'Pendientes';\n                break;\n            case 'D':\n                estado_detalle = 'Devueltos';\n                break;\n            case 'R':\n                estado_detalle = 'Rechazados';\n                break;\n            case 'A':\n                estado_detalle = 'Aprobados';\n                break;\n            default:\n                estado_detalle = '';\n                break;\n        }\n\n        this.headerView = new HeaderView({\n            model: {\n                ...options,\n                estado_detalle,\n            },\n        });\n\n        $App.layout.getRegion('header').show(this.headerView);\n        $(\"[data-toggle='linkFilter'][data-valor='\" + options.estado + \"']\").addClass('active');\n    }\n\n    digitVer(_data = {}) {\n        const { nit, callback } = _data;\n        $App.trigger('syncro', {\n            url: 'digito_verification',\n            data: { documento: nit },\n            callback: (response) => {\n                if (response) {\n                    return callback(response);\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    validePk(transfer = {}) {\n        const { data, callback } = transfer;\n        $App.trigger('syncro', {\n            url: $App.url('valida'),\n            data: data,\n            silent: true,\n            callback: (response) => {\n                if (response) {\n                    if (response.success) {\n                        let solicitud = null;\n\n                        if (response.solicitud_previa !== false) {\n                            solicitud = response.solicitud_previa;\n                        }\n                        if (response.empresa !== false) {\n                            solicitud = response.empresa;\n                        }\n                        if (response.trabajador !== false) {\n                            solicitud = response.trabajador;\n                        }\n                        if (_.isNull(solicitud)) return false;\n\n                        return callback(solicitud);\n                    } else {\n                        $App.trigger('alert:error', { message: response.msj });\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    saveFormData(transfer = {}) {\n        const { entity, callback } = transfer;\n        const url = 'guardar';\n        $App.trigger('syncro', {\n            url,\n            data: entity.toJSON(),\n            callback: (response) => {\n                if (response) {\n                    return callback(response);\n                }\n                return callback(false);\n            },\n        });\n    }\n\n    cancelaSolicitud(transfer = {}) {\n        const { id, callback } = transfer;\n\n        $App.trigger('confirma', {\n            message: 'Se requiere de confirmar que desear borra la solicitud de afiliación.',\n            callback: (status) => {\n                if (status) {\n                    $App.trigger('syncro', {\n                        url: $App.url('borrar'),\n                        data: { id },\n                        callback: (response) => {\n                            if (response) {\n                                if (response.success) {\n                                    Swal.fire({\n                                        title: 'Notificación',\n                                        text: response.msj,\n                                        icon: 'success',\n                                        showConfirmButton: false,\n                                        timer: 10000,\n                                    });\n                                    return callback(true);\n                                } else {\n                                    Swal.fire({\n                                        title: 'Notificación Error',\n                                        text: response.msj,\n                                        icon: 'warning',\n                                        showConfirmButton: false,\n                                        timer: 10000,\n                                    });\n                                }\n                            }\n                            return callback(false);\n                        },\n                    });\n                }\n            },\n        });\n    }\n\n    validaFirmas(callback) {\n        $App.trigger('syncro', {\n            url: $App.kumbiaURL('mercurio/firmas/show'),\n            data: {},\n            callback: (response) => {\n                if (response) {\n                    if (response.success) {\n                        return callback(response);\n                    } else {\n                        $App.trigger('alert:warning', {\n                            message: 'No se puede generar el formulario',\n                        });\n                    }\n                }\n                return callback(false);\n            },\n        });\n    }\n}\n\nexport { AfiliationService };\n","import { ModelView } from '@/Common/ModelView';\nimport { Region } from './Region';\n\nexport class Layout extends ModelView {\n\ttagRegions = {};\n\tregionsLayout = {};\n\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\t_.extend(this, options);\n\t}\n\n\t/**\n\t * @override\n\t */\n\trender() {\n\t\tthis.closeRegions();\n\t\tconst result = ModelView.prototype.render.call(this);\n\t\tthis.configureRegions();\n\t\treturn result;\n\t}\n\n\tconfigureRegions() {\n\t\tconst regionDefinitions = this.tagRegions || {};\n\t\tif (!this.regionsLayout) this.regionsLayout = {};\n\n\t\t_.each(regionDefinitions, (__selector, name) => {\n\t\t\tlet $el = this.$(__selector);\n\t\t\tthis.regionsLayout[name] = new Region({ el: $el });\n\t\t});\n\t}\n\n\t// Get a Region instance for a named region\n\tgetRegion(regionName) {\n\t\tif (!this.regionsLayout) return false;\n\t\treturn this.regionsLayout[regionName];\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove(options = {}) {\n\t\tthis.stopListening();\n\t\tthis.closeRegions();\n\t\tModelView.prototype.remove.call(this, options);\n\t}\n\n\tcloseRegions() {\n\t\tif (!this.regionsLayout) return false;\n\t\t_.each(this.regionsLayout, (region) => {\n\t\t\tif (region && region.remove) region.remove();\n\t\t});\n\t}\n}\n","import { $App } from '@/App';\nimport { Layout } from '@/Common/Layout';\n\nclass LayoutView extends Layout {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\ttemplate: '#tmp_layout',\n\t\t\ttagRegions: options.regions || {\n\t\t\t\theader: '#header_group_button',\n\t\t\t\tsubheader: '#render_subeader',\n\t\t\t\tbody: '#app',\n\t\t\t},\n\t\t});\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t\"click [data-toggle='linkFilter']\": 'linkFilter',\n\t\t\t\"click [data-toggle='create']\": 'linkCreate',\n\t\t\t\"click [data-toggle='masivo']\": 'linkMasivo',\n\t\t};\n\t}\n\n\tlinkFilter(event) {\n\t\tevent.preventDefault();\n\t\tconst valor = $(event.currentTarget).attr('data-valor');\n\t\tif (_.isUndefined(valor) == true || valor == '') {\n\t\t\t$App.router.navigate('list', { trigger: true });\n\t\t} else {\n\t\t\t$App.router.navigate('list/' + valor, { trigger: true });\n\t\t}\n\t}\n\n\tlinkCreate(e) {\n\t\te.preventDefault();\n\t\tconst target = $(e.currentTarget);\n\t\tif (target.hasClass('disabled') === true) return false;\n\t\ttarget.attr('disabled', 'true');\n\n\t\t$App.trigger('confirma', {\n\t\t\tmessage: 'Confirma que desea crear una nueva solicitud',\n\t\t\tcallback: (status) => {\n\t\t\t\tif (status) {\n\t\t\t\t\t$App.router.navigate('create', { trigger: true });\n\t\t\t\t} else {\n\t\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tlinkMasivo(event) {\n\t\tevent.preventDefault();\n\t\t$App.router.navigate('masivo', { trigger: true });\n\t}\n}\n\nexport { LayoutView };\n","import { LayoutView } from '@/Componentes/Views/LayoutView';\nimport { Region } from '@/Common/Region';\nimport { $App } from '@/App';\nimport loading from '@/Componentes/Views/Loading';\n\nclass ControllerRequest {\n\tconstructor(options = {}) {\n\t\tthis.region = {};\n\t\tthis.afiService = {};\n\t\tthis.TableView = undefined;\n\t\tthis.EntityModel = undefined;\n\t\tthis.headerOptions = undefined;\n\t\tthis.FormRequest = undefined;\n\t\tthis.trigger = undefined;\n\t\tthis.layout = undefined;\n\n\t\t_.extend(this, Backbone.Events);\n\t\t_.extend(this, options);\n\n\t\t$App.layout = new LayoutView();\n\t\tif (this.region instanceof Region) {\n\t\t\tthis.region.show($App.layout);\n\t\t} else {\n\t\t\tif (_.isString(this.region)) $(this.region).html($App.layout);\n\t\t}\n\t\tloading.hide();\n\t}\n\n\tserealizeParams() {\n\t\tconst resources = _.keys($App.Collections.formParams);\n\t\tconst collection = _.map(resources, (item) => {\n\t\t\treturn {\n\t\t\t\tname: item,\n\t\t\t\ttype: 'select',\n\t\t\t\tplaceholder: item,\n\t\t\t\tsearch: item,\n\t\t\t};\n\t\t});\n\t\treturn collection;\n\t}\n\n\tlistRequests(tipo) {\n\t\tif (_.isNull($App.Collections.formParams)) this.trigger('params');\n\n\t\tconst view = new this.TableView({ model: { tipo } });\n\n\t\tthis.listenTo(view, 'load:table', this.afiService.findDataTable);\n\t\tthis.listenTo(view, 'remove:solicitud', this.afiService.cancelaSolicitud);\n\t\tthis.listenTo(view, 'admin:cuenta', this.__adminCuenta);\n\n\t\t$App.layout.getRegion('body').show(view);\n\n\t\tthis.afiService.initHeaderView({\n\t\t\t...this.headerOptions,\n\t\t\testado: tipo,\n\t\t\tisNew: false,\n\t\t\tbreadcrumb_menu: 'Listar solicitudes',\n\t\t});\n\t}\n\n\tcreateRequest() {\n\t\tconst model = new this.EntityModel();\n\t\tif (_.isNull($App.Collections.formParams)) {\n\t\t\tthis.trigger('params', {\n\t\t\t\tcallback: (response) => {\n\t\t\t\t\tif (response) this.renderCreateRequest(model);\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tthis.renderCreateRequest(model);\n\t\t}\n\t}\n\n\trenderCreateRequest(model = {}) {\n\t\tconst view = new this.FormRequest({\n\t\t\tmodel: model,\n\t\t\tcollection: this.serealizeParams(),\n\t\t\tisNew: model.get('id') == null,\n\t\t\tregion: this.region,\n\t\t});\n\n\t\tthis.listenTo(view, 'form:save', this.afiService.saveFormData);\n\t\tthis.listenTo(view, 'form:send', this.afiService.sendRadicado);\n\t\tthis.listenTo(view, 'form:find', this.afiService.validePk);\n\t\tthis.listenTo(view, 'form:digit', this.afiService.digitVer);\n\n\t\t$App.layout.getRegion('body').show(view);\n\n\t\tthis.afiService.initHeaderView({\n\t\t\t...this.headerOptions,\n\t\t\tisNew: model.get('id') == null,\n\t\t\tbreadcrumb_menu: 'Crear solicitud',\n\t\t\tcreate: 'disabled',\n\t\t});\n\t}\n\n\tprocesoRute(id) {\n\t\tif (_.isNull($App.Collections.formParams)) {\n\t\t\tthis.trigger('params', {\n\t\t\t\tsilent: true,\n\t\t\t\tcallback: (response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tthis.afiService.serachRequestServer({\n\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\tcallback: (response) => {\n\t\t\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t\t\t\tconst model = new this.EntityModel(response.data);\n\t\t\t\t\t\t\t\t\t\tthis.renderCreateRequest(model);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t} else {\n\t\t\tthis.afiService.serachRequestServer({\n\t\t\t\tid: id,\n\t\t\t\tcallback: (response) => {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tconst model = new this.EntityModel(response.data);\n\t\t\t\t\t\t\tthis.renderCreateRequest(model);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\t__adminCuenta({ id }) {\n\t\twindow.location = $App.url('administrar_cuenta/' + id);\n\t}\n\n\tdestroy() {\n\t\tthis.stopListening();\n\t\tif (this.region && this.region instanceof Region) this.region.remove();\n\t}\n}\n\nexport { ControllerRequest };\n","const urlError = () => 'Url error is undefined!';\n\nconst emulateDefault = () => (Backbone.emulateHTTP = true);\n\nconst methodMap = {\n\tcreate: 'POST',\n\tupdate: 'PUT',\n\tfetch: 'GET',\n\tdestroy: 'DELETE',\n};\n\nBackbone.sync = (method, model, options) => {\n\tconst type = methodMap[method];\n\n\tconst params = _.extend(\n\t\t{\n\t\t\ttype: type,\n\t\t\tdataType: 'json',\n\t\t\tprocessData: false,\n\t\t},\n\t\toptions,\n\t);\n\n\tif (!params.url) {\n\t\tparams.url = model.url || urlError();\n\t}\n\n\tif (!params.data && model && (method == 'create' || method == 'update')) {\n\t\tparams.contentType = 'application/json';\n\t\tparams.data = JSON.stringify(model.toJSON());\n\t}\n\n\tif (!Backbone.emulateJSON && !Backbone.emulateHTTP) emulateDefault();\n\n\tif (Backbone.emulateJSON) {\n\t\tparams.contentType = 'application/x-www-form-urlencoded';\n\t\tparams.processData = true;\n\t\tparams.data = params.data ? { model: params.data } : {};\n\t\tparams.beforeSend = function (xhr) {\n\t\t\txhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t\t};\n\t}\n\n\tif (Backbone.emulateHTTP) {\n\t\tif (type === 'PUT' || type === 'DELETE') {\n\t\t\tif (Backbone.emulateJSON) params.data._method = type;\n\t\t\tparams.type = 'POST';\n\t\t\tparams.beforeSend = (xhr) => {\n\t\t\t\txhr.setRequestHeader('X-HTTP-Method-Override', type);\n\t\t\t};\n\t\t}\n\t}\n\n\treturn $.ajax(params);\n};\n\nconst capitalize = (_string) => {\n\tif (typeof _string !== 'string') return '';\n\tconst exp = _string.toLowerCase().split(' ');\n\tif (exp.length == 1) {\n\t\t_string = exp[0].charAt(0).toUpperCase() + exp[0].slice(1);\n\t}\n\tif (exp.length > 1) {\n\t\tconst parts = new Array();\n\t\t_.each(exp, (parte) => {\n\t\t\tparts.push(parte.charAt(0).toUpperCase() + parte.slice(1));\n\t\t});\n\t\t_string = parts.join(' ');\n\t}\n\treturn _string;\n};\n\nconst is_email = (value) => {\n\tconst pattern = /^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\\.([a-zA-Z])+([a-zA-Z])+/;\n\treturn pattern.test(value);\n};\n\nconst is_numeric = (value) => {\n\tconst numerico = /^([0-9]+){0,20}$/;\n\treturn numerico.test(value);\n};\n\nconst is_date = (value) => {\n\tconst regla = /^([2]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/;\n\treturn regla.test(value);\n};\n\nconst is_date_general = (value) => {\n\tconst regla = /^([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/;\n\treturn regla.test(value);\n};\n\nconst Testeo = (() => {\n\tconst showError = (target = '', message = '', out = true) => {\n\t\tconst el = $(`[group-for='${target}']`);\n\t\tel.find('.form-control').addClass('invalid');\n\n\t\tif (out) {\n\t\t\tif (el.find('.validation-error')) el.find('.validation-error').remove();\n\t\t\tconst toggle = document.createElement('div');\n\t\t\tconst sel = $(toggle);\n\t\t\tsel.attr('class', 'validation-error');\n\t\t\tsel.html(`<span>${message}</span>`);\n\t\t\tel.append(sel);\n\t\t\tsetTimeout(() => sel.remove(), 6000);\n\t\t\tel.find('.form-control').on('focus', () => {\n\t\t\t\tsel.remove();\n\t\t\t\tel.find('.form-control').removeClass('invalid');\n\t\t\t});\n\t\t}\n\t\tsetTimeout(() => el.find('.form-control').removeClass('invalid'), 6000);\n\t\treturn message;\n\t};\n\n\tconst validate = (attr, target, regex, errorMessage, out = false) => {\n\t\tif (!regex.test(attr)) {\n\t\t\treturn showError(target, errorMessage, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst isPhone = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst telefonoRegex = /^([0-9]){7,10}$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\ttelefonoRegex,\n\t\t\t`El campo ${label} debe ser un valor válido.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst isNumeric = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst numericoRegex = /^([0-9]+){0,20}$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\tnumericoRegex,\n\t\t\t`El campo ${label} debe ser un valor válido.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst hasSpaces = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst espaciosRegex = /\\s/;\n\t\tif (espaciosRegex.test(attr)) {\n\t\t\treturn showError(target, `El campo ${label} no puede contener espacios.`, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst hasEmpty = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tif (attr === '' || attr === void 0 || attr === undefined || attr === null) {\n\t\t\treturn showError(target, `El campo ${label} no puede estar indefinido.`, out);\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst isEmail = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\t\tconst emailRegex = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\t\treturn validate(\n\t\t\tattr,\n\t\t\ttarget,\n\t\t\temailRegex,\n\t\t\t`La dirección de ${label} no es válida.`,\n\t\t\tout,\n\t\t);\n\t};\n\n\tconst isIdentification = (transfer = {}) => {\n\t\tconst { attr, target, min = 1, max = 100, out = false, label = '' } = transfer;\n\n\t\tconst numericoRegex = /^([0-9]+){1,100}$/;\n\t\tif (!numericoRegex.test(attr)) {\n\t\t\treturn showError(target, `El campo ${label} debe ser un valor válido.`, out);\n\t\t} else {\n\t\t\tconst express = new RegExp('^([0-9]+){' + min + ',' + max + '}', 'i');\n\t\t\tif (!express.test(attr)) {\n\t\t\t\treturn showError(\n\t\t\t\t\ttarget,\n\t\t\t\t\t`El campo ${label} debe ser un valor entre ${min} y ${max} dígitos.`,\n\t\t\t\t\tout,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\tconst maxSize = (transfer = {}) => {\n\t\tconst { attr, target, max = 225, out = false, label = '' } = transfer;\n\t\tif (!_.isUndefined(attr)) {\n\t\t\tif (attr.toString().length > max) {\n\t\t\t\treturn showError(\n\t\t\t\t\ttarget,\n\t\t\t\t\t`El campo ${label} no puede tener ${max} número de caracteres.`,\n\t\t\t\t\tout,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst isDate = (transfer = {}) => {\n\t\tconst { attr, target, out = false, label = '' } = transfer;\n\n\t\tconst __isDate = function (fecha) {\n\t\t\tconst regexFecha = /^\\d{4}-\\d{2}-\\d{2}$/;\n\n\t\t\tif (!fecha.match(regexFecha)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst fechaDividida = fecha.split('-');\n\t\t\tconst year = parseInt(fechaDividida[0], 10);\n\t\t\tconst month = parseInt(fechaDividida[1], 10);\n\t\t\tconst day = parseInt(fechaDividida[2], 10);\n\n\t\t\tif (month < 1 || month > 12) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (day < 1 || day > 31) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ((month === 4 || month === 6 || month === 9 || month === 11) && day === 31) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (month === 2) {\n\t\t\t\tconst esBisiesto = (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n\t\t\t\tif (day > 29 || (day === 29 && !esBisiesto)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\tconst res = __isDate(attr);\n\t\tif (res) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn showError(\n\t\t\t\ttarget,\n\t\t\t\t`El campo ${label} debe ser un valor de fecha valido.`,\n\t\t\t\tout,\n\t\t\t);\n\t\t}\n\t};\n\n\treturn {\n\t\tespacio: hasSpaces,\n\t\tnumerico: isNumeric,\n\t\tvacio: hasEmpty,\n\t\temail: isEmail,\n\t\ttelefono: isPhone,\n\t\tidenti: isIdentification,\n\t\tdate: isDate,\n\t\tmax: maxSize,\n\t};\n})();\n\nconst langDataTable = {\n\tprocessing: 'Procesando...',\n\tlengthMenu: 'Mostrar _MENU_ resultados por pagínas',\n\tzeroRecords: 'No se encontraron resultados',\n\tinfo: 'Mostrando pagína _PAGE_ de _PAGES_.\\tTotal de _TOTAL_ registros.',\n\tinfoEmpty: 'No records available',\n\tinfoFiltered: '(filtered from _MAX_ total records)',\n\temptyTable: 'Ningún dato disponible en esta tabla',\n\tsearch: 'Buscar',\n\tpaginate: {\n\t\tnext: 'siguiente',\n\t\tprevius: 'anterior',\n\t\tfirst: 'primero',\n\t\tlast: 'ultimo',\n\t},\n\tloadingRecords: 'Cargando...',\n\tbuttons: {\n\t\tcopy: 'Copiar',\n\t\tcolvis: 'Visibilidad',\n\t\tcollection: 'Colección',\n\t\tcolvisRestore: 'Restaurar visibilidad',\n\t\tcopyKeys:\n\t\t\t'Presione ctrl o u2318 + C para copiar los datos de la tabla al portapapeles del sistema. <br /> <br /> Para cancelar, haga clic en este mensaje o presione escape.',\n\t\tcopySuccess: {\n\t\t\t1: 'Copiada 1 fila al portapapeles',\n\t\t\t_: 'Copiadas %d fila al portapapeles',\n\t\t},\n\t},\n};\n\nfunction handleFiles() {\n\tconst _el = document.querySelector(\"[data-toggle='upload']\");\n\tif (_el.files.length == 0) return false;\n\n\tconst test = /(\\.docx\\.doc|\\.pdf|\\.jpg|\\.png|\\.jpeg)$/i;\n\tconst fpath = _el.files[0]['name'];\n\tif (!test.exec(fpath)) {\n\t\tdocument.getElementById('name_archivo').textContent = '';\n\t\tdocument.getElementById('remover_archivo').setAttribute('disabled', true);\n\t\tdocument.getElementById('bt_hacer_cargue').setAttribute('disabled', true);\n\n\t\talert(\n\t\t\t'Please upload file having extensions .pdf, .docx, .doc, .png, .jpg, .jpeg only.',\n\t\t);\n\t\t_el.value = '';\n\t\treturn false;\n\t} else {\n\t\tif (_el.files && _el.files[0]) {\n\t\t\tconst _exp = fpath.split('_');\n\t\t\tfpath = _exp.join('\\r');\n\t\t\tdocument.getElementById('name_archivo').textContent = fpath;\n\t\t\tdocument.getElementById('remover_archivo').removeAttribute('disabled');\n\t\t\tdocument.getElementById('bt_hacer_cargue').removeAttribute('disabled');\n\t\t}\n\t}\n}\n\nconst eventsFormControl = (el) => {\n\tel.find('input.form-control').each(function () {\n\t\tif ($.trim(this.value).length == 0) {\n\t\t\t$(this).siblings('.control-label').removeClass('top');\n\t\t} else {\n\t\t\t$(this).siblings('.control-label').addClass('top');\n\t\t}\n\t});\n\n\tel.find('input.form-control').on('click', function () {\n\t\t$(this).siblings('.control-label').addClass('top');\n\t});\n\n\tel.find('label.control-label').on('click', function () {\n\t\tif ($(this).hasClass('top') === false) $(this).addClass('top');\n\t});\n\n\tel.find('input.form-control').focus(function () {\n\t\t$(this).siblings('.control-label').addClass('top');\n\t});\n\n\tel.find('input.form-control').blur(function () {\n\t\tif ($.trim(this.value).length == 0) {\n\t\t\t$(this).siblings('.control-label').removeClass('top');\n\t\t} else {\n\t\t\t$(this).siblings('.control-label').addClass('top');\n\t\t}\n\t});\n\n\treturn false;\n};\n\nexport {\n\thandleFiles,\n\tlangDataTable,\n\tTesteo,\n\tcapitalize,\n\tis_numeric,\n\tis_email,\n\tis_date,\n\tis_date_general,\n\teventsFormControl,\n};\n","import { Testeo } from '@/Core';\n\nconst RulesValidator = (rules = [], attr = {}) => {\n\tconst error = new Array();\n\t_.each(rules, (rule, item) => {\n\t\tif (rule !== undefined) {\n\t\t\tconst {\n\t\t\t\trequired = false,\n\t\t\t\tnumber = undefined,\n\t\t\t\temail = undefined,\n\t\t\t\tdate = undefined,\n\t\t\t\tmaxlength = undefined,\n\t\t\t\tminlength = undefined,\n\t\t\t\trangelength = undefined,\n\t\t\t\trange = undefined,\n\t\t\t} = rule;\n\n\t\t\tlet err = undefined;\n\t\t\tif (!!required) {\n\t\t\t\terr = Testeo.vacio({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(email)) {\n\t\t\t\terr = Testeo.email({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(number)) {\n\t\t\t\terr = Testeo.numerico({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(date)) {\n\t\t\t\terr = Testeo.date({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && _.isUndefined(maxlength) && !_.isUndefined(minlength)) {\n\t\t\t\terr = Testeo.max({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: minlength,\n\t\t\t\t\tmax: maxlength,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(rangelength)) {\n\t\t\t\terr = Testeo.max({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: rangelength[0],\n\t\t\t\t\tmax: rangelength[1],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!err && !_.isUndefined(range)) {\n\t\t\t\terr = Testeo.identi({\n\t\t\t\t\tattr: attr[item],\n\t\t\t\t\ttarget: item,\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tout: true,\n\t\t\t\t\tmin: range[0],\n\t\t\t\t\tmax: range[1],\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (err && err !== undefined) error.push(err);\n\t\t}\n\t});\n\n\treturn !!_.isEmpty(error) ? null : error;\n};\n\nexport { RulesValidator };\n","import { RulesValidator } from '@/Componentes/Services/RulesValidator';\n\nclass ActualizadatosModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\n\t\tthis.on('change:tipdoc', (model) => {\n\t\t\tlet coddocrepleg = ActualizadatosModel.changeTipdoc(model.get('tipdoc'));\n\t\t\tmodel.set('coddocrepleg', coddocrepleg);\n\t\t});\n\t}\n\n\tget idAttribute() {\n\t\treturn 'id';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tid: null,\n\t\t\tcodsuc: void 0,\n\t\t\tnit: void 0,\n\t\t\trazsoc: '',\n\t\t\tsigla: '',\n\t\t\tdigver: void 0,\n\t\t\tcalemp: '',\n\t\t\tcedrep: '',\n\t\t\trepleg: '',\n\t\t\ttelefono: void 0,\n\t\t\tcelular: void 0,\n\t\t\temail: '',\n\t\t\ttottra: void 0,\n\t\t\tvalnom: void 0,\n\t\t\ttipemp: '',\n\t\t\ttipper: '',\n\t\t\tpriape: '',\n\t\t\tprinom: '',\n\t\t\tsegnom: '',\n\t\t\tsegape: '',\n\t\t\tcodact: void 0,\n\t\t\tcoddocrepleg: void 0,\n\t\t\tcoddoc: void 0,\n\t\t\testado: void 0,\n\t\t\ttipdoc: void 0,\n\t\t};\n\t}\n\n\tvalidate(attr = {}) {\n\t\treturn RulesValidator(ActualizadatosModel.Rules.rules, attr);\n\t}\n\n\tstatic Rules = {\n\t\trules: {\n\t\t\tnit: { required: true, minlength: 6 },\n\t\t\trazsoc: { required: true, minlength: 5 },\n\t\t\tsigla: { required: false },\n\t\t\tdigver: { required: true, minlength: 1 },\n\t\t\tcalemp: { required: true, minlength: 1 },\n\t\t\tcedrep: { required: true, minlength: 6 },\n\t\t\trepleg: { required: true, minlength: 6 },\n\t\t\ttelefono: { required: true, minlength: 7 },\n\t\t\tcelular: { required: true, minlength: 10 },\n\t\t\temail: { required: true },\n\t\t\ttottra: { required: true },\n\t\t\tdirpri: { required: false },\n\t\t\tciupri: { required: true },\n\t\t\tcelpri: { required: false },\n\t\t\temailpri: { required: false },\n\t\t\ttipemp: { required: true },\n\t\t\ttipper: { required: true },\n\t\t\tprinom: { required: true },\n\t\t\tpriape: { required: true },\n\t\t\tcodsuc: { required: true },\n\t\t\tcoddoc: { required: true },\n\t\t\tcoddocrepleg: { required: true },\n\t\t\ttipdoc: { required: true },\n\t\t},\n\t\tmessages: {\n\t\t\tnit: { required: 'Se requiere del campo nit' },\n\t\t\trazsoc: { required: 'Se requiere del campo razón social' },\n\t\t\tsigla: { required: 'Se requiere del campo sigla' },\n\t\t\tdigver: { required: 'Se requiere del campo digito verificación' },\n\t\t\tcalemp: { required: 'Se requiere del campo calidad empresa' },\n\t\t\tcedrep: { required: 'Se requiere del campo cedula' },\n\t\t\trepleg: { required: 'Se requiere del campo nombre' },\n\t\t\ttelefono: { required: 'Se requiere del campo télefono' },\n\t\t\tcelular: { required: 'Se requiere del campo celular' },\n\t\t\temail: { required: 'Se requiere del campo email' },\n\t\t\ttottra: { required: 'Se requiere del campo total trabajadores' },\n\t\t\tdirpri: { required: 'Se requiere del campo dirección' },\n\t\t\tciupri: { required: 'Se requiere del campo ciudad' },\n\t\t\tcelpri: { required: 'Se requiere del campo celular' },\n\t\t\temailpri: { required: 'Se requiere del campo email' },\n\t\t\ttipemp: { required: 'Se requiere del campo tipo empresa' },\n\t\t\ttipper: { required: 'Se requiere del campo tipo persona' },\n\t\t\tprinom: { required: 'Se requiere del campo primer nombre' },\n\t\t\tpriape: { required: 'Se requiere del campo primer apellido' },\n\t\t\tfectra: { required: 'Se requiere del campo fecha' },\n\t\t\tdireccion: { required: 'Se requiere del campo dirección' },\n\t\t\tcodzon: { required: 'Se requiere de la zona laboral' },\n\t\t\tcodact: { required: 'Se requiere de la actividad económica' },\n\t\t\ttipsoc: { required: 'Se requiere de tipo sociedad' },\n\t\t\tcodciu: { required: 'Se requiere la ciudad' },\n\t\t},\n\t};\n\n\tstatic changeTipdoc(index) {\n\t\tlet coddoc_repleg = {\n\t\t\t1: 'CC',\n\t\t\t10: 'TMF',\n\t\t\t11: 'CD',\n\t\t\t12: 'ISE',\n\t\t\t13: 'V',\n\t\t\t14: 'PT',\n\t\t\t2: 'TI',\n\t\t\t3: 'NI',\n\t\t\t4: 'CE',\n\t\t\t5: 'NU',\n\t\t\t6: 'PA',\n\t\t\t7: 'RC',\n\t\t\t8: 'PEP',\n\t\t\t9: 'CB',\n\t\t};\n\t\treturn coddoc_repleg[index];\n\t}\n}\n\nexport { ActualizadatosModel };\n","//\nimport { $App } from '@/App';\n\nimport { langDataTable } from '../../../Core';\n\nclass ActualizadatosView extends Backbone.View {\n    constructor(options = {}) {\n        super(options);\n    }\n\n    get className() {\n        return 'table-responsive-md';\n    }\n\n    initialize() {\n        this.template = document.getElementById('tmp_table').innerHTML;\n        this.tableView = void 0;\n    }\n\n    render() {\n        const template = _.template(this.template);\n        this.$el.html(template());\n\n        this.trigger('load:table', {\n            url: this.model.tipo ? 'actualizadatos/renderTable/' + this.model.tipo : 'actualizadatos/renderTable',\n            callback: (html) => {\n                this.$el.find('#consulta').html(html);\n                this.__initTable();\n                this.__setStyles();\n            },\n            silent: false,\n        });\n        return this;\n    }\n\n    get events() {\n        return {\n            \"click [data-toggle='event-proceso']\": 'procesoPendiente',\n            \"click [data-toggle='event-cuenta']\": 'cambioCuenta',\n            \"click [data-toggle='event-detalle']\": 'procesoPendiente',\n            \"click [data-toggle='cancel-solicitud']\": 'cancelarSolicitud',\n        };\n    }\n\n    procesoPendiente(e) {\n        const id = this.$el.find(e.currentTarget).attr('data-cid');\n        this.remove();\n        $App.router.navigate('proceso/' + id, { trigger: true });\n    }\n\n    cambioCuenta(event) {\n        let target = $(event.currentTarget);\n        Swal.fire({\n            title: '¡Confirmar!',\n            html: \"<p style='font-size:0.95rem' >Se requiere de confirmar que estás de acuerdo en el cambio de cuenta para administrar la empresa seleccionada. Esta opción le permitirá afiliar trabajadores, cónyuges y beneficiarios</p>\",\n            showCancelButton: true,\n            confirmButtonClass: 'btn btn-sm btn-success',\n            cancelButtonClass: 'btn btn-sm btn-danger',\n            confirmButtonText: 'SI',\n            cancelButtonText: 'NO',\n        }).then((result) => {\n            if (result.value) {\n                let _url = $App.kumbiaURL('mercurio/' + target.attr('data-href'));\n                window.location.href = _url;\n            }\n        });\n    }\n\n    __setStyles() {\n        $('[type=\"search\"]').addClass('row form-control');\n        $('[type=\"search\"]').css('display', 'inline-block');\n        $('[type=\"search\"]').css('width', '220px');\n    }\n\n    __initTable() {\n        this.tableView = this.$el.find('#tb_actualiza').DataTable({\n            paging: true,\n            ordering: false,\n            pageLength: 10,\n            pagingType: 'numbers',\n            info: true,\n            searching: true,\n            columnDefs: [\n                {\n                    targets: 0,\n                    width: '5%',\n                },\n                {\n                    targets: 1,\n                    width: '30%',\n                },\n                {\n                    targets: 2,\n                    width: '5%',\n                },\n                {\n                    targets: 3,\n                    width: '30%',\n                },\n                {\n                    targets: 4,\n                    width: '20%',\n                },\n            ],\n            order: [[0, 'desc']],\n            language: langDataTable,\n        });\n    }\n\n    cancelarSolicitud(e) {\n        e.preventDefault();\n        const id = this.$el.find(e.currentTarget).attr('data-cid');\n        this.trigger('remove:solicitud', {\n            id: id,\n            callback: (res) => {\n                if (res) Backbone.history.loadUrl();\n            },\n        });\n    }\n\n    remove() {\n        console.log('OK remove');\n        this.stopListening();\n        Backbone.View.prototype.remove.call(this);\n    }\n}\n\nexport { ActualizadatosView };\n","/*! choices.js v11.1.0 | © 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nvar ActionType = {\n    ADD_CHOICE: 'ADD_CHOICE',\n    REMOVE_CHOICE: 'REMOVE_CHOICE',\n    FILTER_CHOICES: 'FILTER_CHOICES',\n    ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n    CLEAR_CHOICES: 'CLEAR_CHOICES',\n    ADD_GROUP: 'ADD_GROUP',\n    ADD_ITEM: 'ADD_ITEM',\n    REMOVE_ITEM: 'REMOVE_ITEM',\n    HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n};\n\nvar EventType = {\n    showDropdown: 'showDropdown',\n    hideDropdown: 'hideDropdown',\n    change: 'change',\n    choice: 'choice',\n    search: 'search',\n    addItem: 'addItem',\n    removeItem: 'removeItem',\n    highlightItem: 'highlightItem',\n    highlightChoice: 'highlightChoice',\n    unhighlightItem: 'unhighlightItem',\n};\n\nvar KeyCodeMap = {\n    TAB_KEY: 9,\n    SHIFT_KEY: 16,\n    BACK_KEY: 46,\n    DELETE_KEY: 8,\n    ENTER_KEY: 13,\n    A_KEY: 65,\n    ESC_KEY: 27,\n    UP_KEY: 38,\n    DOWN_KEY: 40,\n    PAGE_UP_KEY: 33,\n    PAGE_DOWN_KEY: 34,\n};\n\nvar ObjectsInConfig = ['fuseOptions', 'classNames'];\n\nvar PassedElementTypes = {\n    Text: 'text',\n    SelectOne: 'select-one',\n    SelectMultiple: 'select-multiple',\n};\n\nvar addChoice = function (choice) { return ({\n    type: ActionType.ADD_CHOICE,\n    choice: choice,\n}); };\nvar removeChoice = function (choice) { return ({\n    type: ActionType.REMOVE_CHOICE,\n    choice: choice,\n}); };\nvar filterChoices = function (results) { return ({\n    type: ActionType.FILTER_CHOICES,\n    results: results,\n}); };\nvar activateChoices = function (active) {\n    return ({\n        type: ActionType.ACTIVATE_CHOICES,\n        active: active,\n    });\n};\n\nvar addGroup = function (group) { return ({\n    type: ActionType.ADD_GROUP,\n    group: group,\n}); };\n\nvar addItem = function (item) { return ({\n    type: ActionType.ADD_ITEM,\n    item: item,\n}); };\nvar removeItem$1 = function (item) { return ({\n    type: ActionType.REMOVE_ITEM,\n    item: item,\n}); };\nvar highlightItem = function (item, highlighted) { return ({\n    type: ActionType.HIGHLIGHT_ITEM,\n    item: item,\n    highlighted: highlighted,\n}); };\n\nvar getRandomNumber = function (min, max) { return Math.floor(Math.random() * (max - min) + min); };\nvar generateChars = function (length) {\n    return Array.from({ length: length }, function () { return getRandomNumber(0, 36).toString(36); }).join('');\n};\nvar generateId = function (element, prefix) {\n    var id = element.id || (element.name && \"\".concat(element.name, \"-\").concat(generateChars(2))) || generateChars(4);\n    id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n    id = \"\".concat(prefix, \"-\").concat(id);\n    return id;\n};\nvar getAdjacentEl = function (startEl, selector, direction) {\n    if (direction === void 0) { direction = 1; }\n    var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n    var sibling = startEl[prop];\n    while (sibling) {\n        if (sibling.matches(selector)) {\n            return sibling;\n        }\n        sibling = sibling[prop];\n    }\n    return null;\n};\nvar isScrolledIntoView = function (element, parent, direction) {\n    if (direction === void 0) { direction = 1; }\n    var isVisible;\n    if (direction > 0) {\n        // In view from bottom\n        isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n    }\n    else {\n        // In view from top\n        isVisible = element.offsetTop >= parent.scrollTop;\n    }\n    return isVisible;\n};\nvar sanitise = function (value) {\n    if (typeof value !== 'string') {\n        if (value === null || value === undefined) {\n            return '';\n        }\n        if (typeof value === 'object') {\n            if ('raw' in value) {\n                return sanitise(value.raw);\n            }\n            if ('trusted' in value) {\n                return value.trusted;\n            }\n        }\n        return value;\n    }\n    return value\n        .replace(/&/g, '&amp;')\n        .replace(/>/g, '&gt;')\n        .replace(/</g, '&lt;')\n        .replace(/'/g, '&#039;')\n        .replace(/\"/g, '&quot;');\n};\nvar strToEl = (function () {\n    var tmpEl = document.createElement('div');\n    return function (str) {\n        tmpEl.innerHTML = str.trim();\n        var firstChild = tmpEl.children[0];\n        while (tmpEl.firstChild) {\n            tmpEl.removeChild(tmpEl.firstChild);\n        }\n        return firstChild;\n    };\n})();\nvar resolveNoticeFunction = function (fn, value) {\n    return typeof fn === 'function' ? fn(sanitise(value), value) : fn;\n};\nvar resolveStringFunction = function (fn) {\n    return typeof fn === 'function' ? fn() : fn;\n};\nvar unwrapStringForRaw = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n        if ('raw' in s) {\n            return s.raw;\n        }\n    }\n    return '';\n};\nvar unwrapStringForEscaped = function (s) {\n    if (typeof s === 'string') {\n        return s;\n    }\n    if (typeof s === 'object') {\n        if ('escaped' in s) {\n            return s.escaped;\n        }\n        if ('trusted' in s) {\n            return s.trusted;\n        }\n    }\n    return '';\n};\nvar escapeForTemplate = function (allowHTML, s) {\n    return allowHTML ? unwrapStringForEscaped(s) : sanitise(s);\n};\nvar setElementHtml = function (el, allowHtml, html) {\n    el.innerHTML = escapeForTemplate(allowHtml, html);\n};\nvar sortByAlpha = function (_a, _b) {\n    var value = _a.value, _c = _a.label, label = _c === void 0 ? value : _c;\n    var value2 = _b.value, _d = _b.label, label2 = _d === void 0 ? value2 : _d;\n    return unwrapStringForRaw(label).localeCompare(unwrapStringForRaw(label2), [], {\n        sensitivity: 'base',\n        ignorePunctuation: true,\n        numeric: true,\n    });\n};\nvar sortByRank = function (a, b) {\n    return a.rank - b.rank;\n};\nvar dispatchEvent = function (element, type, customArgs) {\n    if (customArgs === void 0) { customArgs = null; }\n    var event = new CustomEvent(type, {\n        detail: customArgs,\n        bubbles: true,\n        cancelable: true,\n    });\n    return element.dispatchEvent(event);\n};\n/**\n * Returns an array of keys present on the first but missing on the second object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar diff = function (a, b) {\n    var aKeys = Object.keys(a).sort();\n    var bKeys = Object.keys(b).sort();\n    return aKeys.filter(function (i) { return bKeys.indexOf(i) < 0; });\n};\nvar getClassNames = function (ClassNames) {\n    return Array.isArray(ClassNames) ? ClassNames : [ClassNames];\n};\nvar getClassNamesSelector = function (option) {\n    if (option && Array.isArray(option)) {\n        return option\n            .map(function (item) {\n            return \".\".concat(item);\n        })\n            .join('');\n    }\n    return \".\".concat(option);\n};\nvar addClassesToElement = function (element, className) {\n    var _a;\n    (_a = element.classList).add.apply(_a, getClassNames(className));\n};\nvar removeClassesFromElement = function (element, className) {\n    var _a;\n    (_a = element.classList).remove.apply(_a, getClassNames(className));\n};\nvar parseCustomProperties = function (customProperties) {\n    if (typeof customProperties !== 'undefined') {\n        try {\n            return JSON.parse(customProperties);\n        }\n        catch (e) {\n            return customProperties;\n        }\n    }\n    return {};\n};\nvar updateClassList = function (item, add, remove) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        removeClassesFromElement(itemEl, remove);\n        addClassesToElement(itemEl, add);\n    }\n};\n\nvar Dropdown = /** @class */ (function () {\n    function Dropdown(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.isActive = false;\n    }\n    /**\n     * Show dropdown to user by adding active state class\n     */\n    Dropdown.prototype.show = function () {\n        addClassesToElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isActive = true;\n        return this;\n    };\n    /**\n     * Hide dropdown from user\n     */\n    Dropdown.prototype.hide = function () {\n        removeClassesFromElement(this.element, this.classNames.activeState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.isActive = false;\n        return this;\n    };\n    return Dropdown;\n}());\n\nvar Container = /** @class */ (function () {\n    function Container(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, position = _a.position;\n        this.element = element;\n        this.classNames = classNames;\n        this.type = type;\n        this.position = position;\n        this.isOpen = false;\n        this.isFlipped = false;\n        this.isDisabled = false;\n        this.isLoading = false;\n    }\n    /**\n     * Determine whether container should be flipped based on passed\n     * dropdown position\n     */\n    Container.prototype.shouldFlip = function (dropdownPos, dropdownHeight) {\n        // If flip is enabled and the dropdown bottom position is\n        // greater than the window height flip the dropdown.\n        var shouldFlip = false;\n        if (this.position === 'auto') {\n            shouldFlip =\n                this.element.getBoundingClientRect().top - dropdownHeight >= 0 &&\n                    !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n        }\n        else if (this.position === 'top') {\n            shouldFlip = true;\n        }\n        return shouldFlip;\n    };\n    Container.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Container.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Container.prototype.open = function (dropdownPos, dropdownHeight) {\n        addClassesToElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'true');\n        this.isOpen = true;\n        if (this.shouldFlip(dropdownPos, dropdownHeight)) {\n            addClassesToElement(this.element, this.classNames.flippedState);\n            this.isFlipped = true;\n        }\n    };\n    Container.prototype.close = function () {\n        removeClassesFromElement(this.element, this.classNames.openState);\n        this.element.setAttribute('aria-expanded', 'false');\n        this.removeActiveDescendant();\n        this.isOpen = false;\n        // A dropdown flips if it does not have space within the page\n        if (this.isFlipped) {\n            removeClassesFromElement(this.element, this.classNames.flippedState);\n            this.isFlipped = false;\n        }\n    };\n    Container.prototype.addFocusState = function () {\n        addClassesToElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.removeFocusState = function () {\n        removeClassesFromElement(this.element, this.classNames.focusState);\n    };\n    Container.prototype.enable = function () {\n        removeClassesFromElement(this.element, this.classNames.disabledState);\n        this.element.removeAttribute('aria-disabled');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '0');\n        }\n        this.isDisabled = false;\n    };\n    Container.prototype.disable = function () {\n        addClassesToElement(this.element, this.classNames.disabledState);\n        this.element.setAttribute('aria-disabled', 'true');\n        if (this.type === PassedElementTypes.SelectOne) {\n            this.element.setAttribute('tabindex', '-1');\n        }\n        this.isDisabled = true;\n    };\n    Container.prototype.wrap = function (element) {\n        var el = this.element;\n        var parentNode = element.parentNode;\n        if (parentNode) {\n            if (element.nextSibling) {\n                parentNode.insertBefore(el, element.nextSibling);\n            }\n            else {\n                parentNode.appendChild(el);\n            }\n        }\n        el.appendChild(element);\n    };\n    Container.prototype.unwrap = function (element) {\n        var el = this.element;\n        var parentNode = el.parentNode;\n        if (parentNode) {\n            // Move passed element outside this element\n            parentNode.insertBefore(element, el);\n            // Remove this element\n            parentNode.removeChild(el);\n        }\n    };\n    Container.prototype.addLoadingState = function () {\n        addClassesToElement(this.element, this.classNames.loadingState);\n        this.element.setAttribute('aria-busy', 'true');\n        this.isLoading = true;\n    };\n    Container.prototype.removeLoadingState = function () {\n        removeClassesFromElement(this.element, this.classNames.loadingState);\n        this.element.removeAttribute('aria-busy');\n        this.isLoading = false;\n    };\n    return Container;\n}());\n\nvar Input = /** @class */ (function () {\n    function Input(_a) {\n        var element = _a.element, type = _a.type, classNames = _a.classNames, preventPaste = _a.preventPaste;\n        this.element = element;\n        this.type = type;\n        this.classNames = classNames;\n        this.preventPaste = preventPaste;\n        this.isFocussed = this.element.isEqualNode(document.activeElement);\n        this.isDisabled = element.disabled;\n        this._onPaste = this._onPaste.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n    }\n    Object.defineProperty(Input.prototype, \"placeholder\", {\n        set: function (placeholder) {\n            this.element.placeholder = placeholder;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Input.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Input.prototype.addEventListeners = function () {\n        var el = this.element;\n        el.addEventListener('paste', this._onPaste);\n        el.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        el.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        el.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n    };\n    Input.prototype.removeEventListeners = function () {\n        var el = this.element;\n        el.removeEventListener('input', this._onInput);\n        el.removeEventListener('paste', this._onPaste);\n        el.removeEventListener('focus', this._onFocus);\n        el.removeEventListener('blur', this._onBlur);\n    };\n    Input.prototype.enable = function () {\n        var el = this.element;\n        el.removeAttribute('disabled');\n        this.isDisabled = false;\n    };\n    Input.prototype.disable = function () {\n        var el = this.element;\n        el.setAttribute('disabled', '');\n        this.isDisabled = true;\n    };\n    Input.prototype.focus = function () {\n        if (!this.isFocussed) {\n            this.element.focus();\n        }\n    };\n    Input.prototype.blur = function () {\n        if (this.isFocussed) {\n            this.element.blur();\n        }\n    };\n    Input.prototype.clear = function (setWidth) {\n        if (setWidth === void 0) { setWidth = true; }\n        this.element.value = '';\n        if (setWidth) {\n            this.setWidth();\n        }\n        return this;\n    };\n    /**\n     * Set the correct input width based on placeholder\n     * value or input value\n     */\n    Input.prototype.setWidth = function () {\n        // Resize input to contents or placeholder\n        var element = this.element;\n        element.style.minWidth = \"\".concat(element.placeholder.length + 1, \"ch\");\n        element.style.width = \"\".concat(element.value.length + 1, \"ch\");\n    };\n    Input.prototype.setActiveDescendant = function (activeDescendantID) {\n        this.element.setAttribute('aria-activedescendant', activeDescendantID);\n    };\n    Input.prototype.removeActiveDescendant = function () {\n        this.element.removeAttribute('aria-activedescendant');\n    };\n    Input.prototype._onInput = function () {\n        if (this.type !== PassedElementTypes.SelectOne) {\n            this.setWidth();\n        }\n    };\n    Input.prototype._onPaste = function (event) {\n        if (this.preventPaste) {\n            event.preventDefault();\n        }\n    };\n    Input.prototype._onFocus = function () {\n        this.isFocussed = true;\n    };\n    Input.prototype._onBlur = function () {\n        this.isFocussed = false;\n    };\n    return Input;\n}());\n\nvar SCROLLING_SPEED = 4;\n\nvar List = /** @class */ (function () {\n    function List(_a) {\n        var element = _a.element;\n        this.element = element;\n        this.scrollPos = this.element.scrollTop;\n        this.height = this.element.offsetHeight;\n    }\n    List.prototype.prepend = function (node) {\n        var child = this.element.firstElementChild;\n        if (child) {\n            this.element.insertBefore(node, child);\n        }\n        else {\n            this.element.append(node);\n        }\n    };\n    List.prototype.scrollToTop = function () {\n        this.element.scrollTop = 0;\n    };\n    List.prototype.scrollToChildElement = function (element, direction) {\n        var _this = this;\n        if (!element) {\n            return;\n        }\n        var listHeight = this.element.offsetHeight;\n        // Scroll position of dropdown\n        var listScrollPosition = this.element.scrollTop + listHeight;\n        var elementHeight = element.offsetHeight;\n        // Distance from bottom of element to top of parent\n        var elementPos = element.offsetTop + elementHeight;\n        // Difference between the element and scroll position\n        var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n        requestAnimationFrame(function () {\n            _this._animateScroll(destination, direction);\n        });\n    };\n    List.prototype._scrollDown = function (scrollPos, strength, destination) {\n        var easing = (destination - scrollPos) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos + distance;\n    };\n    List.prototype._scrollUp = function (scrollPos, strength, destination) {\n        var easing = (scrollPos - destination) / strength;\n        var distance = easing > 1 ? easing : 1;\n        this.element.scrollTop = scrollPos - distance;\n    };\n    List.prototype._animateScroll = function (destination, direction) {\n        var _this = this;\n        var strength = SCROLLING_SPEED;\n        var choiceListScrollTop = this.element.scrollTop;\n        var continueAnimation = false;\n        if (direction > 0) {\n            this._scrollDown(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop < destination) {\n                continueAnimation = true;\n            }\n        }\n        else {\n            this._scrollUp(choiceListScrollTop, strength, destination);\n            if (choiceListScrollTop > destination) {\n                continueAnimation = true;\n            }\n        }\n        if (continueAnimation) {\n            requestAnimationFrame(function () {\n                _this._animateScroll(destination, direction);\n            });\n        }\n    };\n    return List;\n}());\n\nvar WrappedElement = /** @class */ (function () {\n    function WrappedElement(_a) {\n        var element = _a.element, classNames = _a.classNames;\n        this.element = element;\n        this.classNames = classNames;\n        this.isDisabled = false;\n    }\n    Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n        get: function () {\n            return this.element.dataset.choice === 'active';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"dir\", {\n        get: function () {\n            return this.element.dir;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(WrappedElement.prototype, \"value\", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.setAttribute('value', value);\n            this.element.value = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedElement.prototype.conceal = function () {\n        var el = this.element;\n        // Hide passed input\n        addClassesToElement(el, this.classNames.input);\n        el.hidden = true;\n        // Remove element from tab index\n        el.tabIndex = -1;\n        // Backup original styles if any\n        var origStyle = el.getAttribute('style');\n        if (origStyle) {\n            el.setAttribute('data-choice-orig-style', origStyle);\n        }\n        el.setAttribute('data-choice', 'active');\n    };\n    WrappedElement.prototype.reveal = function () {\n        var el = this.element;\n        // Reinstate passed element\n        removeClassesFromElement(el, this.classNames.input);\n        el.hidden = false;\n        el.removeAttribute('tabindex');\n        // Recover original styles if any\n        var origStyle = el.getAttribute('data-choice-orig-style');\n        if (origStyle) {\n            el.removeAttribute('data-choice-orig-style');\n            el.setAttribute('style', origStyle);\n        }\n        else {\n            el.removeAttribute('style');\n        }\n        el.removeAttribute('data-choice');\n    };\n    WrappedElement.prototype.enable = function () {\n        this.element.removeAttribute('disabled');\n        this.element.disabled = false;\n        this.isDisabled = false;\n    };\n    WrappedElement.prototype.disable = function () {\n        this.element.setAttribute('disabled', '');\n        this.element.disabled = true;\n        this.isDisabled = true;\n    };\n    WrappedElement.prototype.triggerEvent = function (eventType, data) {\n        dispatchEvent(this.element, eventType, data || {});\n    };\n    return WrappedElement;\n}());\n\nvar WrappedInput = /** @class */ (function (_super) {\n    __extends(WrappedInput, _super);\n    function WrappedInput() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return WrappedInput;\n}(WrappedElement));\n\nvar coerceBool = function (arg, defaultValue) {\n    if (defaultValue === void 0) { defaultValue = true; }\n    return typeof arg === 'undefined' ? defaultValue : !!arg;\n};\nvar stringToHtmlClass = function (input) {\n    if (typeof input === 'string') {\n        // eslint-disable-next-line no-param-reassign\n        input = input.split(' ').filter(function (s) { return s.length; });\n    }\n    if (Array.isArray(input) && input.length) {\n        return input;\n    }\n    return undefined;\n};\nvar mapInputToChoice = function (value, allowGroup, allowRawString) {\n    if (allowRawString === void 0) { allowRawString = true; }\n    if (typeof value === 'string') {\n        var sanitisedValue = sanitise(value);\n        var userValue = allowRawString || sanitisedValue === value ? value : { escaped: sanitisedValue, raw: value };\n        var result_1 = mapInputToChoice({\n            value: value,\n            label: userValue,\n            selected: true,\n        }, false);\n        return result_1;\n    }\n    var groupOrChoice = value;\n    if ('choices' in groupOrChoice) {\n        if (!allowGroup) {\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup\n            throw new TypeError(\"optGroup is not allowed\");\n        }\n        var group = groupOrChoice;\n        var choices = group.choices.map(function (e) { return mapInputToChoice(e, false); });\n        var result_2 = {\n            id: 0, // actual ID will be assigned during _addGroup\n            label: unwrapStringForRaw(group.label) || group.value,\n            active: !!choices.length,\n            disabled: !!group.disabled,\n            choices: choices,\n        };\n        return result_2;\n    }\n    var choice = groupOrChoice;\n    var result = {\n        id: 0, // actual ID will be assigned during _addChoice\n        group: null, // actual group will be assigned during _addGroup but before _addChoice\n        score: 0, // used in search\n        rank: 0, // used in search, stable sort order\n        value: choice.value,\n        label: choice.label || choice.value,\n        active: coerceBool(choice.active),\n        selected: coerceBool(choice.selected, false),\n        disabled: coerceBool(choice.disabled, false),\n        placeholder: coerceBool(choice.placeholder, false),\n        highlighted: false,\n        labelClass: stringToHtmlClass(choice.labelClass),\n        labelDescription: choice.labelDescription,\n        customProperties: choice.customProperties,\n    };\n    return result;\n};\n\nvar isHtmlInputElement = function (e) { return e.tagName === 'INPUT'; };\nvar isHtmlSelectElement = function (e) { return e.tagName === 'SELECT'; };\nvar isHtmlOption = function (e) { return e.tagName === 'OPTION'; };\nvar isHtmlOptgroup = function (e) { return e.tagName === 'OPTGROUP'; };\n\nvar WrappedSelect = /** @class */ (function (_super) {\n    __extends(WrappedSelect, _super);\n    function WrappedSelect(_a) {\n        var element = _a.element, classNames = _a.classNames, template = _a.template, extractPlaceholder = _a.extractPlaceholder;\n        var _this = _super.call(this, { element: element, classNames: classNames }) || this;\n        _this.template = template;\n        _this.extractPlaceholder = extractPlaceholder;\n        return _this;\n    }\n    Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n        get: function () {\n            return (this.element.querySelector('option[value=\"\"]') ||\n                // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n                this.element.querySelector('option[placeholder]'));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WrappedSelect.prototype.addOptions = function (choices) {\n        var _this = this;\n        var fragment = document.createDocumentFragment();\n        choices.forEach(function (obj) {\n            var choice = obj;\n            if (choice.element) {\n                return;\n            }\n            var option = _this.template(choice);\n            fragment.appendChild(option);\n            choice.element = option;\n        });\n        this.element.appendChild(fragment);\n    };\n    WrappedSelect.prototype.optionsAsChoices = function () {\n        var _this = this;\n        var choices = [];\n        this.element.querySelectorAll(':scope > option, :scope > optgroup').forEach(function (e) {\n            if (isHtmlOption(e)) {\n                choices.push(_this._optionToChoice(e));\n            }\n            else if (isHtmlOptgroup(e)) {\n                choices.push(_this._optgroupToChoice(e));\n            }\n            // todo: hr as empty optgroup, requires displaying empty opt-groups to be useful\n        });\n        return choices;\n    };\n    // eslint-disable-next-line class-methods-use-this\n    WrappedSelect.prototype._optionToChoice = function (option) {\n        // option.value returns the label if there is no value attribute, which can break legacy placeholder attribute support\n        if (!option.hasAttribute('value') && option.hasAttribute('placeholder')) {\n            option.setAttribute('value', '');\n            option.value = '';\n        }\n        return {\n            id: 0,\n            group: null,\n            score: 0,\n            rank: 0,\n            value: option.value,\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option\n            // This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content (ie `innerText`).\n            label: option.label,\n            element: option,\n            active: true,\n            // this returns true if nothing is selected on initial load, which will break placeholder support\n            selected: this.extractPlaceholder ? option.selected : option.hasAttribute('selected'),\n            disabled: option.disabled,\n            highlighted: false,\n            placeholder: this.extractPlaceholder && (!option.value || option.hasAttribute('placeholder')),\n            labelClass: typeof option.dataset.labelClass !== 'undefined' ? stringToHtmlClass(option.dataset.labelClass) : undefined,\n            labelDescription: typeof option.dataset.labelDescription !== 'undefined' ? option.dataset.labelDescription : undefined,\n            customProperties: parseCustomProperties(option.dataset.customProperties),\n        };\n    };\n    WrappedSelect.prototype._optgroupToChoice = function (optgroup) {\n        var _this = this;\n        var options = optgroup.querySelectorAll('option');\n        var choices = Array.from(options).map(function (option) { return _this._optionToChoice(option); });\n        return {\n            id: 0,\n            label: optgroup.label || '',\n            element: optgroup,\n            active: !!choices.length,\n            disabled: optgroup.disabled,\n            choices: choices,\n        };\n    };\n    return WrappedSelect;\n}(WrappedElement));\n\nvar DEFAULT_CLASSNAMES = {\n    containerOuter: ['choices'],\n    containerInner: ['choices__inner'],\n    input: ['choices__input'],\n    inputCloned: ['choices__input--cloned'],\n    list: ['choices__list'],\n    listItems: ['choices__list--multiple'],\n    listSingle: ['choices__list--single'],\n    listDropdown: ['choices__list--dropdown'],\n    item: ['choices__item'],\n    itemSelectable: ['choices__item--selectable'],\n    itemDisabled: ['choices__item--disabled'],\n    itemChoice: ['choices__item--choice'],\n    description: ['choices__description'],\n    placeholder: ['choices__placeholder'],\n    group: ['choices__group'],\n    groupHeading: ['choices__heading'],\n    button: ['choices__button'],\n    activeState: ['is-active'],\n    focusState: ['is-focused'],\n    openState: ['is-open'],\n    disabledState: ['is-disabled'],\n    highlightedState: ['is-highlighted'],\n    selectedState: ['is-selected'],\n    flippedState: ['is-flipped'],\n    loadingState: ['is-loading'],\n    notice: ['choices__notice'],\n    addChoice: ['choices__item--selectable', 'add-choice'],\n    noResults: ['has-no-results'],\n    noChoices: ['has-no-choices'],\n};\nvar DEFAULT_CONFIG = {\n    items: [],\n    choices: [],\n    silent: false,\n    renderChoiceLimit: -1,\n    maxItemCount: -1,\n    closeDropdownOnSelect: 'auto',\n    singleModeForMultiSelect: false,\n    addChoices: false,\n    addItems: true,\n    addItemFilter: function (value) { return !!value && value !== ''; },\n    removeItems: true,\n    removeItemButton: false,\n    removeItemButtonAlignLeft: false,\n    editItems: false,\n    allowHTML: false,\n    allowHtmlUserInput: false,\n    duplicateItemsAllowed: true,\n    delimiter: ',',\n    paste: true,\n    searchEnabled: true,\n    searchChoices: true,\n    searchFloor: 1,\n    searchResultLimit: 4,\n    searchFields: ['label', 'value'],\n    position: 'auto',\n    resetScrollPosition: true,\n    shouldSort: true,\n    shouldSortItems: false,\n    sorter: sortByAlpha,\n    shadowRoot: null,\n    placeholder: true,\n    placeholderValue: null,\n    searchPlaceholderValue: null,\n    prependValue: null,\n    appendValue: null,\n    renderSelectedChoices: 'auto',\n    loadingText: 'Loading...',\n    noResultsText: 'No results found',\n    noChoicesText: 'No choices to choose from',\n    itemSelectText: 'Press to select',\n    uniqueItemText: 'Only unique values can be added',\n    customAddItemText: 'Only values matching specific conditions can be added',\n    addItemText: function (value) { return \"Press Enter to add <b>\\\"\".concat(value, \"\\\"</b>\"); },\n    removeItemIconText: function () { return \"Remove item\"; },\n    removeItemLabelText: function (value) { return \"Remove item: \".concat(value); },\n    maxItemText: function (maxItemCount) { return \"Only \".concat(maxItemCount, \" values can be added\"); },\n    valueComparer: function (value1, value2) { return value1 === value2; },\n    fuseOptions: {\n        includeScore: true,\n    },\n    labelId: '',\n    callbackOnInit: null,\n    callbackOnCreateTemplates: null,\n    classNames: DEFAULT_CLASSNAMES,\n    appendGroupInSearch: false,\n};\n\nvar removeItem = function (item) {\n    var itemEl = item.itemEl;\n    if (itemEl) {\n        itemEl.remove();\n        item.itemEl = undefined;\n    }\n};\nfunction items(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_ITEM: {\n            action.item.selected = true;\n            var el = action.item.element;\n            if (el) {\n                el.selected = true;\n                el.setAttribute('selected', '');\n            }\n            state.push(action.item);\n            break;\n        }\n        case ActionType.REMOVE_ITEM: {\n            action.item.selected = false;\n            var el = action.item.element;\n            if (el) {\n                el.selected = false;\n                el.removeAttribute('selected');\n                // For a select-one, if all options are deselected, the first item is selected. To set a black value, select.value needs to be set\n                var select = el.parentElement;\n                if (select && isHtmlSelectElement(select) && select.type === PassedElementTypes.SelectOne) {\n                    select.value = '';\n                }\n            }\n            // this is mixing concerns, but this is *so much faster*\n            removeItem(action.item);\n            state = state.filter(function (choice) { return choice.id !== action.item.id; });\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            removeItem(action.choice);\n            state = state.filter(function (item) { return item.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.HIGHLIGHT_ITEM: {\n            var highlighted = action.highlighted;\n            var item = state.find(function (obj) { return obj.id === action.item.id; });\n            if (item && item.highlighted !== highlighted) {\n                item.highlighted = highlighted;\n                if (context) {\n                    updateClassList(item, highlighted ? context.classNames.highlightedState : context.classNames.selectedState, highlighted ? context.classNames.selectedState : context.classNames.highlightedState);\n                }\n            }\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nfunction groups(s, action) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_GROUP: {\n            state.push(action.group);\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\n/* eslint-disable */\nfunction choices(s, action, context) {\n    var state = s;\n    var update = true;\n    switch (action.type) {\n        case ActionType.ADD_CHOICE: {\n            state.push(action.choice);\n            break;\n        }\n        case ActionType.REMOVE_CHOICE: {\n            action.choice.choiceEl = undefined;\n            if (action.choice.group) {\n                action.choice.group.choices = action.choice.group.choices.filter(function (obj) { return obj.id !== action.choice.id; });\n            }\n            state = state.filter(function (obj) { return obj.id !== action.choice.id; });\n            break;\n        }\n        case ActionType.ADD_ITEM:\n        case ActionType.REMOVE_ITEM: {\n            action.item.choiceEl = undefined;\n            break;\n        }\n        case ActionType.FILTER_CHOICES: {\n            // avoid O(n^2) algorithm complexity when searching/filtering choices\n            var scoreLookup_1 = [];\n            action.results.forEach(function (result) {\n                scoreLookup_1[result.item.id] = result;\n            });\n            state.forEach(function (choice) {\n                var result = scoreLookup_1[choice.id];\n                if (result !== undefined) {\n                    choice.score = result.score;\n                    choice.rank = result.rank;\n                    choice.active = true;\n                }\n                else {\n                    choice.score = 0;\n                    choice.rank = 0;\n                    choice.active = false;\n                }\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.ACTIVATE_CHOICES: {\n            state.forEach(function (choice) {\n                choice.active = action.active;\n                if (context && context.appendGroupInSearch) {\n                    choice.choiceEl = undefined;\n                }\n            });\n            break;\n        }\n        case ActionType.CLEAR_CHOICES: {\n            state = [];\n            break;\n        }\n        default: {\n            update = false;\n            break;\n        }\n    }\n    return { state: state, update: update };\n}\n\nvar reducers = {\n    groups: groups,\n    items: items,\n    choices: choices,\n};\nvar Store = /** @class */ (function () {\n    function Store(context) {\n        this._state = this.defaultState;\n        this._listeners = [];\n        this._txn = 0;\n        this._context = context;\n    }\n    Object.defineProperty(Store.prototype, \"defaultState\", {\n        // eslint-disable-next-line class-methods-use-this\n        get: function () {\n            return {\n                groups: [],\n                items: [],\n                choices: [],\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // eslint-disable-next-line class-methods-use-this\n    Store.prototype.changeSet = function (init) {\n        return {\n            groups: init,\n            items: init,\n            choices: init,\n        };\n    };\n    Store.prototype.reset = function () {\n        this._state = this.defaultState;\n        var changes = this.changeSet(true);\n        if (this._txn) {\n            this._changeSet = changes;\n        }\n        else {\n            this._listeners.forEach(function (l) { return l(changes); });\n        }\n    };\n    Store.prototype.subscribe = function (onChange) {\n        this._listeners.push(onChange);\n        return this;\n    };\n    Store.prototype.dispatch = function (action) {\n        var _this = this;\n        var state = this._state;\n        var hasChanges = false;\n        var changes = this._changeSet || this.changeSet(false);\n        Object.keys(reducers).forEach(function (key) {\n            var stateUpdate = reducers[key](state[key], action, _this._context);\n            if (stateUpdate.update) {\n                hasChanges = true;\n                changes[key] = true;\n                state[key] = stateUpdate.state;\n            }\n        });\n        if (hasChanges) {\n            if (this._txn) {\n                this._changeSet = changes;\n            }\n            else {\n                this._listeners.forEach(function (l) { return l(changes); });\n            }\n        }\n    };\n    Store.prototype.withTxn = function (func) {\n        this._txn++;\n        try {\n            func();\n        }\n        finally {\n            this._txn = Math.max(0, this._txn - 1);\n            if (!this._txn) {\n                var changeSet_1 = this._changeSet;\n                if (changeSet_1) {\n                    this._changeSet = undefined;\n                    this._listeners.forEach(function (l) { return l(changeSet_1); });\n                }\n            }\n        }\n    };\n    Object.defineProperty(Store.prototype, \"state\", {\n        /**\n         * Get store object\n         */\n        get: function () {\n            return this._state;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"items\", {\n        /**\n         * Get items from store\n         */\n        get: function () {\n            return this.state.items;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n        /**\n         * Get highlighted items from store\n         */\n        get: function () {\n            return this.items.filter(function (item) { return item.active && item.highlighted; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"choices\", {\n        /**\n         * Get choices from store\n         */\n        get: function () {\n            return this.state.choices;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeChoices\", {\n        /**\n         * Get active choices from store\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return choice.active; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"searchableChoices\", {\n        /**\n         * Get choices that can be searched (excluding placeholders or disabled choices)\n         */\n        get: function () {\n            return this.choices.filter(function (choice) { return !choice.disabled && !choice.placeholder; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"groups\", {\n        /**\n         * Get groups from store\n         */\n        get: function () {\n            return this.state.groups;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"activeGroups\", {\n        /**\n         * Get active groups from store\n         */\n        get: function () {\n            var _this = this;\n            return this.state.groups.filter(function (group) {\n                var isActive = group.active && !group.disabled;\n                var hasActiveOptions = _this.state.choices.some(function (choice) { return choice.active && !choice.disabled; });\n                return isActive && hasActiveOptions;\n            }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Store.prototype.inTxn = function () {\n        return this._txn > 0;\n    };\n    /**\n     * Get single choice by it's ID\n     */\n    Store.prototype.getChoiceById = function (id) {\n        return this.activeChoices.find(function (choice) { return choice.id === id; });\n    };\n    /**\n     * Get group by group id\n     */\n    Store.prototype.getGroupById = function (id) {\n        return this.groups.find(function (group) { return group.id === id; });\n    };\n    return Store;\n}());\n\nvar NoticeTypes = {\n    noChoices: 'no-choices',\n    noResults: 'no-results',\n    addChoice: 'add-choice',\n    generic: '',\n};\n\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\n\n/**\n * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2023 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n}\nfunction isObject(value) {\n  return typeof value === 'object';\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null;\n}\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\nfunction isBlank(value) {\n  return !value.trim().length;\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n}\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = key => `Invalid value for key ${key}`;\nconst PATTERN_LENGTH_TOO_LARGE = max => `Pattern length exceeds max of ${max}.`;\nconst MISSING_KEY_PROPERTY = name => `Missing ${name} property in key`;\nconst INVALID_KEY_WEIGHT_VALUE = key => `Property 'weight' in key '${key}' must be a positive integer`;\nconst hasOwn = Object.prototype.hasOwnProperty;\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n    let totalWeight = 0;\n    keys.forEach(key => {\n      let obj = createKey(key);\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach(key => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId];\n  }\n  keys() {\n    return this._keys;\n  }\n  toJSON() {\n    return JSON.stringify(this._keys);\n  }\n}\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'));\n    }\n    const name = key.name;\n    src = name;\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n      }\n    }\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n  return {\n    path,\n    id,\n    weight,\n    src,\n    getFn\n  };\n}\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.');\n}\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key;\n}\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return;\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n      const value = obj[key];\n      if (!isDefined(value)) {\n        return;\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n  return arr ? list : list[0];\n}\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1\n};\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\nvar Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens);\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n      cache.set(numTokens, n);\n      return n;\n    },\n    clear() {\n      cache.clear();\n    }\n  };\n}\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return;\n    }\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]];\n  }\n  size() {\n    return this.records.length;\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return;\n    }\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = {\n      i: docIndex,\n      $: {}\n    };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n      if (!isDefined(value)) {\n        return;\n      }\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{\n          nestedArrIndex: -1,\n          value\n        }];\n        while (stack.length) {\n          const {\n            nestedArrIndex,\n            value\n          } = stack.pop();\n          if (!isDefined(value)) {\n            continue;\n          }\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n        record.$[keyIndex] = subRecord;\n      }\n    });\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    };\n  }\n}\nfunction createIndex(keys, docs, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex;\n}\nfunction parseIndex(data, {\n  getFn = Config.getFn,\n  fieldNormWeight = Config.fieldNormWeight\n} = {}) {\n  const {\n    keys,\n    records\n  } = data;\n  const myIndex = new FuseIndex({\n    getFn,\n    fieldNormWeight\n  });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex;\n}\nfunction computeScore$1(pattern, {\n  errors = 0,\n  currentLocation = 0,\n  expectedLocation = 0,\n  distance = Config.distance,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  const accuracy = errors / pattern.length;\n  if (ignoreLocation) {\n    return accuracy;\n  }\n  const proximity = Math.abs(expectedLocation - currentLocation);\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n  return accuracy + proximity / distance;\n}\nfunction convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n  return indices;\n}\n\n// Machine word size\nconst MAX_BITS = 32;\nfunction search(text, pattern, patternAlphabet, {\n  location = Config.location,\n  distance = Config.distance,\n  threshold = Config.threshold,\n  findAllMatches = Config.findAllMatches,\n  minMatchCharLength = Config.minMatchCharLength,\n  includeMatches = Config.includeMatches,\n  ignoreLocation = Config.ignoreLocation\n} = {}) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n  }\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n  const mask = 1 << patternLen - 1;\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n    bitArr[finish + 1] = (1 << i) - 1;\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break;\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n    if (score > currentThreshold) {\n      break;\n    }\n    lastBitArr = bitArr;\n  }\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n  return result;\n}\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n  }\n  return mask;\n}\nclass BitapSearch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.chunks = [];\n    if (!this.pattern.length) {\n      return;\n    }\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n    const len = this.pattern.length;\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n  searchIn(text) {\n    const {\n      isCaseSensitive,\n      includeMatches\n    } = this.options;\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n      return result;\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n    this.chunks.forEach(({\n      pattern,\n      alphabet,\n      startIndex\n    }) => {\n      const {\n        isMatch,\n        score,\n        indices\n      } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n      if (isMatch) {\n        hasMatches = true;\n      }\n      totalScore += score;\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n    return result;\n  }\n}\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex);\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex);\n  }\n  search( /*text*/) {}\n}\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null;\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact';\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^=(.*)$/;\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)$/;\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact';\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    };\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact';\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/;\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    };\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact';\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/;\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/;\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    };\n  }\n}\nclass FuzzyMatch extends BaseMatch {\n  constructor(pattern, {\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance,\n    includeMatches = Config.includeMatches,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    isCaseSensitive = Config.isCaseSensitive,\n    ignoreLocation = Config.ignoreLocation\n  } = {}) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy';\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^(.*)$/;\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text);\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include';\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/;\n  }\n  static get singleRegex() {\n    return /^'(.*)$/;\n  }\n  search(text) {\n    let location = 0;\n    let index;\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n    const isMatch = !!indices.length;\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    };\n  }\n}\n\n// ❗Order is important. DO NOT CHANGE.\nconst searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map(item => {\n    let query = item.trim().split(SPACE_RE).filter(item => item && !!item.trim());\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n      if (found) {\n        continue;\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break;\n        }\n      }\n    }\n    return results;\n  });\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(pattern, {\n    isCaseSensitive = Config.isCaseSensitive,\n    includeMatches = Config.includeMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    ignoreLocation = Config.ignoreLocation,\n    findAllMatches = Config.findAllMatches,\n    location = Config.location,\n    threshold = Config.threshold,\n    distance = Config.distance\n  } = {}) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n  static condition(_, options) {\n    return options.useExtendedSearch;\n  }\n  searchIn(text) {\n    const query = this.query;\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      };\n    }\n    const {\n      includeMatches,\n      isCaseSensitive\n    } = this.options;\n    text = isCaseSensitive ? text : text.toLowerCase();\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const {\n          isMatch,\n          indices,\n          score\n        } = searcher.search(text);\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break;\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n        return result;\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    };\n  }\n}\nconst registeredSearchers = [];\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options);\n    }\n  }\n  return new BitapSearch(pattern, options);\n}\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\nconst isExpression = query => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\nconst isPath = query => !!query[KeyType.PATH];\nconst isLeaf = query => !isArray(query) && isObject(query) && !isExpression(query);\nconst convertToExplicit = query => ({\n  [LogicalOperator.AND]: Object.keys(query).map(key => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, {\n  auto = true\n} = {}) {\n  const next = query => {\n    let keys = Object.keys(query);\n    const isQueryPath = isPath(query);\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query));\n    }\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n      }\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n      return obj;\n    }\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n    keys.forEach(key => {\n      const value = query[key];\n      if (isArray(value)) {\n        value.forEach(item => {\n          node.children.push(next(item));\n        });\n      }\n    });\n    return node;\n  };\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n  return next(query);\n}\n\n// Practical scoring function\nfunction computeScore(results, {\n  ignoreFieldNorm = Config.ignoreFieldNorm\n}) {\n  results.forEach(result => {\n    let totalScore = 1;\n    result.matches.forEach(({\n      key,\n      norm,\n      score\n    }) => {\n      const weight = key ? key.weight : null;\n      totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n    });\n    result.score = totalScore;\n  });\n}\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n  if (!isDefined(matches)) {\n    return;\n  }\n  matches.forEach(match => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return;\n    }\n    const {\n      indices,\n      value\n    } = match;\n    let obj = {\n      indices,\n      value\n    };\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n    data.matches.push(obj);\n  });\n}\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\nfunction format(results, docs, {\n  includeMatches = Config.includeMatches,\n  includeScore = Config.includeScore\n} = {}) {\n  const transformers = [];\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n  return results.map(result => {\n    const {\n      idx\n    } = result;\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n    if (transformers.length) {\n      transformers.forEach(transformer => {\n        transformer(result, data);\n      });\n    }\n    return data;\n  });\n}\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = _objectSpread2(_objectSpread2({}, Config), options);\n    if (this.options.useExtendedSearch && !true) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE);\n    }\n    this._keyStore = new KeyStore(this.options.keys);\n    this.setCollection(docs, index);\n  }\n  setCollection(docs, index) {\n    this._docs = docs;\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE);\n    }\n    this._myIndex = index || createIndex(this.options.keys, this._docs, {\n      getFn: this.options.getFn,\n      fieldNormWeight: this.options.fieldNormWeight\n    });\n  }\n  add(doc) {\n    if (!isDefined(doc)) {\n      return;\n    }\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n  remove(predicate = ( /* doc, idx */) => false) {\n    const results = [];\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n        results.push(doc);\n      }\n    }\n    return results;\n  }\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n  getIndex() {\n    return this._myIndex;\n  }\n  search(query, {\n    limit = -1\n  } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n    let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n    computeScore(results, {\n      ignoreFieldNorm\n    });\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    });\n  }\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({\n      v: text,\n      i: idx,\n      n: norm\n    }) => {\n      if (!isDefined(text)) {\n        return;\n      }\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{\n            score,\n            value: text,\n            norm,\n            indices\n          }]\n        });\n      }\n    });\n    return results;\n  }\n  _searchLogical(query) {\n    const expression = parse(query, this.options);\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const {\n          keyId,\n          searcher\n        } = node;\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n        if (matches && matches.length) {\n          return [{\n            idx,\n            item,\n            matches\n          }];\n        }\n        return [];\n      }\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return [];\n        }\n      }\n      return res;\n    };\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = {\n              idx,\n              item,\n              matches: []\n            };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({\n            matches\n          }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n    return results;\n  }\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const {\n      keys,\n      records\n    } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({\n      $: item,\n      i: idx\n    }) => {\n      if (!isDefined(item)) {\n        return;\n      }\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(...this._findMatches({\n          key,\n          value: item[keyIndex],\n          searcher\n        }));\n      });\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n    return results;\n  }\n  _findMatches({\n    key,\n    value,\n    searcher\n  }) {\n    if (!isDefined(value)) {\n      return [];\n    }\n    let matches = [];\n    if (isArray(value)) {\n      value.forEach(({\n        v: text,\n        i: idx,\n        n: norm\n      }) => {\n        if (!isDefined(text)) {\n          return;\n        }\n        const {\n          isMatch,\n          score,\n          indices\n        } = searcher.searchIn(text);\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const {\n        v: text,\n        n: norm\n      } = value;\n      const {\n        isMatch,\n        score,\n        indices\n      } = searcher.searchIn(text);\n      if (isMatch) {\n        matches.push({\n          score,\n          key,\n          value: text,\n          norm,\n          indices\n        });\n      }\n    }\n    return matches;\n  }\n}\nFuse.version = '7.0.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n{\n  Fuse.parseQuery = parse;\n}\n{\n  register(ExtendedSearch);\n}\n\nvar SearchByFuse = /** @class */ (function () {\n    function SearchByFuse(config) {\n        this._haystack = [];\n        this._fuseOptions = __assign(__assign({}, config.fuseOptions), { keys: __spreadArray([], config.searchFields, true), includeMatches: true });\n    }\n    SearchByFuse.prototype.index = function (data) {\n        this._haystack = data;\n        if (this._fuse) {\n            this._fuse.setCollection(data);\n        }\n    };\n    SearchByFuse.prototype.reset = function () {\n        this._haystack = [];\n        this._fuse = undefined;\n    };\n    SearchByFuse.prototype.isEmptyIndex = function () {\n        return !this._haystack.length;\n    };\n    SearchByFuse.prototype.search = function (needle) {\n        if (!this._fuse) {\n            {\n                this._fuse = new Fuse(this._haystack, this._fuseOptions);\n            }\n        }\n        var results = this._fuse.search(needle);\n        return results.map(function (value, i) {\n            return {\n                item: value.item,\n                score: value.score || 0,\n                rank: i + 1, // If value.score is used for sorting, this can create non-stable sorts!\n            };\n        });\n    };\n    return SearchByFuse;\n}());\n\nfunction getSearcher(config) {\n    {\n        return new SearchByFuse(config);\n    }\n}\n\n/**\n * Helpers to create HTML elements used by Choices\n * Can be overridden by providing `callbackOnCreateTemplates` option.\n * `Choices.defaults.templates` allows access to the default template methods from `callbackOnCreateTemplates`\n */\nvar isEmptyObject = function (obj) {\n    // eslint-disable-next-line no-restricted-syntax\n    for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n            return false;\n        }\n    }\n    return true;\n};\nvar assignCustomProperties = function (el, choice, withCustomProperties) {\n    var dataset = el.dataset;\n    var customProperties = choice.customProperties, labelClass = choice.labelClass, labelDescription = choice.labelDescription;\n    if (labelClass) {\n        dataset.labelClass = getClassNames(labelClass).join(' ');\n    }\n    if (labelDescription) {\n        dataset.labelDescription = labelDescription;\n    }\n    if (withCustomProperties && customProperties) {\n        if (typeof customProperties === 'string') {\n            dataset.customProperties = customProperties;\n        }\n        else if (typeof customProperties === 'object' && !isEmptyObject(customProperties)) {\n            dataset.customProperties = JSON.stringify(customProperties);\n        }\n    }\n};\nvar addAriaLabel = function (docRoot, id, element) {\n    var label = id && docRoot.querySelector(\"label[for='\".concat(id, \"']\"));\n    var text = label && label.innerText;\n    if (text) {\n        element.setAttribute('aria-label', text);\n    }\n};\nvar templates = {\n    containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n        var containerOuter = _a.classNames.containerOuter;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerOuter);\n        div.dataset.type = passedElementType;\n        if (dir) {\n            div.dir = dir;\n        }\n        if (isSelectOneElement) {\n            div.tabIndex = 0;\n        }\n        if (isSelectElement) {\n            div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n            if (searchEnabled) {\n                div.setAttribute('aria-autocomplete', 'list');\n            }\n            else if (!labelId) {\n                addAriaLabel(this._docRoot, this.passedElement.element.id, div);\n            }\n            div.setAttribute('aria-haspopup', 'true');\n            div.setAttribute('aria-expanded', 'false');\n        }\n        if (labelId) {\n            div.setAttribute('aria-labelledby', labelId);\n        }\n        return div;\n    },\n    containerInner: function (_a) {\n        var containerInner = _a.classNames.containerInner;\n        var div = document.createElement('div');\n        addClassesToElement(div, containerInner);\n        return div;\n    },\n    itemList: function (_a, isSelectOneElement) {\n        var searchEnabled = _a.searchEnabled, _b = _a.classNames, list = _b.list, listSingle = _b.listSingle, listItems = _b.listItems;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, isSelectOneElement ? listSingle : listItems);\n        if (this._isSelectElement && searchEnabled) {\n            div.setAttribute('role', 'listbox');\n        }\n        return div;\n    },\n    placeholder: function (_a, value) {\n        var allowHTML = _a.allowHTML, placeholder = _a.classNames.placeholder;\n        var div = document.createElement('div');\n        addClassesToElement(div, placeholder);\n        setElementHtml(div, allowHTML, value);\n        return div;\n    },\n    item: function (_a, choice, removeItemButton) {\n        var allowHTML = _a.allowHTML, removeItemButtonAlignLeft = _a.removeItemButtonAlignLeft, removeItemIconText = _a.removeItemIconText, removeItemLabelText = _a.removeItemLabelText, _b = _a.classNames, item = _b.item, button = _b.button, highlightedState = _b.highlightedState, itemSelectable = _b.itemSelectable, placeholder = _b.placeholder;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        addClassesToElement(div, item);\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, choice.label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, choice.label);\n        }\n        div.dataset.item = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        assignCustomProperties(div, choice, true);\n        if (choice.disabled || this.containerOuter.isDisabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        if (this._isSelectElement) {\n            div.setAttribute('aria-selected', 'true');\n            div.setAttribute('role', 'option');\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n            div.dataset.placeholder = '';\n        }\n        addClassesToElement(div, choice.highlighted ? highlightedState : itemSelectable);\n        if (removeItemButton) {\n            if (choice.disabled) {\n                removeClassesFromElement(div, itemSelectable);\n            }\n            div.dataset.deletable = '';\n            var removeButton = document.createElement('button');\n            removeButton.type = 'button';\n            addClassesToElement(removeButton, button);\n            setElementHtml(removeButton, true, resolveNoticeFunction(removeItemIconText, choice.value));\n            var REMOVE_ITEM_LABEL = resolveNoticeFunction(removeItemLabelText, choice.value);\n            if (REMOVE_ITEM_LABEL) {\n                removeButton.setAttribute('aria-label', REMOVE_ITEM_LABEL);\n            }\n            removeButton.dataset.button = '';\n            if (removeItemButtonAlignLeft) {\n                div.insertAdjacentElement('afterbegin', removeButton);\n            }\n            else {\n                div.appendChild(removeButton);\n            }\n        }\n        return div;\n    },\n    choiceList: function (_a, isSelectOneElement) {\n        var list = _a.classNames.list;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        if (!isSelectOneElement) {\n            div.setAttribute('aria-multiselectable', 'true');\n        }\n        div.setAttribute('role', 'listbox');\n        return div;\n    },\n    choiceGroup: function (_a, _b) {\n        var allowHTML = _a.allowHTML, _c = _a.classNames, group = _c.group, groupHeading = _c.groupHeading, itemDisabled = _c.itemDisabled;\n        var id = _b.id, label = _b.label, disabled = _b.disabled;\n        var rawLabel = unwrapStringForRaw(label);\n        var div = document.createElement('div');\n        addClassesToElement(div, group);\n        if (disabled) {\n            addClassesToElement(div, itemDisabled);\n        }\n        div.setAttribute('role', 'group');\n        div.dataset.group = '';\n        div.dataset.id = id;\n        div.dataset.value = rawLabel;\n        if (disabled) {\n            div.setAttribute('aria-disabled', 'true');\n        }\n        var heading = document.createElement('div');\n        addClassesToElement(heading, groupHeading);\n        setElementHtml(heading, allowHTML, label || '');\n        div.appendChild(heading);\n        return div;\n    },\n    choice: function (_a, choice, selectText, groupName) {\n        var allowHTML = _a.allowHTML, _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, itemSelectable = _b.itemSelectable, selectedState = _b.selectedState, itemDisabled = _b.itemDisabled, description = _b.description, placeholder = _b.placeholder;\n        // eslint-disable-next-line prefer-destructuring\n        var label = choice.label;\n        var rawValue = unwrapStringForRaw(choice.value);\n        var div = document.createElement('div');\n        div.id = choice.elementId;\n        addClassesToElement(div, item);\n        addClassesToElement(div, itemChoice);\n        if (groupName && typeof label === 'string') {\n            label = escapeForTemplate(allowHTML, label);\n            label += \" (\".concat(groupName, \")\");\n            label = { trusted: label };\n        }\n        var describedBy = div;\n        if (choice.labelClass) {\n            var spanLabel = document.createElement('span');\n            setElementHtml(spanLabel, allowHTML, label);\n            addClassesToElement(spanLabel, choice.labelClass);\n            describedBy = spanLabel;\n            div.appendChild(spanLabel);\n        }\n        else {\n            setElementHtml(div, allowHTML, label);\n        }\n        if (choice.labelDescription) {\n            var descId = \"\".concat(choice.elementId, \"-description\");\n            describedBy.setAttribute('aria-describedby', descId);\n            var spanDesc = document.createElement('span');\n            setElementHtml(spanDesc, allowHTML, choice.labelDescription);\n            spanDesc.id = descId;\n            addClassesToElement(spanDesc, description);\n            div.appendChild(spanDesc);\n        }\n        if (choice.selected) {\n            addClassesToElement(div, selectedState);\n        }\n        if (choice.placeholder) {\n            addClassesToElement(div, placeholder);\n        }\n        div.setAttribute('role', choice.group ? 'treeitem' : 'option');\n        div.dataset.choice = '';\n        div.dataset.id = choice.id;\n        div.dataset.value = rawValue;\n        if (selectText) {\n            div.dataset.selectText = selectText;\n        }\n        if (choice.group) {\n            div.dataset.groupId = \"\".concat(choice.group.id);\n        }\n        assignCustomProperties(div, choice, false);\n        if (choice.disabled) {\n            addClassesToElement(div, itemDisabled);\n            div.dataset.choiceDisabled = '';\n            div.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            addClassesToElement(div, itemSelectable);\n            div.dataset.choiceSelectable = '';\n        }\n        return div;\n    },\n    input: function (_a, placeholderValue) {\n        var _b = _a.classNames, input = _b.input, inputCloned = _b.inputCloned, labelId = _a.labelId;\n        var inp = document.createElement('input');\n        inp.type = 'search';\n        addClassesToElement(inp, input);\n        addClassesToElement(inp, inputCloned);\n        inp.autocomplete = 'off';\n        inp.autocapitalize = 'off';\n        inp.spellcheck = false;\n        inp.setAttribute('aria-autocomplete', 'list');\n        if (placeholderValue) {\n            inp.setAttribute('aria-label', placeholderValue);\n        }\n        else if (!labelId) {\n            addAriaLabel(this._docRoot, this.passedElement.element.id, inp);\n        }\n        return inp;\n    },\n    dropdown: function (_a) {\n        var _b = _a.classNames, list = _b.list, listDropdown = _b.listDropdown;\n        var div = document.createElement('div');\n        addClassesToElement(div, list);\n        addClassesToElement(div, listDropdown);\n        div.setAttribute('aria-expanded', 'false');\n        return div;\n    },\n    notice: function (_a, innerHTML, type) {\n        var _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, addChoice = _b.addChoice, noResults = _b.noResults, noChoices = _b.noChoices, noticeItem = _b.notice;\n        if (type === void 0) { type = NoticeTypes.generic; }\n        var notice = document.createElement('div');\n        setElementHtml(notice, true, innerHTML);\n        addClassesToElement(notice, item);\n        addClassesToElement(notice, itemChoice);\n        addClassesToElement(notice, noticeItem);\n        // eslint-disable-next-line default-case\n        switch (type) {\n            case NoticeTypes.addChoice:\n                addClassesToElement(notice, addChoice);\n                break;\n            case NoticeTypes.noResults:\n                addClassesToElement(notice, noResults);\n                break;\n            case NoticeTypes.noChoices:\n                addClassesToElement(notice, noChoices);\n                break;\n        }\n        if (type === NoticeTypes.addChoice) {\n            notice.dataset.choiceSelectable = '';\n            notice.dataset.choice = '';\n        }\n        return notice;\n    },\n    option: function (choice) {\n        // HtmlOptionElement's label value does not support HTML, so the avoid double escaping unwrap the untrusted string.\n        var labelValue = unwrapStringForRaw(choice.label);\n        var opt = new Option(labelValue, choice.value, false, choice.selected);\n        assignCustomProperties(opt, choice, true);\n        opt.disabled = choice.disabled;\n        if (choice.selected) {\n            opt.setAttribute('selected', '');\n        }\n        return opt;\n    },\n};\n\n/** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\nvar IS_IE11 = '-ms-scroll-limit' in document.documentElement.style &&\n    '-ms-ime-align' in document.documentElement.style;\nvar USER_DEFAULTS = {};\nvar parseDataSetId = function (element) {\n    if (!element) {\n        return undefined;\n    }\n    return element.dataset.id ? parseInt(element.dataset.id, 10) : undefined;\n};\nvar selectableChoiceIdentifier = '[data-choice-selectable]';\n/**\n * Choices\n * @author Josh Johnson<josh@joshuajohnson.co.uk>\n */\nvar Choices = /** @class */ (function () {\n    function Choices(element, userConfig) {\n        if (element === void 0) { element = '[data-choice]'; }\n        if (userConfig === void 0) { userConfig = {}; }\n        var _this = this;\n        this.initialisedOK = undefined;\n        this._hasNonChoicePlaceholder = false;\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        var defaults = Choices.defaults;\n        this.config = __assign(__assign(__assign({}, defaults.allOptions), defaults.options), userConfig);\n        ObjectsInConfig.forEach(function (key) {\n            _this.config[key] = __assign(__assign(__assign({}, defaults.allOptions[key]), defaults.options[key]), userConfig[key]);\n        });\n        var config = this.config;\n        if (!config.silent) {\n            this._validateConfig();\n        }\n        var docRoot = config.shadowRoot || document.documentElement;\n        this._docRoot = docRoot;\n        var passedElement = typeof element === 'string' ? docRoot.querySelector(element) : element;\n        if (!passedElement ||\n            typeof passedElement !== 'object' ||\n            !(isHtmlInputElement(passedElement) || isHtmlSelectElement(passedElement))) {\n            if (!passedElement && typeof element === 'string') {\n                throw TypeError(\"Selector \".concat(element, \" failed to find an element\"));\n            }\n            throw TypeError(\"Expected one of the following types text|select-one|select-multiple\");\n        }\n        var elementType = passedElement.type;\n        var isText = elementType === PassedElementTypes.Text;\n        if (isText || config.maxItemCount !== 1) {\n            config.singleModeForMultiSelect = false;\n        }\n        if (config.singleModeForMultiSelect) {\n            elementType = PassedElementTypes.SelectMultiple;\n        }\n        var isSelectOne = elementType === PassedElementTypes.SelectOne;\n        var isSelectMultiple = elementType === PassedElementTypes.SelectMultiple;\n        var isSelect = isSelectOne || isSelectMultiple;\n        this._elementType = elementType;\n        this._isTextElement = isText;\n        this._isSelectOneElement = isSelectOne;\n        this._isSelectMultipleElement = isSelectMultiple;\n        this._isSelectElement = isSelectOne || isSelectMultiple;\n        this._canAddUserChoices = (isText && config.addItems) || (isSelect && config.addChoices);\n        if (typeof config.renderSelectedChoices !== 'boolean') {\n            config.renderSelectedChoices = config.renderSelectedChoices === 'always' || isSelectOne;\n        }\n        if (config.closeDropdownOnSelect === 'auto') {\n            config.closeDropdownOnSelect = isText || isSelectOne || config.singleModeForMultiSelect;\n        }\n        else {\n            config.closeDropdownOnSelect = coerceBool(config.closeDropdownOnSelect);\n        }\n        if (config.placeholder) {\n            if (config.placeholderValue) {\n                this._hasNonChoicePlaceholder = true;\n            }\n            else if (passedElement.dataset.placeholder) {\n                this._hasNonChoicePlaceholder = true;\n                config.placeholderValue = passedElement.dataset.placeholder;\n            }\n        }\n        if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n            var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n            config.addItemFilter = re.test.bind(re);\n        }\n        if (this._isTextElement) {\n            this.passedElement = new WrappedInput({\n                element: passedElement,\n                classNames: config.classNames,\n            });\n        }\n        else {\n            var selectEl = passedElement;\n            this.passedElement = new WrappedSelect({\n                element: selectEl,\n                classNames: config.classNames,\n                template: function (data) { return _this._templates.option(data); },\n                extractPlaceholder: config.placeholder && !this._hasNonChoicePlaceholder,\n            });\n        }\n        this.initialised = false;\n        this._store = new Store(config);\n        this._currentValue = '';\n        config.searchEnabled = (!isText && config.searchEnabled) || isSelectMultiple;\n        this._canSearch = config.searchEnabled;\n        this._isScrollingOnIe = false;\n        this._highlightPosition = 0;\n        this._wasTap = true;\n        this._placeholderValue = this._generatePlaceholderValue();\n        this._baseId = generateId(passedElement, 'choices-');\n        /**\n         * setting direction in cases where it's explicitly set on passedElement\n         * or when calculated direction is different from the document\n         */\n        this._direction = passedElement.dir;\n        if (!this._direction) {\n            var elementDirection = window.getComputedStyle(passedElement).direction;\n            var documentDirection = window.getComputedStyle(document.documentElement).direction;\n            if (elementDirection !== documentDirection) {\n                this._direction = elementDirection;\n            }\n        }\n        this._idNames = {\n            itemChoice: 'item-choice',\n        };\n        this._templates = defaults.templates;\n        this._render = this._render.bind(this);\n        this._onFocus = this._onFocus.bind(this);\n        this._onBlur = this._onBlur.bind(this);\n        this._onKeyUp = this._onKeyUp.bind(this);\n        this._onKeyDown = this._onKeyDown.bind(this);\n        this._onInput = this._onInput.bind(this);\n        this._onClick = this._onClick.bind(this);\n        this._onTouchMove = this._onTouchMove.bind(this);\n        this._onTouchEnd = this._onTouchEnd.bind(this);\n        this._onMouseDown = this._onMouseDown.bind(this);\n        this._onMouseOver = this._onMouseOver.bind(this);\n        this._onFormReset = this._onFormReset.bind(this);\n        this._onSelectKey = this._onSelectKey.bind(this);\n        this._onEnterKey = this._onEnterKey.bind(this);\n        this._onEscapeKey = this._onEscapeKey.bind(this);\n        this._onDirectionKey = this._onDirectionKey.bind(this);\n        this._onDeleteKey = this._onDeleteKey.bind(this);\n        // If element has already been initialised with Choices, fail silently\n        if (this.passedElement.isActive) {\n            if (!config.silent) {\n                console.warn('Trying to initialise Choices on element already initialised', { element: element });\n            }\n            this.initialised = true;\n            this.initialisedOK = false;\n            return;\n        }\n        // Let's go\n        this.init();\n        // preserve the selected item list after setup for form reset\n        this._initialItems = this._store.items.map(function (choice) { return choice.value; });\n    }\n    Object.defineProperty(Choices, \"defaults\", {\n        get: function () {\n            return Object.preventExtensions({\n                get options() {\n                    return USER_DEFAULTS;\n                },\n                get allOptions() {\n                    return DEFAULT_CONFIG;\n                },\n                get templates() {\n                    return templates;\n                },\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Choices.prototype.init = function () {\n        if (this.initialised || this.initialisedOK !== undefined) {\n            return;\n        }\n        this._searcher = getSearcher(this.config);\n        this._loadChoices();\n        this._createTemplates();\n        this._createElements();\n        this._createStructure();\n        if ((this._isTextElement && !this.config.addItems) ||\n            this.passedElement.element.hasAttribute('disabled') ||\n            !!this.passedElement.element.closest('fieldset:disabled')) {\n            this.disable();\n        }\n        else {\n            this.enable();\n            this._addEventListeners();\n        }\n        // should be triggered **after** disabled state to avoid additional re-draws\n        this._initStore();\n        this.initialised = true;\n        this.initialisedOK = true;\n        var callbackOnInit = this.config.callbackOnInit;\n        // Run callback if it is a function\n        if (typeof callbackOnInit === 'function') {\n            callbackOnInit.call(this);\n        }\n    };\n    Choices.prototype.destroy = function () {\n        if (!this.initialised) {\n            return;\n        }\n        this._removeEventListeners();\n        this.passedElement.reveal();\n        this.containerOuter.unwrap(this.passedElement.element);\n        this._store._listeners = []; // prevents select/input value being wiped\n        this.clearStore(false);\n        this._stopSearch();\n        this._templates = Choices.defaults.templates;\n        this.initialised = false;\n        this.initialisedOK = undefined;\n    };\n    Choices.prototype.enable = function () {\n        if (this.passedElement.isDisabled) {\n            this.passedElement.enable();\n        }\n        if (this.containerOuter.isDisabled) {\n            this._addEventListeners();\n            this.input.enable();\n            this.containerOuter.enable();\n        }\n        return this;\n    };\n    Choices.prototype.disable = function () {\n        if (!this.passedElement.isDisabled) {\n            this.passedElement.disable();\n        }\n        if (!this.containerOuter.isDisabled) {\n            this._removeEventListeners();\n            this.input.disable();\n            this.containerOuter.disable();\n        }\n        return this;\n    };\n    Choices.prototype.highlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, true));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.highlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.unhighlightItem = function (item, runEvent) {\n        if (runEvent === void 0) { runEvent = true; }\n        if (!item || !item.id) {\n            return this;\n        }\n        var choice = this._store.items.find(function (c) { return c.id === item.id; });\n        if (!choice || !choice.highlighted) {\n            return this;\n        }\n        this._store.dispatch(highlightItem(choice, false));\n        if (runEvent) {\n            this.passedElement.triggerEvent(EventType.unhighlightItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.highlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (!item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, true));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.unhighlightAll = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.forEach(function (item) {\n                if (item.highlighted) {\n                    _this._store.dispatch(highlightItem(item, false));\n                    _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItemsByValue = function (value) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (item) { return item.value === value; }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeActiveItems = function (excludedId) {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this._store.items.filter(function (_a) {\n                var id = _a.id;\n                return id !== excludedId;\n            }).forEach(function (item) { return _this._removeItem(item); });\n        });\n        return this;\n    };\n    Choices.prototype.removeHighlightedItems = function (runEvent) {\n        var _this = this;\n        if (runEvent === void 0) { runEvent = false; }\n        this._store.withTxn(function () {\n            _this._store.highlightedActiveItems.forEach(function (item) {\n                _this._removeItem(item);\n                // If this action was performed by the user\n                // trigger the event\n                if (runEvent) {\n                    _this._triggerChange(item.value);\n                }\n            });\n        });\n        return this;\n    };\n    Choices.prototype.showDropdown = function (preventInputFocus) {\n        var _this = this;\n        if (this.dropdown.isActive) {\n            return this;\n        }\n        if (preventInputFocus === undefined) {\n            // eslint-disable-next-line no-param-reassign\n            preventInputFocus = !this._canSearch;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.show();\n            var rect = _this.dropdown.element.getBoundingClientRect();\n            _this.containerOuter.open(rect.bottom, rect.height);\n            if (!preventInputFocus) {\n                _this.input.focus();\n            }\n            _this.passedElement.triggerEvent(EventType.showDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.hideDropdown = function (preventInputBlur) {\n        var _this = this;\n        if (!this.dropdown.isActive) {\n            return this;\n        }\n        requestAnimationFrame(function () {\n            _this.dropdown.hide();\n            _this.containerOuter.close();\n            if (!preventInputBlur && _this._canSearch) {\n                _this.input.removeActiveDescendant();\n                _this.input.blur();\n            }\n            _this.passedElement.triggerEvent(EventType.hideDropdown);\n        });\n        return this;\n    };\n    Choices.prototype.getValue = function (valueOnly) {\n        var _this = this;\n        var values = this._store.items.map(function (item) {\n            return (valueOnly ? item.value : _this._getChoiceForOutput(item));\n        });\n        return this._isSelectOneElement || this.config.singleModeForMultiSelect ? values[0] : values;\n    };\n    Choices.prototype.setValue = function (items) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setValue');\n            return this;\n        }\n        this._store.withTxn(function () {\n            items.forEach(function (value) {\n                if (value) {\n                    _this._addChoice(mapInputToChoice(value, false));\n                }\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.setChoiceByValue = function (value) {\n        var _this = this;\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoiceByValue');\n            return this;\n        }\n        if (this._isTextElement) {\n            return this;\n        }\n        this._store.withTxn(function () {\n            // If only one value has been passed, convert to array\n            var choiceValue = Array.isArray(value) ? value : [value];\n            // Loop through each value and\n            choiceValue.forEach(function (val) { return _this._findAndSelectChoiceByValue(val); });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    /**\n     * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n     * a value field name and a label field name.\n     * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n     * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n     * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n     *\n     * **Input types affected:** select-one, select-multiple\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([\n     *   {value: 'One', label: 'Label One', disabled: true},\n     *   {value: 'Two', label: 'Label Two', selected: true},\n     *   {value: 'Three', label: 'Label Three'},\n     * ], 'value', 'label', false);\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices(async () => {\n     *   try {\n     *      const items = await fetch('/items');\n     *      return items.json()\n     *   } catch(err) {\n     *      console.error(err)\n     *   }\n     * });\n     * ```\n     *\n     * @example\n     * ```js\n     * const example = new Choices(element);\n     *\n     * example.setChoices([{\n     *   label: 'Group one',\n     *   id: 1,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child One', label: 'Child One', selected: true},\n     *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n     *     {value: 'Child Three', label: 'Child Three'},\n     *   ]\n     * },\n     * {\n     *   label: 'Group two',\n     *   id: 2,\n     *   disabled: false,\n     *   choices: [\n     *     {value: 'Child Four', label: 'Child Four', disabled: true},\n     *     {value: 'Child Five', label: 'Child Five'},\n     *     {value: 'Child Six', label: 'Child Six', customProperties: {\n     *       description: 'Custom description about child six',\n     *       random: 'Another random custom property'\n     *     }},\n     *   ]\n     * }], 'value', 'label', false);\n     * ```\n     */\n    Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices, clearSearchFlag, replaceItems) {\n        var _this = this;\n        if (choicesArrayOrFetcher === void 0) { choicesArrayOrFetcher = []; }\n        if (value === void 0) { value = 'value'; }\n        if (label === void 0) { label = 'label'; }\n        if (replaceChoices === void 0) { replaceChoices = false; }\n        if (clearSearchFlag === void 0) { clearSearchFlag = true; }\n        if (replaceItems === void 0) { replaceItems = false; }\n        if (!this.initialisedOK) {\n            this._warnChoicesInitFailed('setChoices');\n            return this;\n        }\n        if (!this._isSelectElement) {\n            throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n        }\n        if (typeof value !== 'string' || !value) {\n            throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n        }\n        if (typeof choicesArrayOrFetcher === 'function') {\n            // it's a choices fetcher function\n            var fetcher_1 = choicesArrayOrFetcher(this);\n            if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n                // that's a promise\n                // eslint-disable-next-line no-promise-executor-return\n                return new Promise(function (resolve) { return requestAnimationFrame(resolve); })\n                    .then(function () { return _this._handleLoadingState(true); })\n                    .then(function () { return fetcher_1; })\n                    .then(function (data) {\n                    return _this.setChoices(data, value, label, replaceChoices, clearSearchFlag, replaceItems);\n                })\n                    .catch(function (err) {\n                    if (!_this.config.silent) {\n                        console.error(err);\n                    }\n                })\n                    .then(function () { return _this._handleLoadingState(false); })\n                    .then(function () { return _this; });\n            }\n            // function returned something else than promise, let's check if it's an array of choices\n            if (!Array.isArray(fetcher_1)) {\n                throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n            }\n            // recursion with results, it's sync and choices were cleared already\n            return this.setChoices(fetcher_1, value, label, false);\n        }\n        if (!Array.isArray(choicesArrayOrFetcher)) {\n            throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n        }\n        this.containerOuter.removeLoadingState();\n        this._store.withTxn(function () {\n            if (clearSearchFlag) {\n                _this._isSearching = false;\n            }\n            // Clear choices if needed\n            if (replaceChoices) {\n                _this.clearChoices(true, replaceItems);\n            }\n            var isDefaultValue = value === 'value';\n            var isDefaultLabel = label === 'label';\n            choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    var group = groupOrChoice;\n                    if (!isDefaultLabel) {\n                        group = __assign(__assign({}, group), { label: group[label] });\n                    }\n                    _this._addGroup(mapInputToChoice(group, true));\n                }\n                else {\n                    var choice = groupOrChoice;\n                    if (!isDefaultLabel || !isDefaultValue) {\n                        choice = __assign(__assign({}, choice), { value: choice[value], label: choice[label] });\n                    }\n                    var choiceFull = mapInputToChoice(choice, false);\n                    _this._addChoice(choiceFull);\n                    if (choiceFull.placeholder && !_this._hasNonChoicePlaceholder) {\n                        _this._placeholderValue = unwrapStringForEscaped(choiceFull.label);\n                    }\n                }\n            });\n            _this.unhighlightAll();\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.refresh = function (withEvents, selectFirstOption, deselectAll) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = false; }\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (deselectAll === void 0) { deselectAll = false; }\n        if (!this._isSelectElement) {\n            if (!this.config.silent) {\n                console.warn('refresh method can only be used on choices backed by a <select> element');\n            }\n            return this;\n        }\n        this._store.withTxn(function () {\n            var choicesFromOptions = _this.passedElement.optionsAsChoices();\n            // Build the list of items which require preserving\n            var existingItems = {};\n            if (!deselectAll) {\n                _this._store.items.forEach(function (choice) {\n                    if (choice.id && choice.active && choice.selected) {\n                        existingItems[choice.value] = true;\n                    }\n                });\n            }\n            _this.clearStore(false);\n            var updateChoice = function (choice) {\n                if (deselectAll) {\n                    _this._store.dispatch(removeItem$1(choice));\n                }\n                else if (existingItems[choice.value]) {\n                    choice.selected = true;\n                }\n            };\n            choicesFromOptions.forEach(function (groupOrChoice) {\n                if ('choices' in groupOrChoice) {\n                    groupOrChoice.choices.forEach(updateChoice);\n                    return;\n                }\n                updateChoice(groupOrChoice);\n            });\n            /* @todo only generate add events for the added options instead of all\n            if (withEvents) {\n              items.forEach((choice) => {\n                if (existingItems[choice.value]) {\n                  this.passedElement.triggerEvent(\n                    EventType.removeItem,\n                    this._getChoiceForEvent(choice),\n                  );\n                }\n              });\n            }\n            */\n            // load new choices & items\n            _this._addPredefinedChoices(choicesFromOptions, selectFirstOption, withEvents);\n            // re-do search if required\n            if (_this._isSearching) {\n                _this._searchChoices(_this.input.value);\n            }\n        });\n        return this;\n    };\n    Choices.prototype.removeChoice = function (value) {\n        var choice = this._store.choices.find(function (c) { return c.value === value; });\n        if (!choice) {\n            return this;\n        }\n        this._clearNotice();\n        this._store.dispatch(removeChoice(choice));\n        // @todo integrate with Store\n        this._searcher.reset();\n        if (choice.selected) {\n            this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(choice));\n        }\n        return this;\n    };\n    Choices.prototype.clearChoices = function (clearOptions, clearItems) {\n        var _this = this;\n        if (clearOptions === void 0) { clearOptions = true; }\n        if (clearItems === void 0) { clearItems = false; }\n        if (clearOptions) {\n            if (clearItems) {\n                this.passedElement.element.replaceChildren('');\n            }\n            else {\n                this.passedElement.element.querySelectorAll(':not([selected])').forEach(function (el) {\n                    el.remove();\n                });\n            }\n        }\n        this.itemList.element.replaceChildren('');\n        this.choiceList.element.replaceChildren('');\n        this._clearNotice();\n        this._store.withTxn(function () {\n            var items = clearItems ? [] : _this._store.items;\n            _this._store.reset();\n            items.forEach(function (item) {\n                _this._store.dispatch(addChoice(item));\n                _this._store.dispatch(addItem(item));\n            });\n        });\n        // @todo integrate with Store\n        this._searcher.reset();\n        return this;\n    };\n    Choices.prototype.clearStore = function (clearOptions) {\n        if (clearOptions === void 0) { clearOptions = true; }\n        this.clearChoices(clearOptions, true);\n        this._stopSearch();\n        this._lastAddedChoiceId = 0;\n        this._lastAddedGroupId = 0;\n        return this;\n    };\n    Choices.prototype.clearInput = function () {\n        var shouldSetInputWidth = !this._isSelectOneElement;\n        this.input.clear(shouldSetInputWidth);\n        this._stopSearch();\n        return this;\n    };\n    Choices.prototype._validateConfig = function () {\n        var config = this.config;\n        var invalidConfigOptions = diff(config, DEFAULT_CONFIG);\n        if (invalidConfigOptions.length) {\n            console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n        }\n        if (config.allowHTML && config.allowHtmlUserInput) {\n            if (config.addItems) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks');\n            }\n            if (config.addChoices) {\n                console.warn('Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks');\n            }\n        }\n    };\n    Choices.prototype._render = function (changes) {\n        if (changes === void 0) { changes = { choices: true, groups: true, items: true }; }\n        if (this._store.inTxn()) {\n            return;\n        }\n        if (this._isSelectElement) {\n            if (changes.choices || changes.groups) {\n                this._renderChoices();\n            }\n        }\n        if (changes.items) {\n            this._renderItems();\n        }\n    };\n    Choices.prototype._renderChoices = function () {\n        var _this = this;\n        if (!this._canAddItems()) {\n            return; // block rendering choices if the input limit is reached.\n        }\n        var _a = this, config = _a.config, isSearching = _a._isSearching;\n        var _b = this._store, activeGroups = _b.activeGroups, activeChoices = _b.activeChoices;\n        var renderLimit = 0;\n        if (isSearching && config.searchResultLimit > 0) {\n            renderLimit = config.searchResultLimit;\n        }\n        else if (config.renderChoiceLimit > 0) {\n            renderLimit = config.renderChoiceLimit;\n        }\n        if (this._isSelectElement) {\n            var backingOptions = activeChoices.filter(function (choice) { return !choice.element; });\n            if (backingOptions.length) {\n                this.passedElement.addOptions(backingOptions);\n            }\n        }\n        var fragment = document.createDocumentFragment();\n        var renderableChoices = function (choices) {\n            return choices.filter(function (choice) {\n                return !choice.placeholder && (isSearching ? !!choice.rank : config.renderSelectedChoices || !choice.selected);\n            });\n        };\n        var selectableChoices = false;\n        var renderChoices = function (choices, withinGroup, groupLabel) {\n            if (isSearching) {\n                // sortByRank is used to ensure stable sorting, as scores are non-unique\n                // this additionally ensures fuseOptions.sortFn is not ignored\n                choices.sort(sortByRank);\n            }\n            else if (config.shouldSort) {\n                choices.sort(config.sorter);\n            }\n            var choiceLimit = choices.length;\n            choiceLimit = !withinGroup && renderLimit && choiceLimit > renderLimit ? renderLimit : choiceLimit;\n            choiceLimit--;\n            choices.every(function (choice, index) {\n                // choiceEl being empty signals the contents has probably significantly changed\n                var dropdownItem = choice.choiceEl || _this._templates.choice(config, choice, config.itemSelectText, groupLabel);\n                choice.choiceEl = dropdownItem;\n                fragment.appendChild(dropdownItem);\n                if (isSearching || !choice.selected) {\n                    selectableChoices = true;\n                }\n                return index < choiceLimit;\n            });\n        };\n        if (activeChoices.length) {\n            if (config.resetScrollPosition) {\n                requestAnimationFrame(function () { return _this.choiceList.scrollToTop(); });\n            }\n            if (!this._hasNonChoicePlaceholder && !isSearching && this._isSelectOneElement) {\n                // If we have a placeholder choice along with groups\n                renderChoices(activeChoices.filter(function (choice) { return choice.placeholder && !choice.group; }), false, undefined);\n            }\n            // If we have grouped options\n            if (activeGroups.length && !isSearching) {\n                if (config.shouldSort) {\n                    activeGroups.sort(config.sorter);\n                }\n                // render Choices without group first, regardless of sort, otherwise they won't be distinguishable\n                // from the last group\n                renderChoices(activeChoices.filter(function (choice) { return !choice.placeholder && !choice.group; }), false, undefined);\n                activeGroups.forEach(function (group) {\n                    var groupChoices = renderableChoices(group.choices);\n                    if (groupChoices.length) {\n                        if (group.label) {\n                            var dropdownGroup = group.groupEl || _this._templates.choiceGroup(_this.config, group);\n                            group.groupEl = dropdownGroup;\n                            dropdownGroup.remove();\n                            fragment.appendChild(dropdownGroup);\n                        }\n                        renderChoices(groupChoices, true, config.appendGroupInSearch && isSearching ? group.label : undefined);\n                    }\n                });\n            }\n            else {\n                renderChoices(renderableChoices(activeChoices), false, undefined);\n            }\n        }\n        if (!selectableChoices && (isSearching || !fragment.children.length || !config.renderSelectedChoices)) {\n            if (!this._notice) {\n                this._notice = {\n                    text: resolveStringFunction(isSearching ? config.noResultsText : config.noChoicesText),\n                    type: isSearching ? NoticeTypes.noResults : NoticeTypes.noChoices,\n                };\n            }\n            fragment.replaceChildren('');\n        }\n        this._renderNotice(fragment);\n        this.choiceList.element.replaceChildren(fragment);\n        if (selectableChoices) {\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._renderItems = function () {\n        var _this = this;\n        var items = this._store.items || [];\n        var itemList = this.itemList.element;\n        var config = this.config;\n        var fragment = document.createDocumentFragment();\n        var itemFromList = function (item) {\n            return itemList.querySelector(\"[data-item][data-id=\\\"\".concat(item.id, \"\\\"]\"));\n        };\n        var addItemToFragment = function (item) {\n            var el = item.itemEl;\n            if (el && el.parentElement) {\n                return;\n            }\n            el = itemFromList(item) || _this._templates.item(config, item, config.removeItemButton);\n            item.itemEl = el;\n            fragment.appendChild(el);\n        };\n        // new items\n        items.forEach(addItemToFragment);\n        var addedItems = !!fragment.childNodes.length;\n        if (this._isSelectOneElement) {\n            var existingItems = itemList.children.length;\n            if (addedItems || existingItems > 1) {\n                var placeholder = itemList.querySelector(getClassNamesSelector(config.classNames.placeholder));\n                if (placeholder) {\n                    placeholder.remove();\n                }\n            }\n            else if (!addedItems && !existingItems && this._placeholderValue) {\n                addedItems = true;\n                addItemToFragment(mapInputToChoice({\n                    selected: true,\n                    value: '',\n                    label: this._placeholderValue,\n                    placeholder: true,\n                }, false));\n            }\n        }\n        if (addedItems) {\n            itemList.append(fragment);\n            if (config.shouldSortItems && !this._isSelectOneElement) {\n                items.sort(config.sorter);\n                // push sorting into the DOM\n                items.forEach(function (item) {\n                    var el = itemFromList(item);\n                    if (el) {\n                        el.remove();\n                        fragment.append(el);\n                    }\n                });\n                itemList.append(fragment);\n            }\n        }\n        if (this._isTextElement) {\n            // Update the value of the hidden input\n            this.passedElement.value = items.map(function (_a) {\n                var value = _a.value;\n                return value;\n            }).join(config.delimiter);\n        }\n    };\n    Choices.prototype._displayNotice = function (text, type, openDropdown) {\n        if (openDropdown === void 0) { openDropdown = true; }\n        var oldNotice = this._notice;\n        if (oldNotice &&\n            ((oldNotice.type === type && oldNotice.text === text) ||\n                (oldNotice.type === NoticeTypes.addChoice &&\n                    (type === NoticeTypes.noResults || type === NoticeTypes.noChoices)))) {\n            if (openDropdown) {\n                this.showDropdown(true);\n            }\n            return;\n        }\n        this._clearNotice();\n        this._notice = text\n            ? {\n                text: text,\n                type: type,\n            }\n            : undefined;\n        this._renderNotice();\n        if (openDropdown && text) {\n            this.showDropdown(true);\n        }\n    };\n    Choices.prototype._clearNotice = function () {\n        if (!this._notice) {\n            return;\n        }\n        var noticeElement = this.choiceList.element.querySelector(getClassNamesSelector(this.config.classNames.notice));\n        if (noticeElement) {\n            noticeElement.remove();\n        }\n        this._notice = undefined;\n    };\n    Choices.prototype._renderNotice = function (fragment) {\n        var noticeConf = this._notice;\n        if (noticeConf) {\n            var notice = this._templates.notice(this.config, noticeConf.text, noticeConf.type);\n            if (fragment) {\n                fragment.append(notice);\n            }\n            else {\n                this.choiceList.prepend(notice);\n            }\n        }\n    };\n    // eslint-disable-next-line class-methods-use-this\n    Choices.prototype._getChoiceForOutput = function (choice, keyCode) {\n        return {\n            id: choice.id,\n            highlighted: choice.highlighted,\n            labelClass: choice.labelClass,\n            labelDescription: choice.labelDescription,\n            customProperties: choice.customProperties,\n            disabled: choice.disabled,\n            active: choice.active,\n            label: choice.label,\n            placeholder: choice.placeholder,\n            value: choice.value,\n            groupValue: choice.group ? choice.group.label : undefined,\n            element: choice.element,\n            keyCode: keyCode,\n        };\n    };\n    Choices.prototype._triggerChange = function (value) {\n        if (value === undefined || value === null) {\n            return;\n        }\n        this.passedElement.triggerEvent(EventType.change, {\n            value: value,\n        });\n    };\n    Choices.prototype._handleButtonAction = function (element) {\n        var _this = this;\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || !this.config.removeItemButton) {\n            return;\n        }\n        var id = element && parseDataSetId(element.parentElement);\n        var itemToRemove = id && items.find(function (item) { return item.id === id; });\n        if (!itemToRemove) {\n            return;\n        }\n        this._store.withTxn(function () {\n            // Remove item associated with button\n            _this._removeItem(itemToRemove);\n            _this._triggerChange(itemToRemove.value);\n            if (_this._isSelectOneElement && !_this._hasNonChoicePlaceholder) {\n                var placeholderChoice = (_this.config.shouldSort ? _this._store.choices.reverse() : _this._store.choices).find(function (choice) { return choice.placeholder; });\n                if (placeholderChoice) {\n                    _this._addItem(placeholderChoice);\n                    _this.unhighlightAll();\n                    if (placeholderChoice.value) {\n                        _this._triggerChange(placeholderChoice.value);\n                    }\n                }\n            }\n        });\n    };\n    Choices.prototype._handleItemAction = function (element, hasShiftKey) {\n        var _this = this;\n        if (hasShiftKey === void 0) { hasShiftKey = false; }\n        var items = this._store.items;\n        if (!items.length || !this.config.removeItems || this._isSelectOneElement) {\n            return;\n        }\n        var id = parseDataSetId(element);\n        if (!id) {\n            return;\n        }\n        // We only want to select one item with a click\n        // so we deselect any items that aren't the target\n        // unless shift is being pressed\n        items.forEach(function (item) {\n            if (item.id === id && !item.highlighted) {\n                _this.highlightItem(item);\n            }\n            else if (!hasShiftKey && item.highlighted) {\n                _this.unhighlightItem(item);\n            }\n        });\n        // Focus input as without focus, a user cannot do anything with a\n        // highlighted item\n        this.input.focus();\n    };\n    Choices.prototype._handleChoiceAction = function (element) {\n        var _this = this;\n        // If we are clicking on an option\n        var id = parseDataSetId(element);\n        var choice = id && this._store.getChoiceById(id);\n        if (!choice || choice.disabled) {\n            return false;\n        }\n        var hasActiveDropdown = this.dropdown.isActive;\n        if (!choice.selected) {\n            if (!this._canAddItems()) {\n                return true; // causes _onEnterKey to early out\n            }\n            this._store.withTxn(function () {\n                _this._addItem(choice, true, true);\n                _this.clearInput();\n                _this.unhighlightAll();\n            });\n            this._triggerChange(choice.value);\n        }\n        // We want to close the dropdown if we are dealing with a single select box\n        if (hasActiveDropdown && this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n            this.containerOuter.element.focus();\n        }\n        return true;\n    };\n    Choices.prototype._handleBackspace = function (items) {\n        var config = this.config;\n        if (!config.removeItems || !items.length) {\n            return;\n        }\n        var lastItem = items[items.length - 1];\n        var hasHighlightedItems = items.some(function (item) { return item.highlighted; });\n        // If editing the last item is allowed and there are not other selected items,\n        // we can edit the item value. Otherwise if we can remove items, remove all selected items\n        if (config.editItems && !hasHighlightedItems && lastItem) {\n            this.input.value = lastItem.value;\n            this.input.setWidth();\n            this._removeItem(lastItem);\n            this._triggerChange(lastItem.value);\n        }\n        else {\n            if (!hasHighlightedItems) {\n                // Highlight last item if none already highlighted\n                this.highlightItem(lastItem, false);\n            }\n            this.removeHighlightedItems(true);\n        }\n    };\n    Choices.prototype._loadChoices = function () {\n        var _a;\n        var _this = this;\n        var config = this.config;\n        if (this._isTextElement) {\n            // Assign preset items from passed object first\n            this._presetChoices = config.items.map(function (e) { return mapInputToChoice(e, false); });\n            // Add any values passed from attribute\n            if (this.passedElement.value) {\n                var elementItems = this.passedElement.value\n                    .split(config.delimiter)\n                    .map(function (e) { return mapInputToChoice(e, false, _this.config.allowHtmlUserInput); });\n                this._presetChoices = this._presetChoices.concat(elementItems);\n            }\n            this._presetChoices.forEach(function (choice) {\n                choice.selected = true;\n            });\n        }\n        else if (this._isSelectElement) {\n            // Assign preset choices from passed object\n            this._presetChoices = config.choices.map(function (e) { return mapInputToChoice(e, true); });\n            // Create array of choices from option elements\n            var choicesFromOptions = this.passedElement.optionsAsChoices();\n            if (choicesFromOptions) {\n                (_a = this._presetChoices).push.apply(_a, choicesFromOptions);\n            }\n        }\n    };\n    Choices.prototype._handleLoadingState = function (setLoading) {\n        if (setLoading === void 0) { setLoading = true; }\n        var el = this.itemList.element;\n        if (setLoading) {\n            this.disable();\n            this.containerOuter.addLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren(this._templates.placeholder(this.config, this.config.loadingText));\n            }\n            else {\n                this.input.placeholder = this.config.loadingText;\n            }\n        }\n        else {\n            this.enable();\n            this.containerOuter.removeLoadingState();\n            if (this._isSelectOneElement) {\n                el.replaceChildren('');\n                this._render();\n            }\n            else {\n                this.input.placeholder = this._placeholderValue || '';\n            }\n        }\n    };\n    Choices.prototype._handleSearch = function (value) {\n        if (!this.input.isFocussed) {\n            return;\n        }\n        // Check that we have a value to search and the input was an alphanumeric character\n        if (value !== null && typeof value !== 'undefined' && value.length >= this.config.searchFloor) {\n            var resultCount = this.config.searchChoices ? this._searchChoices(value) : 0;\n            if (resultCount !== null) {\n                // Trigger search event\n                this.passedElement.triggerEvent(EventType.search, {\n                    value: value,\n                    resultCount: resultCount,\n                });\n            }\n        }\n        else if (this._store.choices.some(function (option) { return !option.active; })) {\n            this._stopSearch();\n        }\n    };\n    Choices.prototype._canAddItems = function () {\n        var config = this.config;\n        var maxItemCount = config.maxItemCount, maxItemText = config.maxItemText;\n        if (!config.singleModeForMultiSelect && maxItemCount > 0 && maxItemCount <= this._store.items.length) {\n            this.choiceList.element.replaceChildren('');\n            this._notice = undefined;\n            this._displayNotice(typeof maxItemText === 'function' ? maxItemText(maxItemCount) : maxItemText, NoticeTypes.addChoice);\n            return false;\n        }\n        if (this._notice && this._notice.type === NoticeTypes.addChoice) {\n            this._clearNotice();\n        }\n        return true;\n    };\n    Choices.prototype._canCreateItem = function (value) {\n        var config = this.config;\n        var canAddItem = true;\n        var notice = '';\n        if (canAddItem && typeof config.addItemFilter === 'function' && !config.addItemFilter(value)) {\n            canAddItem = false;\n            notice = resolveNoticeFunction(config.customAddItemText, value);\n        }\n        if (canAddItem) {\n            var foundChoice = this._store.choices.find(function (choice) { return config.valueComparer(choice.value, value); });\n            if (foundChoice) {\n                if (this._isSelectElement) {\n                    // for exact matches, do not prompt to add it as a custom choice\n                    this._displayNotice('', NoticeTypes.addChoice);\n                    return false;\n                }\n                if (!config.duplicateItemsAllowed) {\n                    canAddItem = false;\n                    notice = resolveNoticeFunction(config.uniqueItemText, value);\n                }\n            }\n        }\n        if (canAddItem) {\n            notice = resolveNoticeFunction(config.addItemText, value);\n        }\n        if (notice) {\n            this._displayNotice(notice, NoticeTypes.addChoice);\n        }\n        return canAddItem;\n    };\n    Choices.prototype._searchChoices = function (value) {\n        var newValue = value.trim().replace(/\\s{2,}/, ' ');\n        // signal input didn't change search\n        if (!newValue.length || newValue === this._currentValue) {\n            return null;\n        }\n        var searcher = this._searcher;\n        if (searcher.isEmptyIndex()) {\n            searcher.index(this._store.searchableChoices);\n        }\n        // If new value matches the desired length and is not the same as the current value with a space\n        var results = searcher.search(newValue);\n        this._currentValue = newValue;\n        this._highlightPosition = 0;\n        this._isSearching = true;\n        var notice = this._notice;\n        var noticeType = notice && notice.type;\n        if (noticeType !== NoticeTypes.addChoice) {\n            if (!results.length) {\n                this._displayNotice(resolveStringFunction(this.config.noResultsText), NoticeTypes.noResults);\n            }\n            else {\n                this._clearNotice();\n            }\n        }\n        this._store.dispatch(filterChoices(results));\n        return results.length;\n    };\n    Choices.prototype._stopSearch = function () {\n        if (this._isSearching) {\n            this._currentValue = '';\n            this._isSearching = false;\n            this._clearNotice();\n            this._store.dispatch(activateChoices(true));\n            this.passedElement.triggerEvent(EventType.search, {\n                value: '',\n                resultCount: 0,\n            });\n        }\n    };\n    Choices.prototype._addEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        // capture events - can cancel event processing or propagation\n        documentElement.addEventListener('touchend', this._onTouchEnd, true);\n        outerElement.addEventListener('keydown', this._onKeyDown, true);\n        outerElement.addEventListener('mousedown', this._onMouseDown, true);\n        // passive events - doesn't call `preventDefault` or `stopPropagation`\n        documentElement.addEventListener('click', this._onClick, { passive: true });\n        documentElement.addEventListener('touchmove', this._onTouchMove, {\n            passive: true,\n        });\n        this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n            passive: true,\n        });\n        if (this._isSelectOneElement) {\n            outerElement.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            outerElement.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n        }\n        inputElement.addEventListener('keyup', this._onKeyUp, {\n            passive: true,\n        });\n        inputElement.addEventListener('input', this._onInput, {\n            passive: true,\n        });\n        inputElement.addEventListener('focus', this._onFocus, {\n            passive: true,\n        });\n        inputElement.addEventListener('blur', this._onBlur, {\n            passive: true,\n        });\n        if (inputElement.form) {\n            inputElement.form.addEventListener('reset', this._onFormReset, {\n                passive: true,\n            });\n        }\n        this.input.addEventListeners();\n    };\n    Choices.prototype._removeEventListeners = function () {\n        var documentElement = this._docRoot;\n        var outerElement = this.containerOuter.element;\n        var inputElement = this.input.element;\n        documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n        outerElement.removeEventListener('keydown', this._onKeyDown, true);\n        outerElement.removeEventListener('mousedown', this._onMouseDown, true);\n        documentElement.removeEventListener('click', this._onClick);\n        documentElement.removeEventListener('touchmove', this._onTouchMove);\n        this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n        if (this._isSelectOneElement) {\n            outerElement.removeEventListener('focus', this._onFocus);\n            outerElement.removeEventListener('blur', this._onBlur);\n        }\n        inputElement.removeEventListener('keyup', this._onKeyUp);\n        inputElement.removeEventListener('input', this._onInput);\n        inputElement.removeEventListener('focus', this._onFocus);\n        inputElement.removeEventListener('blur', this._onBlur);\n        if (inputElement.form) {\n            inputElement.form.removeEventListener('reset', this._onFormReset);\n        }\n        this.input.removeEventListeners();\n    };\n    Choices.prototype._onKeyDown = function (event) {\n        var keyCode = event.keyCode;\n        var hasActiveDropdown = this.dropdown.isActive;\n        /*\n        See:\n        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n        https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n        https://en.wikipedia.org/wiki/UTF-16#Code_points_from_U+010000_to_U+10FFFF - UTF-16 surrogate pairs\n        https://stackoverflow.com/a/70866532 - \"Unidentified\" for mobile\n        http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635 - U+FFFF is reserved (Section 16.7)\n    \n        Logic: when a key event is sent, `event.key` represents its printable value _or_ one\n        of a large list of special values indicating meta keys/functionality. In addition,\n        key events for compose functionality contain a value of `Dead` when mid-composition.\n    \n        I can't quite verify it, but non-English IMEs may also be able to generate key codes\n        for code points in the surrogate-pair range, which could potentially be seen as having\n        key.length > 1. Since `Fn` is one of the special keys, we can't distinguish by that\n        alone.\n    \n        Here, key.length === 1 means we know for sure the input was printable and not a special\n        `key` value. When the length is greater than 1, it could be either a printable surrogate\n        pair or a special `key` value. We can tell the difference by checking if the _character\n        code_ value (not code point!) is in the \"surrogate pair\" range or not.\n    \n        We don't use .codePointAt because an invalid code point would return 65535, which wouldn't\n        pass the >= 0x10000 check we would otherwise use.\n    \n        > ...The Unicode Standard sets aside 66 noncharacter code points. The last two code points\n        > of each plane are noncharacters: U+FFFE and U+FFFF on the BMP...\n        */\n        var wasPrintableChar = event.key.length === 1 ||\n            (event.key.length === 2 && event.key.charCodeAt(0) >= 0xd800) ||\n            event.key === 'Unidentified';\n        /*\n          We do not show the dropdown if focusing out with esc or navigating through input fields.\n          An activated search can still be opened with any other key.\n         */\n        if (!this._isTextElement &&\n            !hasActiveDropdown &&\n            keyCode !== KeyCodeMap.ESC_KEY &&\n            keyCode !== KeyCodeMap.TAB_KEY &&\n            keyCode !== KeyCodeMap.SHIFT_KEY) {\n            this.showDropdown();\n            if (!this.input.isFocussed && wasPrintableChar) {\n                /*\n                  We update the input value with the pressed key as\n                  the input was not focussed at the time of key press\n                  therefore does not have the value of the key.\n                */\n                this.input.value += event.key;\n                // browsers interpret a space as pagedown\n                if (event.key === ' ') {\n                    event.preventDefault();\n                }\n            }\n        }\n        switch (keyCode) {\n            case KeyCodeMap.A_KEY:\n                return this._onSelectKey(event, this.itemList.element.hasChildNodes());\n            case KeyCodeMap.ENTER_KEY:\n                return this._onEnterKey(event, hasActiveDropdown);\n            case KeyCodeMap.ESC_KEY:\n                return this._onEscapeKey(event, hasActiveDropdown);\n            case KeyCodeMap.UP_KEY:\n            case KeyCodeMap.PAGE_UP_KEY:\n            case KeyCodeMap.DOWN_KEY:\n            case KeyCodeMap.PAGE_DOWN_KEY:\n                return this._onDirectionKey(event, hasActiveDropdown);\n            case KeyCodeMap.DELETE_KEY:\n            case KeyCodeMap.BACK_KEY:\n                return this._onDeleteKey(event, this._store.items, this.input.isFocussed);\n        }\n    };\n    Choices.prototype._onKeyUp = function ( /* event: KeyboardEvent */) {\n        this._canSearch = this.config.searchEnabled;\n    };\n    Choices.prototype._onInput = function ( /* event: InputEvent */) {\n        var value = this.input.value;\n        if (!value) {\n            if (this._isTextElement) {\n                this.hideDropdown(true);\n            }\n            else {\n                this._stopSearch();\n            }\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        if (this._canSearch) {\n            // do the search even if the entered text can not be added\n            this._handleSearch(value);\n        }\n        if (!this._canAddUserChoices) {\n            return;\n        }\n        // determine if a notice needs to be displayed for why a search result can't be added\n        this._canCreateItem(value);\n        if (this._isSelectElement) {\n            this._highlightPosition = 0; // reset to select the notice and/or exact match\n            this._highlightChoice();\n        }\n    };\n    Choices.prototype._onSelectKey = function (event, hasItems) {\n        // If CTRL + A or CMD + A have been pressed and there are items to select\n        if ((event.ctrlKey || event.metaKey) && hasItems) {\n            this._canSearch = false;\n            var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n            if (shouldHightlightAll) {\n                this.highlightAll();\n            }\n        }\n    };\n    Choices.prototype._onEnterKey = function (event, hasActiveDropdown) {\n        var _this = this;\n        var value = this.input.value;\n        var target = event.target;\n        event.preventDefault();\n        if (target && target.hasAttribute('data-button')) {\n            this._handleButtonAction(target);\n            return;\n        }\n        if (!hasActiveDropdown) {\n            if (this._isSelectElement || this._notice) {\n                this.showDropdown();\n            }\n            return;\n        }\n        var highlightedChoice = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n        if (highlightedChoice && this._handleChoiceAction(highlightedChoice)) {\n            return;\n        }\n        if (!target || !value) {\n            this.hideDropdown(true);\n            return;\n        }\n        if (!this._canAddItems()) {\n            return;\n        }\n        var addedItem = false;\n        this._store.withTxn(function () {\n            addedItem = _this._findAndSelectChoiceByValue(value, true);\n            if (!addedItem) {\n                if (!_this._canAddUserChoices) {\n                    return;\n                }\n                if (!_this._canCreateItem(value)) {\n                    return;\n                }\n                _this._addChoice(mapInputToChoice(value, false, _this.config.allowHtmlUserInput), true, true);\n                addedItem = true;\n            }\n            _this.clearInput();\n            _this.unhighlightAll();\n        });\n        if (!addedItem) {\n            return;\n        }\n        this._triggerChange(value);\n        if (this.config.closeDropdownOnSelect) {\n            this.hideDropdown(true);\n        }\n    };\n    Choices.prototype._onEscapeKey = function (event, hasActiveDropdown) {\n        if (hasActiveDropdown) {\n            event.stopPropagation();\n            this.hideDropdown(true);\n            this._stopSearch();\n            this.containerOuter.element.focus();\n        }\n    };\n    Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n        var keyCode = event.keyCode;\n        // If up or down key is pressed, traverse through options\n        if (hasActiveDropdown || this._isSelectOneElement) {\n            this.showDropdown();\n            this._canSearch = false;\n            var directionInt = keyCode === KeyCodeMap.DOWN_KEY || keyCode === KeyCodeMap.PAGE_DOWN_KEY ? 1 : -1;\n            var skipKey = event.metaKey || keyCode === KeyCodeMap.PAGE_DOWN_KEY || keyCode === KeyCodeMap.PAGE_UP_KEY;\n            var nextEl = void 0;\n            if (skipKey) {\n                if (directionInt > 0) {\n                    nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            else {\n                var currentEl = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n                if (currentEl) {\n                    nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n                }\n                else {\n                    nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                }\n            }\n            if (nextEl) {\n                // We prevent default to stop the cursor moving\n                // when pressing the arrow\n                if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n                    this.choiceList.scrollToChildElement(nextEl, directionInt);\n                }\n                this._highlightChoice(nextEl);\n            }\n            // Prevent default to maintain cursor position whilst\n            // traversing dropdown options\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onDeleteKey = function (event, items, hasFocusedInput) {\n        // If backspace or delete key is pressed and the input has no value\n        if (!this._isSelectOneElement && !event.target.value && hasFocusedInput) {\n            this._handleBackspace(items);\n            event.preventDefault();\n        }\n    };\n    Choices.prototype._onTouchMove = function () {\n        if (this._wasTap) {\n            this._wasTap = false;\n        }\n    };\n    Choices.prototype._onTouchEnd = function (event) {\n        var target = (event || event.touches[0]).target;\n        var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n        if (touchWasWithinContainer) {\n            var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n            if (containerWasExactTarget) {\n                if (this._isTextElement) {\n                    this.input.focus();\n                }\n                else if (this._isSelectMultipleElement) {\n                    this.showDropdown();\n                }\n            }\n            // Prevents focus event firing\n            event.stopPropagation();\n        }\n        this._wasTap = true;\n    };\n    /**\n     * Handles mousedown event in capture mode for containetOuter.element\n     */\n    Choices.prototype._onMouseDown = function (event) {\n        var target = event.target;\n        if (!(target instanceof HTMLElement)) {\n            return;\n        }\n        // If we have our mouse down on the scrollbar and are on IE11...\n        if (IS_IE11 && this.choiceList.element.contains(target)) {\n            // check if click was on a scrollbar area\n            var firstChoice = this.choiceList.element.firstElementChild;\n            this._isScrollingOnIe =\n                this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n        }\n        if (target === this.input.element) {\n            return;\n        }\n        var item = target.closest('[data-button],[data-item],[data-choice]');\n        if (item instanceof HTMLElement) {\n            if ('button' in item.dataset) {\n                this._handleButtonAction(item);\n            }\n            else if ('item' in item.dataset) {\n                this._handleItemAction(item, event.shiftKey);\n            }\n            else if ('choice' in item.dataset) {\n                this._handleChoiceAction(item);\n            }\n        }\n        event.preventDefault();\n    };\n    /**\n     * Handles mouseover event over this.dropdown\n     * @param {MouseEvent} event\n     */\n    Choices.prototype._onMouseOver = function (_a) {\n        var target = _a.target;\n        if (target instanceof HTMLElement && 'choice' in target.dataset) {\n            this._highlightChoice(target);\n        }\n    };\n    Choices.prototype._onClick = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var clickWasWithinContainer = containerOuter.element.contains(target);\n        if (clickWasWithinContainer) {\n            if (!this.dropdown.isActive && !containerOuter.isDisabled) {\n                if (this._isTextElement) {\n                    if (document.activeElement !== this.input.element) {\n                        this.input.focus();\n                    }\n                }\n                else {\n                    this.showDropdown();\n                    containerOuter.element.focus();\n                }\n            }\n            else if (this._isSelectOneElement &&\n                target !== this.input.element &&\n                !this.dropdown.element.contains(target)) {\n                this.hideDropdown();\n            }\n        }\n        else {\n            containerOuter.removeFocusState();\n            this.hideDropdown(true);\n            this.unhighlightAll();\n        }\n    };\n    Choices.prototype._onFocus = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var focusWasWithinContainer = target && containerOuter.element.contains(target);\n        if (!focusWasWithinContainer) {\n            return;\n        }\n        var targetIsInput = target === this.input.element;\n        if (this._isTextElement) {\n            if (targetIsInput) {\n                containerOuter.addFocusState();\n            }\n        }\n        else if (this._isSelectMultipleElement) {\n            if (targetIsInput) {\n                this.showDropdown(true);\n                // If element is a select box, the focused element is the container and the dropdown\n                // isn't already open, focus and show dropdown\n                containerOuter.addFocusState();\n            }\n        }\n        else {\n            containerOuter.addFocusState();\n            if (targetIsInput) {\n                this.showDropdown(true);\n            }\n        }\n    };\n    Choices.prototype._onBlur = function (_a) {\n        var target = _a.target;\n        var containerOuter = this.containerOuter;\n        var blurWasWithinContainer = target && containerOuter.element.contains(target);\n        if (blurWasWithinContainer && !this._isScrollingOnIe) {\n            if (target === this.input.element) {\n                containerOuter.removeFocusState();\n                this.hideDropdown(true);\n                if (this._isTextElement || this._isSelectMultipleElement) {\n                    this.unhighlightAll();\n                }\n            }\n            else if (target === this.containerOuter.element) {\n                // Remove the focus state when the past outerContainer was the target\n                containerOuter.removeFocusState();\n                // Also close the dropdown if search is disabled\n                if (!this._canSearch) {\n                    this.hideDropdown(true);\n                }\n            }\n        }\n        else {\n            // On IE11, clicking the scollbar blurs our input and thus\n            // closes the dropdown. To stop this, we refocus our input\n            // if we know we are on IE *and* are scrolling.\n            this._isScrollingOnIe = false;\n            this.input.element.focus();\n        }\n    };\n    Choices.prototype._onFormReset = function () {\n        var _this = this;\n        this._store.withTxn(function () {\n            _this.clearInput();\n            _this.hideDropdown();\n            _this.refresh(false, false, true);\n            if (_this._initialItems.length) {\n                _this.setChoiceByValue(_this._initialItems);\n            }\n        });\n    };\n    Choices.prototype._highlightChoice = function (el) {\n        if (el === void 0) { el = null; }\n        var choices = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier));\n        if (!choices.length) {\n            return;\n        }\n        var passedEl = el;\n        var highlightedState = this.config.classNames.highlightedState;\n        var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(getClassNamesSelector(highlightedState)));\n        // Remove any highlighted choices\n        highlightedChoices.forEach(function (choice) {\n            removeClassesFromElement(choice, highlightedState);\n            choice.setAttribute('aria-selected', 'false');\n        });\n        if (passedEl) {\n            this._highlightPosition = choices.indexOf(passedEl);\n        }\n        else {\n            // Highlight choice based on last known highlight location\n            if (choices.length > this._highlightPosition) {\n                // If we have an option to highlight\n                passedEl = choices[this._highlightPosition];\n            }\n            else {\n                // Otherwise highlight the option before\n                passedEl = choices[choices.length - 1];\n            }\n            if (!passedEl) {\n                passedEl = choices[0];\n            }\n        }\n        addClassesToElement(passedEl, highlightedState);\n        passedEl.setAttribute('aria-selected', 'true');\n        this.passedElement.triggerEvent(EventType.highlightChoice, {\n            el: passedEl,\n        });\n        if (this.dropdown.isActive) {\n            // IE11 ignores aria-label and blocks virtual keyboard\n            // if aria-activedescendant is set without a dropdown\n            this.input.setActiveDescendant(passedEl.id);\n            this.containerOuter.setActiveDescendant(passedEl.id);\n        }\n    };\n    Choices.prototype._addItem = function (item, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (!item.id) {\n            throw new TypeError('item.id must be set before _addItem is called for a choice/item');\n        }\n        if (this.config.singleModeForMultiSelect || this._isSelectOneElement) {\n            this.removeActiveItems(item.id);\n        }\n        this._store.dispatch(addItem(item));\n        if (withEvents) {\n            this.passedElement.triggerEvent(EventType.addItem, this._getChoiceForOutput(item));\n            if (userTriggered) {\n                this.passedElement.triggerEvent(EventType.choice, this._getChoiceForOutput(item));\n            }\n        }\n    };\n    Choices.prototype._removeItem = function (item) {\n        if (!item.id) {\n            return;\n        }\n        this._store.dispatch(removeItem$1(item));\n        var notice = this._notice;\n        if (notice && notice.type === NoticeTypes.noChoices) {\n            this._clearNotice();\n        }\n        this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(item));\n    };\n    Choices.prototype._addChoice = function (choice, withEvents, userTriggered) {\n        if (withEvents === void 0) { withEvents = true; }\n        if (userTriggered === void 0) { userTriggered = false; }\n        if (choice.id) {\n            throw new TypeError('Can not re-add a choice which has already been added');\n        }\n        var config = this.config;\n        if (!config.duplicateItemsAllowed && this._store.choices.find(function (c) { return config.valueComparer(c.value, choice.value); })) {\n            return;\n        }\n        // Generate unique id, in-place update is required so chaining _addItem works as expected\n        this._lastAddedChoiceId++;\n        choice.id = this._lastAddedChoiceId;\n        choice.elementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choice.id);\n        var prependValue = config.prependValue, appendValue = config.appendValue;\n        if (prependValue) {\n            choice.value = prependValue + choice.value;\n        }\n        if (appendValue) {\n            choice.value += appendValue.toString();\n        }\n        if ((prependValue || appendValue) && choice.element) {\n            choice.element.value = choice.value;\n        }\n        this._clearNotice();\n        this._store.dispatch(addChoice(choice));\n        if (choice.selected) {\n            this._addItem(choice, withEvents, userTriggered);\n        }\n    };\n    Choices.prototype._addGroup = function (group, withEvents) {\n        var _this = this;\n        if (withEvents === void 0) { withEvents = true; }\n        if (group.id) {\n            throw new TypeError('Can not re-add a group which has already been added');\n        }\n        this._store.dispatch(addGroup(group));\n        if (!group.choices) {\n            return;\n        }\n        // add unique id for the group(s), and do not store the full list of choices in this group\n        this._lastAddedGroupId++;\n        group.id = this._lastAddedGroupId;\n        group.choices.forEach(function (item) {\n            item.group = group;\n            if (group.disabled) {\n                item.disabled = true;\n            }\n            _this._addChoice(item, withEvents);\n        });\n    };\n    Choices.prototype._createTemplates = function () {\n        var _this = this;\n        var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n        var userTemplates = {};\n        if (typeof callbackOnCreateTemplates === 'function') {\n            userTemplates = callbackOnCreateTemplates.call(this, strToEl, escapeForTemplate, getClassNames);\n        }\n        var templating = {};\n        Object.keys(this._templates).forEach(function (name) {\n            if (name in userTemplates) {\n                templating[name] = userTemplates[name].bind(_this);\n            }\n            else {\n                templating[name] = _this._templates[name].bind(_this);\n            }\n        });\n        this._templates = templating;\n    };\n    Choices.prototype._createElements = function () {\n        var templating = this._templates;\n        var _a = this, config = _a.config, isSelectOneElement = _a._isSelectOneElement;\n        var position = config.position, classNames = config.classNames;\n        var elementType = this._elementType;\n        this.containerOuter = new Container({\n            element: templating.containerOuter(config, this._direction, this._isSelectElement, isSelectOneElement, config.searchEnabled, elementType, config.labelId),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.containerInner = new Container({\n            element: templating.containerInner(config),\n            classNames: classNames,\n            type: elementType,\n            position: position,\n        });\n        this.input = new Input({\n            element: templating.input(config, this._placeholderValue),\n            classNames: classNames,\n            type: elementType,\n            preventPaste: !config.paste,\n        });\n        this.choiceList = new List({\n            element: templating.choiceList(config, isSelectOneElement),\n        });\n        this.itemList = new List({\n            element: templating.itemList(config, isSelectOneElement),\n        });\n        this.dropdown = new Dropdown({\n            element: templating.dropdown(config),\n            classNames: classNames,\n            type: elementType,\n        });\n    };\n    Choices.prototype._createStructure = function () {\n        var _a = this, containerInner = _a.containerInner, containerOuter = _a.containerOuter, passedElement = _a.passedElement;\n        var dropdownElement = this.dropdown.element;\n        // Hide original element\n        passedElement.conceal();\n        // Wrap input in container preserving DOM ordering\n        containerInner.wrap(passedElement.element);\n        // Wrapper inner container with outer container\n        containerOuter.wrap(containerInner.element);\n        if (this._isSelectOneElement) {\n            this.input.placeholder = this.config.searchPlaceholderValue || '';\n        }\n        else {\n            if (this._placeholderValue) {\n                this.input.placeholder = this._placeholderValue;\n            }\n            this.input.setWidth();\n        }\n        containerOuter.element.appendChild(containerInner.element);\n        containerOuter.element.appendChild(dropdownElement);\n        containerInner.element.appendChild(this.itemList.element);\n        dropdownElement.appendChild(this.choiceList.element);\n        if (!this._isSelectOneElement) {\n            containerInner.element.appendChild(this.input.element);\n        }\n        else if (this.config.searchEnabled) {\n            dropdownElement.insertBefore(this.input.element, dropdownElement.firstChild);\n        }\n        this._highlightPosition = 0;\n        this._isSearching = false;\n    };\n    Choices.prototype._initStore = function () {\n        var _this = this;\n        this._store.subscribe(this._render).withTxn(function () {\n            _this._addPredefinedChoices(_this._presetChoices, _this._isSelectOneElement && !_this._hasNonChoicePlaceholder, false);\n        });\n        if (!this._store.choices.length || (this._isSelectOneElement && this._hasNonChoicePlaceholder)) {\n            this._render();\n        }\n    };\n    Choices.prototype._addPredefinedChoices = function (choices, selectFirstOption, withEvents) {\n        var _this = this;\n        if (selectFirstOption === void 0) { selectFirstOption = false; }\n        if (withEvents === void 0) { withEvents = true; }\n        if (selectFirstOption) {\n            /**\n             * If there is a selected choice already or the choice is not the first in\n             * the array, add each choice normally.\n             *\n             * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n             */\n            var noSelectedChoices = choices.findIndex(function (choice) { return choice.selected; }) === -1;\n            if (noSelectedChoices) {\n                choices.some(function (choice) {\n                    if (choice.disabled || 'choices' in choice) {\n                        return false;\n                    }\n                    choice.selected = true;\n                    return true;\n                });\n            }\n        }\n        choices.forEach(function (item) {\n            if ('choices' in item) {\n                if (_this._isSelectElement) {\n                    _this._addGroup(item, withEvents);\n                }\n            }\n            else {\n                _this._addChoice(item, withEvents);\n            }\n        });\n    };\n    Choices.prototype._findAndSelectChoiceByValue = function (value, userTriggered) {\n        var _this = this;\n        if (userTriggered === void 0) { userTriggered = false; }\n        // Check 'value' property exists and the choice isn't already selected\n        var foundChoice = this._store.choices.find(function (choice) { return _this.config.valueComparer(choice.value, value); });\n        if (foundChoice && !foundChoice.disabled && !foundChoice.selected) {\n            this._addItem(foundChoice, true, userTriggered);\n            return true;\n        }\n        return false;\n    };\n    Choices.prototype._generatePlaceholderValue = function () {\n        var config = this.config;\n        if (!config.placeholder) {\n            return null;\n        }\n        if (this._hasNonChoicePlaceholder) {\n            return config.placeholderValue;\n        }\n        if (this._isSelectElement) {\n            var placeholderOption = this.passedElement.placeholderOption;\n            return placeholderOption ? placeholderOption.text : null;\n        }\n        return null;\n    };\n    Choices.prototype._warnChoicesInitFailed = function (caller) {\n        if (this.config.silent) {\n            return;\n        }\n        if (!this.initialised) {\n            throw new TypeError(\"\".concat(caller, \" called on a non-initialised instance of Choices\"));\n        }\n        else if (!this.initialisedOK) {\n            throw new TypeError(\"\".concat(caller, \" called for an element which has multiple instances of Choices initialised on it\"));\n        }\n    };\n    Choices.version = '11.1.0';\n    return Choices;\n}());\n\nexport { Choices as default };\n","'use strict';\n\nconst componenetDefaultAttribute = {\n\tname: null,\n\ttype: 'text',\n\tinfo: void 0,\n\tlabel: void 0,\n\tplaceholder: void 0,\n\tdisabled: false,\n\treadonly: false,\n\torder: 1,\n\tform: 'inputText',\n\tgrupo: 1,\n\ttarget: -1,\n\tvalor: '',\n\tevent: void 0,\n\tdata: void 0,\n\tdatemax: '',\n\tsearchType: false,\n\tsearch: '',\n\tclassName: '',\n};\n\nclass ComponentModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'name';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\t...componenetDefaultAttribute,\n\t\t};\n\t}\n}\n\nclass ComponentValidModel extends ComponentModel {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'name';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\t...componenetDefaultAttribute,\n\t\t\tpattern: '', //tipo validacion\n\t\t\tdvalor: '', //valor por defecto\n\t\t\tlongitud: '', //valor de longitud del campo\n\t\t\trango: '', //valor de rango para datos numericos\n\t\t\tsize: 42,\n\t\t\tdetalle: '',\n\t\t};\n\t}\n}\n\nexport { componenetDefaultAttribute, ComponentModel, ComponentValidModel };\n","'use strict';\nimport { $App } from '@/App';\n\nclass GestionAdjuntoService {\n\tconstructor() {}\n\n\tborrarArchivo(transfer = {}) {\n\t\tconst { data, callback } = transfer;\n\t\t$App.trigger('syncro', {\n\t\t\turl: $App.url('borrarArchivo'),\n\t\t\tdata,\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t$App.trigger('alert:success', { message: response.msj });\n\t\t\t\t\t\treturn callback(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t},\n\t\t});\n\t}\n\n\tprocessDocument(transfer = {}) {\n\t\tconst { data, url, callback } = transfer;\n\t\t$App.trigger('syncro', {\n\t\t\turl: url,\n\t\t\tdata: data,\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\treturn callback(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$App.trigger('alert:warning', {\n\t\t\t\t\t\t\tmessage: 'No se puede generar el formulario',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t},\n\t\t});\n\t}\n\n\tguardarArchivo(transfer = {}) {\n\t\tconst { target, id, coddoc, callback } = transfer;\n\t\tconst formData = new FormData();\n\n\t\tformData.append('archivo_' + id + '_' + coddoc, $(target)[0].files[0]);\n\t\tformData.append('id', id);\n\t\tformData.append('coddoc', coddoc);\n\n\t\t$App.trigger('upload', {\n\t\t\turl: $App.url('guardarArchivo'),\n\t\t\tdata: formData,\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\treturn callback(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$App.trigger('alert:error', { message: response['msj'] });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t},\n\t\t});\n\t}\n}\n\nexport { GestionAdjuntoService };\n","import Choices from 'choices.js';\nimport { ModelView } from '@/Common/ModelView';\n\nclass SelectComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\n\t\tthis.template = _.template(`\n\t\t\t<select\n\t\t\t\ttype=\"<%=type%>\"\n\t\t\t\tclass=\"form-control <%=className%>\"\n\t\t\t\ttoggle-entity=\"_entitie_form\"\n\t\t\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\t\t\tid=\"<%=name%>\"\n\t\t\t\tname=\"<%=name%>\"\n\t\t\t\ttarget=\"<%= target%>\"\n\t\t\t\tplaceholder=\"<%=placeholder%>\"\n\t\t\t\tvalue=\"<%= valor%>\"\n\t\t\t\t<%=(readonly)? 'readonly': ''%>\n\t\t\t\t<%=(disabled)? 'disabled': ''%>>\n\t\t\t\t<option value=\"\">Pendiente seleccionar...</option>\n\t\t\t\t<% data = (searchType == 'local')? this.collection[search]: new Array()\n\t\t\t\tif(_.size(data) > 0){\n\t\t\t\t\t_.each(data, function(row, index){ \t%>\n\t\t\t\t\t<% selected = (index == valor)? 'selected': '' %>\n\t\t\t\t\t<option <%=selected%> value=\"<%= index%>\"><%= row%></option>\n\t\t\t\t<% })\n\t\t\t\t} else { %>\n\t\t\t\t\t<option value=\"\">...</option>\n\t\t\t\t<% } %>\n\t\t\t</select>\n\t\t\t<label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n\t\t`);\n\t}\n}\n\nclass RadioComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(`\n            <div class=\"form-check form-check-inline mt-2\">\n                <input\n                    id=\"<%=name%>1\"\n                    name=\"<%=name%>\"\n                    toggle-entity=\"entitie_form\"\n                    target=\"<%= target%>\"\n                    class=\"form-check-input mt-0\"\n                    toggle-event=\"<%=(event)? event :'' %>\"\n                    type=\"radio\"\n                    value='S'\n                    <%=(valor == 'S')? 'checked':''%>\n                    <%=(readonly)? 'readonly': ''%>\n                    <%=(disabled)? 'disabled': ''%>\n                />\n                <label class=\"form-check-label mt-0\" for=\"flexRadioDefault1\">\n                    SI\n                </label>\n            </div>\n            <div class=\"form-check form-check-inline\">\n                <input\n                    id=\"<%=name%>2\"\n                    name=\"<%=name%>\"\n                    toggle-entity=\"entitie_form\"\n                    target=\"<%= target%>\"\n                    class=\"form-check-input mt-0\"\n                    toggle-event=\"<%=(event)? event.name:'' %>\"\n                    type=\"radio\"\n                    value='N'\n                    <%=(valor != 'S')? 'checked':''%>\n                    <%=(readonly)? 'readonly': ''%>\n                    <%=(disabled)? 'disabled': ''%>\n                />\n                <label class=\"form-check-label mt-0\" for=\"flexRadioDefault2\">\n                    NO\n                </label>\n            </div>\n             <label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n            `);\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass DateComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = `<input\n            type=\"<%=type%>\"\n            class=\"form-control datepicker mt-2 ddate\"\n            toggle-entity=\"entitie_form\"\n            toggle-event=\"<%= (event)? event : '' %>\"\n            id=\"<%=name%>\"\n            name=\"<%=name%>\"\n            target=\"<%= target%>\"\n            placeholder=\"<%=(placeholder)? placeholder : label %>\"\n            value=\"<%= valor%>\"\n            for=\"<%= name%>\"\n            title=\"<%=(placeholder)? placeholder : label %>\"\n            <%=(disabled)? 'disabled': ''%>\n            <%=(readonly)? 'readonly': ''%>\n\t    />`;\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass TextComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = `<textarea\n\t\ttype=\"<%=type%>\"\n\t\ttoggle-entity=\"entitie_form\"\n\t\tclass=\"form-control  mt-2\"\n\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\tid=\"<%=name%>\"\n\t\tname=\"<%=name%>\"\n\t\ttarget=\"<%= target%>\"\n\t\tplaceholder=\"<%=(placeholder)? placeholder : label %>\"\n\t\tmaxlength=\"<%= longitud %>\"\n\t\trows=\"<%=(rows)? rows : 1 %>\"\n\t\t<%=(readonly)? 'readonly': ''%>\n\t\t<%=(disabled)? 'disabled': ''%>><%= valor%></textarea>\n      <label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n      `;\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass DialogComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(`<div class=\"input-group  mt-2\">\n            <input\n                type=\"text\"\n                toggle-entity=\"entitie_form\"\n                class=\"d-none\"\n                id=\"<%= name%>\"\n                name=\"<%= name%>\"\n                value=\"<%= valor%>\"\n                target=\"-1\"\n            />\n            <% if(type === 'text'){ %>\n                <input type=\"<%=type%>\"\n                placeholder=\"<%=(placeholder)? placeholder : label %>\"\n                ondblclick=\"document.querySelector('.search_<%=name%>').click()\"\n                id=\"<%= name%>_detalle\"\n                name=\"<%= name%>_detalle\"\n                class=\"form-control\"\n                value=\"<%= detalle%>\"\n                target=\"-1\"\n                readonly\n            />\n            <% } %>\n            <% if(type === 'textarea'){ %>\n                <textarea\n                rows='1'\n                placeholder=\"<%=(placeholder)? placeholder : label %>\"\n                ondblclick=\"document.querySelector('.search_<%=name%>').click()\"\n                id=\"<%= name%>_detalle\"\n                name=\"<%= name%>_detalle\"\n                class=\"form-control\"\n                target=\"-1\"\n                readonly ><%= detalle%></textarea>\n            <% } %>\n\n            <span class=\"input-group-text\">\n                <% if(searchType === \"ajax\"){ %>\n                    <button type=\"button\"\n                    target= \"<%= target%>\"\n                    data-search=\"<%=search%>\"\n                    data-tag=\"<%=name%>\"\n                    data-size=\"<%=(size)? size : 100 %>\"\n                    data-detalle=\"<%=name%>_detalle\"\n                    onclick=\"buscarDataAjax(this)\"\n                    class=\"btn btn-sm bg-gray search_<%=name%>\"\n                    <%=(disabled)? 'disabled': ''%>\n                    >\n                        <i class=\"fa fa-search\"></i>\n                </button>\n                <% } else { %>\n                    <button type=\"button\"\n                    target= \"<%= target%>\"\n                    data-search=\"<%=search%>\"\n                    data-tag=\"<%=name%>\"\n                    data-size=\"<%=(size)? size : 100 %>\"\n                    data-detalle=\"<%=name%>_detalle\"\n                    onclick=\"buscarData(this, Colletions)\"\n                    class=\"btn btn-sm bg-gray search_<%=name%>\"\n                    <%=(disabled)? 'disabled': ''%>\n                    >\n                        <i class=\"fa fa-search\"></i>\n                </button>\n                <% } %>\n            </span>\n        </div>\n        <p id=\"<%=name%>_hp\" class=\"d-none text-danger\"></p>`);\n\t}\n\n\tget className() {\n\t\treturn 'form-group';\n\t}\n}\n\nclass OpenAddress extends Backbone.View {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tinitialize() {\n\t\tthis.Modal = new bootstrap.Modal(document.getElementById('modal_generic'), {\n\t\t\tkeyboard: true,\n\t\t\tbackdrop: 'static',\n\t\t});\n\t}\n\n\trender() {\n\t\tconst template = _.template(document.getElementById('tmp_direction').innerHTML);\n\t\tthis.$el.html(\n\t\t\ttemplate({\n\t\t\t\tadress: this.collection,\n\t\t\t}),\n\t\t);\n\t\t$('#size_modal_generic').addClass('modal-lg');\n\t\tthis.Modal.show();\n\t\tdocument.getElementById('modal_generic').addEventListener('hidden.bs.modal', (e) => {\n\t\t\tif ($('.modal:visible').length == 0) this.remove();\n\t\t});\n\t\treturn this;\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'blur [data-toggle=\"valida_caracteres\"]': 'validaCaracteres',\n\t\t\t'click #button_address_modal': 'addressModal',\n\t\t\t'change #address_zona': 'addressZona',\n\t\t\t'click #address_one': 'addressOne',\n\t\t\t'click [data-dismiss=\"modal\"]': 'closeModal',\n\t\t};\n\t}\n\n\tcloseModal(e) {\n\t\te.preventDefault();\n\t\tthis.Modal.hide();\n\t}\n\n\tvalidaCaracteres(e) {\n\t\tlet target = $(e.currentTarget);\n\t\tif (/[^a-zA-Z\\ 0-9]/g.test(target.val())) {\n\t\t\ttarget.val('');\n\t\t}\n\t}\n\n\taddressModal(event) {\n\t\tevent.preventDefault();\n\t\tlet barrio = '';\n\t\tlet address;\n\n\t\tif (this.$el.find('#address_five').val() !== '') {\n\t\t\tbarrio = ' BRR ' + $('#address_five').val();\n\t\t}\n\t\tif (this.$el.find('#address_one').val() == null && $('#address_two').val() == '') {\n\t\t\taddress = 'BRR';\n\t\t} else {\n\t\t\taddress =\n\t\t\t\tthis.$el.find('#address_one').val() +\n\t\t\t\t' ' +\n\t\t\t\tthis.$el.find('#address_two').val() +\n\t\t\t\t' ' +\n\t\t\t\tthis.$el.find('#address_four').val() +\n\t\t\t\t' ' +\n\t\t\t\tbarrio;\n\t\t}\n\t\tdocument.getElementById(this.model.name).value = address;\n\t\tthis.Modal.hide();\n\t}\n\n\taddressZona(event) {\n\t\tevent.preventDefault();\n\t\tconst valor = $(event.currentTarget).val();\n\t\tlet lista;\n\t\tif (valor === 'R') {\n\t\t\tlista = _.filter(this.collection, (row) => {\n\t\t\t\treturn row.tipo_rural === 'S' || row.tipo_rural === 'V';\n\t\t\t});\n\t\t\tthis.$el.find('#address_barrio').fadeOut();\n\t\t\tthis.$el.find('#show_address_four').fadeOut();\n\t\t\tthis.$el.find('#address_nombre_optional').text('Nombre ubicación');\n\t\t\tthis.$el.find('#show_address_two').attr('class', 'col-md-4');\n\t\t\tthis.$el.find('#address_one').removeAttr('disabled');\n\n\t\t\tnew Choices(this.$el.find('#address_one')[0]);\n\t\t} else if (valor === 'U') {\n\t\t\tlista = _.filter(this.collection, (row) => {\n\t\t\t\treturn row.tipo_rural === 'N';\n\t\t\t});\n\t\t\tthis.$el.find('#show_address_four').fadeIn();\n\t\t\tthis.$el.find('#address_barrio').fadeIn();\n\t\t\tthis.$el.find('#address_nombre_optional').text('Número ');\n\t\t\tthis.$el.find('#show_address_two').attr('class', 'col-md-2');\n\t\t\tthis.$el.find('#address_one').removeAttr('disabled');\n\n\t\t\tnew Choices(this.$el.find('#address_one')[0]);\n\t\t} else {\n\t\t\tlista = [];\n\t\t\t$('#address_one').attr('disabled', 'true');\n\t\t}\n\n\t\tlet html = '';\n\t\tconst template = _.template(`<option value=\"<%=estado%>\"><%=detalle%></option>`);\n\t\t_.each(lista, (adres) => {\n\t\t\thtml += template(adres);\n\t\t});\n\t\tthis.$el.find('#address_one').html(html);\n\t}\n\n\taddressOne(event) {\n\t\tevent.preventDefault();\n\t\tif (this.$el.find('#address_zona').val() == '') {\n\t\t\tthis.$el.find('#address_zona').focus();\n\t\t\tthis.$el.find('#address_one').val('');\n\t\t}\n\t}\n}\n\nclass InputComponent extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\n\t\tthis.template = _.template(`\n\t\t\t<input\n\t\t\t\ttype=\"<%=type%>\"\n\t\t\t\tclass=\"form-control <%=className%>\"\n\t\t\t\ttoggle-entity=\"_entitie_form\"\n\t\t\t\ttoggle-event=\"<%=(event)? event : '' %>\"\n\t\t\t\tid=\"<%=name%>\"\n\t\t\t\tname=\"<%=name%>\"\n\t\t\t\ttarget=\"<%= target%>\"\n\t\t\t\tplaceholder=\"<%=placeholder%>\"\n\t\t\t\tvalue=\"<%= valor%>\"\n\t\t\t\t<%=(readonly)? 'readonly': ''%>\n\t\t\t\t<%=(disabled)? 'disabled': ''%>\n\t\t\t\t/>\n\t\t\t<label toggle-error=\"<%=name%>\" id=\"<%=name%>-error\" class=\"error\" for=\"<%=name%>\"></label>\n\t\t`);\n\t}\n}\n\nexport {\n\tSelectComponent,\n\tRadioComponent,\n\tDateComponent,\n\tTextComponent,\n\tDialogComponent,\n\tOpenAddress,\n\tInputComponent,\n};\n","'use strict';\n\nclass DocumentoModel extends Backbone.Model {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t}\n\n\tget idAttribute() {\n\t\treturn 'coddoc';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tcoddoc: null,\n\t\t\tpuede_borrar: false,\n\t\t\ttipopc: void 0,\n\t\t\ttipsoc: void 0,\n\t\t\tobliga: null,\n\t\t\tauto_generado: 0,\n\t\t\tid: null,\n\t\t\tdetalle: void 0,\n\t\t\tdiponible: void 0,\n\t\t\tcorrige: false,\n\t\t};\n\t}\n}\n\nexport { DocumentoModel };\n","'use strict';\n\nclass CollectionView extends Backbone.View {\n\tmodelView = void 0;\n\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.children = [];\n\t}\n\n\tinitialize() {\n\t\tthis.listenTo(this.collection, 'add', this.modelAdded);\n\t\tthis.listenTo(this.collection, 'remove', this.modelRemoved);\n\t\tthis.listenTo(this.collection, 'reset', this.render);\n\t}\n\n\tmodelAdded(model) {\n\t\tconst view = this.renderModel(model);\n\t\tthis.$el.append(view.$el);\n\t}\n\n\t// Close view of model when is removed from the collection\n\tmodelRemoved(model) {\n\t\tif (!model) return;\n\n\t\tlet view = this.children[model.cid];\n\t\tthis.closeChildView(view);\n\t}\n\n\trender() {\n\t\tthis.closeChildren();\n\t\tconst html = this.collection.map((model) => {\n\t\t\tlet view = this.renderModel(model);\n\t\t\treturn view.$el;\n\t\t});\n\n\t\tthis.$el.html(html);\n\t\treturn this;\n\t}\n\n\trenderModel(model) {\n\t\t// Create a new view instance, modelView should be\n\t\t// redefined as a subclass of Backbone.View\n\t\tlet view;\n\t\tif (this.modelView) {\n\t\t\tview = new this.modelView({ model: model });\n\t\t} else {\n\t\t\tthrow new Error('Error no hay model view ha mostrar');\n\t\t}\n\n\t\t// Keep track of which view belongs to a model\n\t\tthis.children[model.cid] = view;\n\n\t\t// Re-trigger all events in the children views, so that\n\t\t// you can listen events of the children views from the\n\t\t// collection view\n\t\tthis.listenTo(view, 'all', (eventName) => {\n\t\t\tthis.trigger('item:' + eventName, view, model);\n\t\t});\n\n\t\tview.render();\n\t\treturn view;\n\t}\n\n\t// Called to close the collection view, should close\n\t// itself and all the live childrens\n\n\tremove() {\n\t\tBackbone.View.prototype.remove.call(this);\n\t\tthis.closeChildren();\n\t}\n\n\t// Close all the live childrens\n\tcloseChildren() {\n\t\tconst children = this.children || {};\n\t\t_.each(children, (child) => this.closeChildView(child));\n\t}\n\n\t// Close a single children at time\n\tcloseChildView(view) {\n\t\t// Ignore if view is not valid\n\t\tif (!view) return;\n\n\t\t// Call the remove function only if available\n\t\tif (_.isFunction(view.remove)) {\n\t\t\tview.remove();\n\t\t}\n\n\t\t// Remove event hanlders for the view\n\t\tthis.stopListening(view);\n\n\t\t// Stop tracking the model-view relationship for the\n\t\t// closed view\n\t\tif (view.model) {\n\t\t\tthis.children[view.model.cid] = undefined;\n\t\t}\n\t}\n}\n\nexport { CollectionView };\n","import { CollectionView } from '../Collections/CollectionView';\nimport { ModelView } from '@/Common/ModelView';\n\nclass DocumentsCollectionView extends CollectionView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.modelView = DocumentsRow;\n\t}\n\n\tget tagName() {\n\t\treturn 'tbody';\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove() {\n\t\tthis.stopListening();\n\t\tBackbone.View.prototype.remove.call(this);\n\t}\n}\n\nclass DocumentsRow extends ModelView {\n\tconstructor(options = {}) {\n\t\tsuper(options);\n\t\tthis.template = _.template(document.getElementById('tmp_docurow').innerHTML);\n\t}\n\n\tinitialize() {\n\t\tthis.listenTo(this.model, 'change', this.render);\n\t}\n\n\tget tagName() {\n\t\treturn 'tr';\n\t}\n}\n\nexport { DocumentsCollectionView };\n","'use strict';\n\nimport { $App } from '@/App';\nimport { DocumentoModel } from '../Models/DocumentoModel';\nimport { DocumentsCollectionView } from './DocumentsCollectionView';\n\nclass DocumentoCollection extends Backbone.Collection {\n    get model() {\n        return DocumentoModel;\n    }\n}\n\nclass LoadDocumentsView extends Backbone.View {\n    constructor(options) {\n        super(options);\n        this.documentosCollection = new DocumentoCollection();\n        this.documentosView = null;\n    }\n\n    get className() {\n        return 'card-body';\n    }\n\n    initialize() {\n        this.template = $('#tmp_documentos').html();\n    }\n\n    get events() {\n        return {\n            'click [toggle-event=\"borrar\"]': 'borrarArchivo',\n            'click [toggle-event=\"download\"]': 'descargaArchivo',\n            'click [toggle-event=\"prodoc\"]': 'processDocument',\n            'click [toggle-event=\"salvar\"]': 'guardarArchivo',\n            'click [toggle-event=\"show\"]': 'verArchivo',\n            'change input[toggle-event=\"change\"]': 'showNameFile',\n        };\n    }\n\n    render() {\n        const { archivos, path, puede_borrar, disponibles } = this.collection[0];\n\n        const template = _.template(this.template);\n        this.$el.html(\n            template({\n                archivos,\n                path,\n                puede_borrar,\n                disponibles,\n                model: this.model.toJSON(),\n            }),\n        );\n\n        _.each(archivos, (archivo) => {\n            archivo.puede_borrar = puede_borrar;\n            this.documentosCollection.add(new DocumentoModel(archivo), { merge: true });\n        });\n\n        this.documentosView = new DocumentsCollectionView({\n            collection: this.documentosCollection,\n        });\n        this.$el.find('#addArchivoRequeridos').append(this.documentosView.render().el);\n        return this;\n    }\n\n    borrarArchivo(event) {\n        event.preventDefault();\n        let target = $(event.currentTarget);\n        const coddoc = target.attr('data-coddoc');\n        const id = target.attr('data-id');\n\n        $App.trigger('confirma', {\n            message: 'Esta seguro de borrar el Archivo?',\n            callback: (status) => {\n                if (status) {\n                    this.trigger('file:trash', {\n                        data: {\n                            id: id,\n                            coddoc: coddoc,\n                        },\n                        callback: (response) => {\n                            if (response) {\n                                this.trigger('file:reload');\n                            }\n                        },\n                    });\n                }\n            },\n        });\n    }\n\n    descargaArchivo(event) {\n        event.preventDefault();\n        const target = this.$el.find(event.currentTarget);\n        $App.trigger('down', {\n            url: target.attr('data-url'),\n            filename: target.attr('data-file'),\n        });\n    }\n\n    processDocument(event) {\n        event.preventDefault();\n        let target = this.$el.find(event.currentTarget);\n        const id = parseInt(target.attr('data-cid'));\n        const url = $App.kumbiaURL(target.attr('data-url') + '/' + id);\n\n        this.trigger('file:firma', (response) => {\n            if (response) {\n                this.trigger('file:prodoc', {\n                    data: {\n                        id: id,\n                    },\n                    url: url,\n                    callback: (response) => {\n                        if (response) {\n                            $App.trigger('down', {\n                                url: response.url,\n                                filename: response.name,\n                            });\n                            this.trigger('file:reload');\n                        }\n                    },\n                });\n            }\n        });\n    }\n\n    guardarArchivo(e) {\n        e.preventDefault();\n        let _target = this.$el.find(e.currentTarget);\n        const coddoc = _target.attr('data-coddoc');\n        const id = parseInt(_target.attr('data-id'));\n        const target = document.querySelector('#archivo_' + coddoc);\n\n        this.trigger('file:save', {\n            target,\n            id,\n            coddoc,\n            callback: (response) => {\n                $App.trigger('alert:success', { message: response['msj'] });\n                this.trigger('file:reload');\n            },\n        });\n    }\n\n    showNameFile(event) {\n        let target = $(event.currentTarget);\n        let coddoc = target.attr('data-coddoc');\n        let files = document.getElementById(target.attr('id')).files;\n        if (files.length == 0) return;\n        let archivo = files[0];\n        this.$el.find('.toogle-show-name[data-code=\"' + coddoc + '\"]').html(archivo.name);\n    }\n\n    verArchivo(event) {\n        event.preventDefault();\n        var target = $(event.currentTarget);\n        const filename = target.attr('data-href');\n        const _filepath = btoa('public/temp/' + filename);\n        $App.trigger('syncro', {\n            url: $App.kumbiaURL('mercurio/principal/file_existe_global/' + _filepath),\n            callback: (resultado) => {\n                if (resultado) {\n                    if (resultado.success) {\n                        const url = ('../public/temp/' + filename).replace('//', '/');\n                        window.open($App.kumbiaURL(url), filename, 'width=900,height=750,toobal=no,statusbar=no,scrollbars=yes menuvar=yes');\n                    } else {\n                        Swal.fire({\n                            title: 'Notificación',\n                            text: 'El archivo no se logra localizar en el servidor',\n                            icon: 'warning',\n                            showConfirmButton: false,\n                            timer: 10000,\n                        });\n                    }\n                }\n            },\n        });\n    }\n\n    remove() {\n        if (this.documentosView) this.documentosView.remove();\n        this.stopListening();\n        Backbone.View.prototype.remove.call(this);\n    }\n}\n\nexport { LoadDocumentsView };\n","class SeguimientosView extends Backbone.View {\n\tconstructor(options) {\n\t\tsuper(options);\n\t}\n\n\tget events() {\n\t\treturn {};\n\t}\n\n\trender() {\n\t\tconst { campos_disponibles, estados_detalles, seguimientos } = this.collection[0];\n\t\tconst template = _.template(document.getElementById('tmp_seguimientos').innerHTML);\n\t\tconst renderedHtml = template({\n\t\t\tcampos_disponibles,\n\t\t\testados_detalles,\n\t\t\tseguimientos,\n\t\t});\n\n\t\tthis.$el.html(renderedHtml);\n\t\treturn this;\n\t}\n}\n\nexport { SeguimientosView };\n","'use strict';\n\nimport { $App } from '@/App';\n\nclass SubHeaderView extends Backbone.View {\n\tconstructor(options) {\n\t\tsuper(options);\n\t}\n\n\tinitialize(options = {}) {\n\t\tthis.listenTo(options.model, 'change', this.render);\n\t}\n\n\trender() {\n\t\tconst template = _.template(document.getElementById('tmp_subheader').innerHTML);\n\t\tthis.$el.html(\n\t\t\ttemplate({\n\t\t\t\tmodel: this.model.toJSON(),\n\t\t\t\titems: this.collection,\n\t\t\t}),\n\t\t);\n\t\treturn this;\n\t}\n\n\tget className() {\n\t\treturn 'row align-content-between';\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'show.bs.tab a[data-bs-toggle=\"pill\"]': 'actionSubHeader',\n\t\t\t'click #closeForm': 'closeForm',\n\t\t};\n\t}\n\n\tactionSubHeader(e) {\n\t\tconst action = $(e.target).attr('aria-controls');\n\t\tswitch (action) {\n\t\t\tcase 'seguimiento':\n\t\t\t\tthis.trigger('show:seguimiento');\n\t\t\t\tbreak;\n\t\t\tcase 'documentos_adjuntos':\n\t\t\t\tthis.trigger('show:documentos');\n\t\t\t\tbreak;\n\t\t\tcase 'enviar_radicado':\n\t\t\t\tthis.trigger('show:enviar');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tcloseForm(event) {\n\t\tevent.preventDefault();\n\t\t$App.trigger('confirma', {\n\t\t\tmessage: '¡Esta seguro que desea salir y volver a la lista principal!',\n\t\t\tcallback: (status) => {\n\t\t\t\tif (status) {\n\t\t\t\t\t$App.router.navigate('list', { trigger: true });\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n}\n\nexport { SubHeaderView };\n","import { $App } from '../App';\nimport { GestionAdjuntoService } from '../Componentes/Services/GestionAdjuntoService';\nimport {\n    DateComponent,\n    DialogComponent,\n    InputComponent,\n    OpenAddress,\n    RadioComponent,\n    SelectComponent,\n    TextComponent,\n} from '../Componentes/Views/ComponentsView';\nimport { LoadDocumentsView } from '../Componentes/Views/LoadDocumentsView';\nimport { SeguimientosView } from '../Componentes/Views/SeguimientosView';\nimport { SubHeaderView } from '../Componentes/Views/SubHeaderView';\nimport { is_numeric } from '../Core';\n\nexport class FormView extends Backbone.View {\n    #onRender = null;\n    App = null;\n\n    constructor(options = {}) {\n        super(options);\n        this.children = new Array();\n        this.gestionAdjuntoService = new GestionAdjuntoService();\n        this.region = options.region || null;\n        this.isNew = options.isNew || false;\n        this.template = '#tmp_create';\n        this.form = null;\n        this.selectores = {};\n        this.address = null;\n        this.subHeader = null;\n        this.viewDocuments = null;\n        _.extend(this, options);\n        this.#onRender = options.onRender || null;\n        this.App = options.App || $App;\n    }\n\n    render() {\n        const data = this.__serializeData();\n        const template = this.__compileTemplate();\n        this.$el.html(template(data));\n        this.form = this.$el.find(this.region.form);\n        this.__initSubHeader();\n        if (this.#onRender) this.#onRender(this.$el);\n        return this;\n    }\n\n    enviarRadicado(event) {\n        event.preventDefault();\n        this.__enviarCaja();\n    }\n\n    get className() {\n        return 'page-container';\n    }\n\n    __serializeData() {\n        if (_.isNull(this.model) || _.isUndefined(this.model)) {\n            return this.model;\n        } else {\n            return this.model.toJSON();\n        }\n    }\n\n    __initSubHeader() {\n        if (this.subHeader) this.subHeader.remove();\n        this.subHeader = new SubHeaderView({\n            model: this.model,\n            collection: [\n                {\n                    id: 'closeForm',\n                    hidden: false,\n                    label: 'Salir',\n                    icon: 'fa fa-times text-warning',\n                    active: false,\n                    tab: '',\n                },\n                {\n                    id: 'seguimiento-tab',\n                    hidden: this.model.get('id') && this.model.get('estado') !== 'T' ? false : true,\n                    label: 'Seguimiento',\n                    icon: 'fa fas fa-eye text-info',\n                    active: false,\n                    tab: 'seguimiento',\n                },\n                {\n                    id: 'datos_solicitud_tab',\n                    hidden: false,\n                    label: 'Ficha Principal Registro',\n                    icon: 'fa fas fa-edit text-yellow',\n                    active: true,\n                    tab: 'datos_solicitud',\n                },\n                {\n                    id: 'documentos_adjuntos_tab',\n                    hidden: this.model.get('id') ? false : true,\n                    label: 'Documentos Adjuntar',\n                    icon: 'fa fas fa-file text-purple',\n                    active: false,\n                    tab: 'documentos_adjuntos',\n                },\n                {\n                    id: 'enviarCaja',\n                    hidden: this.model.get('id') && (this.model.get('estado') === 'D' || this.model.get('estado') === 'T') ? false : true,\n                    label: 'Enviar Radicado',\n                    icon: 'fa fas fa-upload text-success',\n                    active: false,\n                    tab: 'enviar_radicado',\n                },\n            ],\n        });\n\n        this.listenTo(this.subHeader, 'show:documentos', this.__renderDocumentos);\n        this.listenTo(this.subHeader, 'show:seguimiento', this.__renderSeguimiento);\n        this.listenTo(this.subHeader, 'show:enviar', this.__enviarCaja);\n        this.App.layout.getRegion('subheader').show(this.subHeader);\n    }\n\n    isNumber(e) {\n        if ($(e.currentTarget).val() == '') return;\n        if (!is_numeric($(e.currentTarget).val())) return $(e.currentTarget).val('');\n    }\n\n    __compileTemplate() {\n        return _.template($(this.template).html());\n    }\n\n    getInput(selector) {\n        return this.$el.find(selector).val();\n    }\n\n    setInput(name, value) {\n        return this.$el.find(`[name='${name}']`).val(value);\n    }\n\n    serializeModel(entity) {\n        const dataArray = this.form.serializeArray();\n        _.each(dataArray, (item) => entity.set(item.name, item.value));\n        return entity;\n    }\n\n    addComponent(model = {}) {\n        const collection = this.App.Collections.formParams;\n        let view;\n        if (_.size(this.children) > 0) {\n            if (_.indexOf(this.children, model.get('cid')) != -1) {\n                view = this.children[model.get('cid')];\n            }\n        }\n        if (!view) {\n            switch (model.get('type')) {\n                case 'select':\n                    view = new SelectComponent({ model, collection });\n                    break;\n                case 'input':\n                    view = new InputComponent({ model });\n                    break;\n                case 'radio':\n                    view = new RadioComponent({ model });\n                    break;\n                case 'date':\n                    view = new DateComponent({ model });\n                    break;\n                case 'text':\n                    view = new TextComponent({ model });\n                    break;\n                case 'dialog':\n                    view = new DialogComponent({ model, collection });\n                    break;\n                default:\n                    break;\n            }\n            this.children[model.get('cid')] = view;\n        }\n        view.render();\n        return view;\n    }\n\n    openAddress(e) {\n        const target = this.$el.find(e.currentTarget);\n        const name = target.attr('data-name');\n\n        if (this.address) {\n            const view = new OpenAddress({\n                collection: this.address,\n                model: { name: name },\n            });\n            $('#show_modal_generic').html(view.render().el);\n        } else {\n            this.App.trigger('syncro', {\n                url: this.App.kumbiaURL('mercurio/principal/listaAdress'),\n                data: {},\n                silent: true,\n                callback: (response) => {\n                    if (response) {\n                        if (response.success) {\n                            this.address = response.data;\n                            const view = new OpenAddress({\n                                collection: response.data,\n                                model: { name: name },\n                            });\n                            $('#show_modal_generic').html(view.render().el);\n                        }\n                    }\n                },\n            });\n        }\n    }\n\n    __renderDocumentos() {\n        this.App.trigger('syncro', {\n            url: this.App.url('mercurio/consultaDocumentos/' + this.model.get('id')),\n            data: {},\n            callback: (response) => {\n                if (response.success) {\n                    if (this.viewDocuments != null) this.viewDocuments.remove();\n\n                    this.viewDocuments = new LoadDocumentsView({\n                        model: this.model,\n                        collection: [response.data],\n                    });\n\n                    this.listenTo(this.viewDocuments, 'file:trash', this.gestionAdjuntoService.borrarArchivo);\n                    this.listenTo(this.viewDocuments, 'file:save', this.gestionAdjuntoService.guardarArchivo);\n                    this.listenTo(this.viewDocuments, 'file:prodoc', this.gestionAdjuntoService.processDocument);\n                    //this.listenTo(this.viewDocuments, 'file:firma', this.__findFirmas);\n                    this.listenTo(this.viewDocuments, 'file:reload', this.__renderDocumentos);\n\n                    this.$el.find('#documentos_adjuntos').html(this.viewDocuments.render().el);\n                } else {\n                    this.App.trigger('alert:error', { message: response.msj });\n                }\n            },\n        });\n    }\n\n    __renderSeguimiento() {\n        this.App.trigger('syncro', {\n            url: this.App.url('mercurio/seguimiento/' + this.model.get('id')),\n            data: {},\n            callback: (response) => {\n                if (response.success) {\n                    const view = new SeguimientosView({\n                        model: this.model,\n                        collection: [\n                            {\n                                campos_disponibles: response.data.campos_disponibles,\n                                estados_detalles: response.data.estados_detalles,\n                                seguimientos: response.data.seguimientos,\n                            },\n                        ],\n                    });\n                    this.$el.find('#seguimiento').html(view.render().el);\n                } else {\n                    this.App.trigger('alert:error', { message: response.msj });\n                }\n            },\n        });\n    }\n\n    __enviarCaja() {\n        this.App.trigger('confirma', {\n            message: '¿Está seguro de envíar para verificación.?',\n            callback: (status) => {\n                if (status) {\n                    this.trigger('form:send', {\n                        model: this.model,\n                        callback: (response) => {\n                            if (response.success) {\n                                this.remove();\n                                this.App.router.navigate('list', { trigger: true });\n                            }\n                        },\n                    });\n                }\n            },\n        });\n    }\n\n    cancel(e) {\n        e.preventDefault();\n        this.App.router.navigate('list', { trigger: true });\n    }\n\n    actualizaForm(silent = void 0) {\n        _.each(this.model.toJSON(), (valor, key) => {\n            if (_.isEmpty(valor) == true || _.isUndefined(valor) == true) {\n            } else {\n                let _type = this.$el.find(`[name='${key}']`).attr('type');\n                if (_type === 'radio' || _type === 'checkbox') {\n                } else {\n                    this.setInput(key, valor);\n                    this.$el.find(`[for=\"${key}\"]`).addClass('top');\n                }\n            }\n        });\n\n        this.selectores.trigger('change');\n        this.form.valid();\n        if (silent == void 0) {\n            setTimeout(() => {\n                this.App.trigger('noty:info', 'El formulario se actualizo de forma correcta');\n            }, 700);\n        }\n    }\n\n    remove() {\n        if (this.subHeader) this.subHeader.remove();\n        if (this.viewDocuments) this.viewDocuments.remove();\n        this.stopListening();\n        Backbone.View.prototype.remove.call(this);\n    }\n}\n","import { RulesValidator } from '@/Componentes/Services/RulesValidator';\n\nclass EmpresaModel extends Backbone.Model {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.on('change:tipdoc', (model) => {\n\t\t\tlet coddocrepleg = EmpresaModel.changeTipdoc(model.get('tipdoc'));\n\t\t\tmodel.set('coddocrepleg', coddocrepleg);\n\t\t});\n\t}\n\n\tget idAttribute() {\n\t\treturn 'id';\n\t}\n\n\tget defaults() {\n\t\treturn {\n\t\t\tid: null,\n\t\t\tnit: void 0,\n\t\t\trazsoc: '',\n\t\t\tsigla: '',\n\t\t\tdigver: void 0,\n\t\t\tcalemp: '',\n\t\t\tcedrep: '',\n\t\t\trepleg: '',\n\t\t\ttelefono: void 0,\n\t\t\tcelular: void 0,\n\t\t\temail: '',\n\t\t\tfecini: void 0,\n\t\t\ttottra: void 0,\n\t\t\tvalnom: void 0,\n\t\t\ttipemp: '',\n\t\t\ttipper: '',\n\t\t\tpriape: '',\n\t\t\tprinom: '',\n\t\t\tsegnom: '',\n\t\t\tsegape: '',\n\t\t\ttipdoc: void 0,\n\t\t\tcodact: void 0,\n\t\t\tcoddocrepleg: void 0,\n\t\t\testado: void 0,\n\t\t\ttranoms: [],\n\t\t};\n\t}\n\n\tvalidate(attr = {}) {\n\t\treturn RulesValidator(EmpresaModel.Rules.rules, attr);\n\t}\n\n\tstatic Rules = {\n\t\trules: {\n\t\t\tnit: { required: true, minlength: 6, number: true, rangelength: [6, 18] },\n\t\t\trazsoc: { required: true, minlength: 5 },\n\t\t\tsigla: { required: false },\n\t\t\tdigver: { required: true, minlength: 1 },\n\t\t\tcalemp: { required: true, minlength: 1 },\n\t\t\tcedrep: { required: true, minlength: 6 },\n\t\t\trepleg: { required: true, minlength: 6 },\n\t\t\ttelefono: { required: true, number: true, rangelength: [7, 10] },\n\t\t\tcelular: { required: true, minlength: 10 },\n\t\t\temail: { required: true, email: true },\n\t\t\tfecini: { required: true, minlength: 10 },\n\t\t\ttottra: { required: true },\n\t\t\tvalnom: { required: true, minlength: 6 },\n\t\t\tdirpri: { required: true },\n\t\t\tdireccion: { required: true },\n\t\t\tciupri: { required: true },\n\t\t\tcelpri: { required: false, rangelength: [7, 10] },\n\t\t\temailpri: { required: false },\n\t\t\ttipemp: { required: true },\n\t\t\ttipper: { required: true },\n\t\t\tprinom: { required: true },\n\t\t\tpriape: { required: true },\n\t\t\tfectra: { required: false },\n\t\t\tcodzon: { required: true },\n\t\t\tcodact: { required: true },\n\t\t\ttipsoc: { required: true },\n\t\t\tcodciu: { required: true },\n\t\t},\n\t\tmessages: {\n\t\t\tnit: { required: 'Se requiere del campo nit' },\n\t\t\trazsoc: { required: 'Se requiere del campo razón social' },\n\t\t\tsigla: { required: 'Se requiere del campo sigla' },\n\t\t\tdigver: { required: 'Se requiere del campo digito verificación' },\n\t\t\tcalemp: { required: 'Se requiere del campo calidad empresa' },\n\t\t\tcedrep: { required: 'Se requiere del campo cedula' },\n\t\t\trepleg: { required: 'Se requiere del campo nombre' },\n\t\t\ttelefono: { required: 'Se requiere del campo télefono' },\n\t\t\tcelular: { required: 'Se requiere del campo celular' },\n\t\t\temail: { required: 'Se requiere del campo email' },\n\t\t\tfecini: { required: 'Se requiere del campo fecha inicio' },\n\t\t\ttottra: { required: 'Se requiere del campo total trabajadores' },\n\t\t\tvalnom: { required: 'Se requiere del campo valor nomina' },\n\t\t\tdirpri: { required: 'Se requiere del campo dirección' },\n\t\t\tciupri: { required: 'Se requiere del campo ciudad' },\n\t\t\tcelpri: { required: 'Se requiere del campo celular' },\n\t\t\temailpri: { required: 'Se requiere del campo email' },\n\t\t\ttipemp: { required: 'Se requiere del campo tipo empresa' },\n\t\t\ttipper: { required: 'Se requiere del campo tipo persona' },\n\t\t\tprinom: { required: 'Se requiere del campo primer nombre' },\n\t\t\tpriape: { required: 'Se requiere del campo primer apellido' },\n\t\t\tfectra: { required: 'Se requiere del campo fecha' },\n\t\t\tdireccion: { required: 'Se requiere del campo dirección' },\n\t\t\tcodzon: { required: 'Se requiere de la zona laboral' },\n\t\t\tcodact: { required: 'Se requiere de la actividad económica' },\n\t\t\ttipsoc: { required: 'Se requiere de tipo sociedad' },\n\t\t\tcodciu: { required: 'Se requiere la ciudad' },\n\t\t},\n\t};\n\n\tstatic changeTipdoc(index) {\n\t\tlet coddoc_repleg = {\n\t\t\t1: 'CC',\n\t\t\t10: 'TMF',\n\t\t\t11: 'CD',\n\t\t\t12: 'ISE',\n\t\t\t13: 'V',\n\t\t\t14: 'PT',\n\t\t\t2: 'TI',\n\t\t\t3: 'NI',\n\t\t\t4: 'CE',\n\t\t\t5: 'NU',\n\t\t\t6: 'PA',\n\t\t\t7: 'RC',\n\t\t\t8: 'PEP',\n\t\t\t9: 'CB',\n\t\t};\n\t\treturn coddoc_repleg[index];\n\t}\n\n\tstatic changeRuleProperty(transfer = {}) {\n\t\tconst { rule, prop, value } = transfer;\n\t\tEmpresaModel.Rules.rules[rule][prop] = value;\n\t}\n\n\tstatic changeRulesProperty(transfer = []) {\n\t\t_.each(transfer, (row) => EmpresaModel.changeRuleProperty(row));\n\t}\n}\n\nexport { EmpresaModel };\n","import { ComponentModel } from '../../../Componentes/Models/ComponentModel';\nimport { FormView } from '../../FormView';\nimport { $App } from '../../../App';\nimport { eventsFormControl } from '../../../Core';\nimport { EmpresaModel } from '../../Empresas/models/EmpresaModel';\nimport { ActualizadatosModel } from '../models/ActualizadatosModel';\n\nclass FormActualizadatosView extends FormView {\n\t#choiceComponents = null;\n\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tonRender: (el={}) => this.afterRender(el)\n\t\t});\n\t\tthis.viewComponents = [];\n\t\tthis.modelEmpresa = null;\n\t\tthis.viewComponents = [];\n\t\tthis.#choiceComponents = [];\n\t}\n\n\tget events() {\n\t\treturn {\n\t\t\t'click #guardar_ficha': 'saveFormData',\n\t\t\t'click #cancel': 'cancel',\n\t\t\t'focusout #telefono, #digver': 'isNumber',\n\t\t\t'focusout #cedtra': 'validePk',\n\t\t\t'change #tipdoc': 'changeTipoDocumento',\n\t\t\t'click [data-toggle=\"address\"]': 'openAddress',\n\t\t\t'change #tipper': 'changeTipoPer',\n\t\t\t'focusout #nit': 'changeDigver',\n\t\t\t'focusout #digver': 'changeDigver',\n\t\t\t'focusout #sigla': 'changeSigla',\n\t\t\t'focusout #razsoc': 'traerRazsoc',\n\t\t\t'focusout #prinom, #segnom, #priape, #segape': 'changeRepleg',\n\t\t\t'click #btEnviarRadicado': 'enviarRadicado',\n\t\t};\n\t}\n\n\tasync afterRender($el = {}) {\n\t\tif (this.model.get('id') === null) {\n\t\t\tconst response = await this.__findDataEmpresa();\n\t\t\tthis.modelEmpresa = new EmpresaModel(response);\n\t\t}\n\n\t\t_.each(this.collection, (component) => {\n\t\t\tif (component.name == 'autoriza') component.type = 'radio';\n\n\t\t\tconst view = this.addComponent(\n\t\t\t\tnew ComponentModel({\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\treadonly: false,\n\t\t\t\t\torder: 0,\n\t\t\t\t\ttarget: 1,\n\t\t\t\t\tsearchType: 'local',\n\t\t\t\t\t...component,\n\t\t\t\t\tvalor: this.model.get(component.name),\n\t\t\t\t}),\n\t\t\t\tcomponent.type,\n\t\t\t);\n\t\t\tthis.viewComponents.push(view);\n\t\t\tthis.$el.find('#component_' + component.name).html(view.$el);\n\t\t});\n\n\t\tif (this.modelEmpresa instanceof EmpresaModel) {\n\t\t\t_.each(this.modelEmpresa.toJSON(), (valor, key) => {\n\t\t\t\tif (!(_.isEmpty(valor) == true || _.isUndefined(valor) == true)) {\n\t\t\t\t\tthis.$el.find(`[name=\"${key}\"]`).val(valor);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.form.validate({\n\t\t\t...ActualizadatosModel.Rules,\n\t\t\thighlight: (element) => {\n\t\t\t\tthis.$el.find(element).removeClass('is-valid').addClass('is-invalid');\n\t\t\t},\n\t\t\tunhighlight: (element) => {\n\t\t\t\tthis.$el.find(element).removeClass('is-invalid').addClass('is-valid');\n\t\t\t},\n\t\t});\n\n\t\tthis.selectores = this.$el.find(\n\t\t\t'#tipdoc, #tipsoc, #ciupri, #codzon, #codciu, #codact, #coddocrepleg',\n\t\t);\n\n\n\t\tif (this.model.get('id') !== null) {\n\t\t\t_.each(this.model.toJSON(), (valor, key) => {\n\t\t\t\tif (!(_.isEmpty(valor) == true || _.isUndefined(valor) == true)) {\n\t\t\t\t\tthis.$el.find(`[name=\"${key}\"]`).val(valor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.$el.find('#nit, #cedrep').attr('readonly', true);\n\t\t\tsetTimeout(() => this.form.valid(), 200);\n\n\t\t\t$.each(this.selectores, (index, element) => {\n\t\t\t\tthis.#choiceComponents[element.name] = new Choices(element);\n\t\t\t\tconst name = this.model.get(element.name);\n\t\t\t\tif (name) this.#choiceComponents[element.name].setChoiceByValue(name);\n\t\t\t});\n\t\t} else {\n\t\t\t$.each(this.selectores, (index, element) => this.#choiceComponents[element.name] = new Choices(element));\n\t\t}\n\n\t\teventsFormControl(this.$el);\n\t}\n\n\tchangeRepleg(e) {\n\t\te.preventDefault();\n\t\tlet repleg = this.nameRepleg();\n\t\tthis.$el.find('#repleg').val(repleg);\n\t\tthis.$el.find('#repleg').siblings('.control-label').addClass('top');\n\t}\n\n\tchangeTipoPer(e) {\n\t\te.preventDefault();\n\t\tif (this.$el.find('#tipper').val() == 'N') {\n\t\t\tthis.$el.find('#tipdoc').val(1);\n\t\t} else {\n\t\t\tthis.$el.find('#tipdoc').val(3);\n\t\t}\n\t\tthis.selectores.trigger('change');\n\t}\n\n\tchangeTipoDocumento(e) {\n\t\tlet tipdoc = $(e.currentTarget).val();\n\t\tlet coddocrepleg = ActualizadatosModel.changeTipdoc(tipdoc);\n\t\tthis.$el.find('#coddocrepleg').val(coddocrepleg);\n\t}\n\n\tsaveFormData(event) {\n\t\tevent.preventDefault();\n\t\tvar target = this.$el.find(event.currentTarget);\n\t\ttarget.attr('disabled', true);\n\n\t\tlet _err = 0;\n\t\tif (this.form.valid() == false) _err++;\n\n\t\tif (_err > 0) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage: 'Se requiere de resolver los campos requeridos para continuar.',\n\t\t\t});\n\t\t\tsetTimeout(() => $('label.error').text(''), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.$el.find('#cedrep').removeAttr('disabled');\n\n\t\tconst entity = this.serializeModel(\n\t\t\tnew ActualizadatosModel(this.modelEmpresa.toJSON()),\n\t\t);\n\n\t\tif (entity.isValid() === false) {\n\t\t\ttarget.removeAttr('disabled');\n\t\t\t$App.trigger('alert:warning', {\n\t\t\t\tmessage:\n\t\t\t\t\t'Alerta, algunos de los campos son requeridos ' +\n\t\t\t\t\tentity.validationError.join(' '),\n\t\t\t});\n\t\t\tsetTimeout(() => $('label.error').text(''), 6000);\n\t\t\treturn false;\n\t\t}\n\n\t\tentity.set('repleg', this.nameRepleg());\n\t\tthis.$el.find('#repleg').val(entity.get('repleg'));\n\n\t\t$App.trigger('confirma', {\n\t\t\tmessage: 'Confirma que desea guardar los datos del formulario.',\n\t\t\tcallback: (status) => {\n\t\t\t\tif (status) {\n\t\t\t\t\tthis.trigger('form:save', {\n\t\t\t\t\t\tentity: entity,\n\t\t\t\t\t\tisNew: this.isNew,\n\t\t\t\t\t\tcallback: (response) => {\n\t\t\t\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\t\t\t\tthis.$el.find('#nit').attr('disabled', true);\n\n\t\t\t\t\t\t\tif (response) {\n\t\t\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\t\t\t$App.trigger('alert:success', { message: response.msj });\n\t\t\t\t\t\t\t\t\tthis.model.set({ id: parseInt(response.data.id) });\n\t\t\t\t\t\t\t\t\tif (this.isNew === true) {\n\t\t\t\t\t\t\t\t\t\t$App.router.navigate('proceso/' + this.model.get('id'), {\n\t\t\t\t\t\t\t\t\t\t\ttrigger: true,\n\t\t\t\t\t\t\t\t\t\t\treplace: true,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconst _tab = new bootstrap.Tab('a[href=\"#documentos_adjuntos\"]');\n\t\t\t\t\t\t\t\t\t\t_tab.show();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$App.trigger('alert:error', { message: response.msj });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttarget.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tnameRepleg() {\n\t\treturn (\n\t\t\tthis.getInput('#priape') +\n\t\t\t' ' +\n\t\t\tthis.getInput('#segape') +\n\t\t\t' ' +\n\t\t\tthis.getInput('#prinom') +\n\t\t\t' ' +\n\t\t\tthis.getInput('#segnom')\n\t\t);\n\t}\n\n\tchangeDigver(e) {\n\t\te.preventDefault();\n\t\tlet nit = this.$el.find('#nit').val();\n\t\tif (nit === '') {\n\t\t\treturn false;\n\t\t}\n\t\tlet $scope = this;\n\t\tthis.trigger('form:digit', {\n\t\t\tnit: nit,\n\t\t\tcallback: (entity) => {\n\t\t\t\t$scope.$el.find('#digver').val(entity.digver);\n\t\t\t\t$scope.$el.find('#digver').siblings('.control-label').addClass('top');\n\t\t\t},\n\t\t});\n\t}\n\n\tchangeSigla(e) {\n\t\te.preventDefault();\n\t\tlet razsoc = $('#razsoc').val();\n\t\tif (_.isUndefined(razsoc) || _.isEmpty(razsoc)) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tlet sigla = _.map(razsoc.split(/\\s/g), function (cadena) {\n\t\t\t\treturn _.first(cadena);\n\t\t\t}).join('');\n\t\t\tthis.$el.find('#sigla').val(sigla.toUpperCase());\n\t\t}\n\t\treturn false;\n\t}\n\n\tvalidePk(e) {\n\t\te.preventDefault();\n\t\tconst cedrep = $(e.currentTarget).val();\n\t\tif (cedrep === '') return false;\n\t\tconst $scope = this;\n\t\tthis.trigger('form:find', {\n\t\t\tcedrep: cedrep,\n\t\t\tcallback: (entity) => {\n\t\t\t\tconsole.log(entity);\n\t\t\t\t$scope.comfirmarSincronizar(entity);\n\t\t\t},\n\t\t});\n\t}\n\n\ttraerRazsoc(e) {\n\t\te.preventDefault();\n\t\tlet valor = this.$el.find('#razsoc').val();\n\t\tif (valor.length > 0) {\n\t\t\tlet sigla = _.map(valor.split(/\\s/g), function (cadena) {\n\t\t\t\treturn _.first(cadena);\n\t\t\t}).join('');\n\t\t\tthis.$el.find('#sigla').val(sigla.toUpperCase());\n\t\t\tthis.$el.find('#sigla').siblings('.control-label').addClass('top');\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomfirmarSincronizar(entity, data) {\n\t\tthis.model.entity = entity;\n\n\t\t$('#razsoc').val(this.model.entity.get('razsoc'));\n\t\t$('#codact').val(this.model.entity.get('codact'));\n\t\t$('#digver').val(this.model.entity.get('digver'));\n\t\t$('#calemp').val(this.model.entity.get('calemp'));\n\t\t$('#cedrep').val(this.model.entity.get('cedrep'));\n\t\t$('#repleg').val(this.model.entity.get('repleg'));\n\t\t$('#direccion').val(this.model.entity.get('direccion'));\n\t\t$('#codciu').val(this.model.entity.get('codciu'));\n\t\t$('#codzon').val(this.model.entity.get('codzon'));\n\t\t$('#telefono').val(this.model.entity.get('telefono'));\n\t\t$('#celular').val(this.model.entity.get('celular'));\n\t\t$('#email').val(this.model.entity.get('email'));\n\t\t$('#sigla').val(this.model.entity.get('sigla'));\n\t\t$('#tottra').val(this.model.entity.get('tottra'));\n\t\t$('#tipsoc').val(this.model.entity.get('tipsoc'));\n\t\t$('#dirpri').val(this.model.entity.get('dirpri'));\n\t\t$('#ciupri').val(this.model.entity.get('ciupri'));\n\t\t$('#tipper').val(this.model.entity.get('tipper'));\n\t\t$('#prinom').val(this.model.entity.get('prinom'));\n\t\t$('#segnom').val(this.model.entity.get('segnom'));\n\t\t$('#priape').val(this.model.entity.get('priape'));\n\t\t$('#segape').val(this.model.entity.get('segape'));\n\t\t$('#codcaj').val(this.model.entity.get('codcaj'));\n\t\t$('#tipdoc').val(this.model.entity.get('tipdoc'));\n\t\t$('#tipemp').val(this.model.entity.get('tipemp'));\n\t\t$('#matmer').val(this.model.entity.get('matmer'));\n\t\t$('#celular').val(this.model.entity.get('telr'));\n\n\t\tthis.selectores.trigger('change');\n\n\t\tsetTimeout(function () {\n\t\t\tSwal.fire({\n\t\t\t\thtml: `<p style='font-size:14px'>El formulario se actualizo de forma correcta</p>`,\n\t\t\t\tshowConfirmButton: false,\n\t\t\t\ttimer: 2000,\n\t\t\t});\n\t\t}, 300);\n\t}\n\n\tsetModelUseEmpresa(empresa) {\n\t\tlet nombre;\n\t\tif (empresa.priaperepleg == null) {\n\t\t\tnombre =\n\t\t\t\tempresa.priaperepleg +\n\t\t\t\t' ' +\n\t\t\t\tempresa.segaperepleg +\n\t\t\t\t' ' +\n\t\t\t\tempresa.prinomrepleg +\n\t\t\t\t' ' +\n\t\t\t\tempresa.segnomrepleg;\n\t\t} else {\n\t\t\tnombre =\n\t\t\t\tempresa.priape +\n\t\t\t\t' ' +\n\t\t\t\tempresa.segape +\n\t\t\t\t' ' +\n\t\t\t\tempresa.prinom +\n\t\t\t\t' ' +\n\t\t\t\tempresa.segnom;\n\t\t}\n\t\tthis.model.set({\n\t\t\tnit: empresa.nit,\n\t\t\tcedtra: empresa.nit,\n\t\t\tcedrep: empresa.nit,\n\t\t\ttipdoc: empresa.coddoc,\n\t\t\tdigver: empresa.digver,\n\t\t\trazsoc: nombre,\n\t\t\tpriape: empresa.priape,\n\t\t\tsegape: empresa.segape,\n\t\t\tprinom: empresa.priape,\n\t\t\tsegnom: empresa.segape,\n\t\t\tnomemp: nombre,\n\t\t\trepleg: nombre,\n\t\t\tdireccion: empresa.direccion,\n\t\t\tcodciu: empresa.codciu,\n\t\t\ttelefono: empresa.telefono,\n\t\t\temail: empresa.email,\n\t\t\tcodzon: empresa.codzon,\n\t\t\tcodase: empresa.codase,\n\t\t\tcalemp: empresa.calemp,\n\t\t\ttipemp: empresa.tipemp,\n\t\t\ttipsoc: empresa.tipsoc,\n\t\t\ttipapo: empresa.tipapo,\n\t\t\testado: 'T',\n\t\t\tceluar: empresa.telr,\n\t\t\tcoddocrepleg: 'CC',\n\t\t\tcodcat: 'B',\n\t\t});\n\t}\n\n\tasync __findDataEmpresa() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t$App.trigger('syncro', {\n\t\t\t\turl: $App.url('empresaSisu'),\n\t\t\t\tcallback: (response) => {\n\t\t\t\t\tif (response.success == true) resolve(response.data);\n\t\t\t\t\treject(false);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * @override\n\t */\n\tremove() {\n\t\tif (_.size(this.viewComponents) > 0){\n\t\t\t_.each(this.viewComponents, (view) => view.remove());\n\t\t}\n\t\t$.each(this.#choiceComponents, (choice) => choice.destroy());\n\t\tFormView.prototype.remove.call(this, {});\n\t}\n}\n\nexport { FormActualizadatosView };\n","import { $App } from '@/App';\nimport { ControllerRequest } from '../ControllerRequest';\nimport { ActualizadatosModel } from './models/ActualizadatosModel';\nimport { ActualizadatosView } from './views/ActualizadatosView';\nimport { FormActualizadatosView } from './views/FormActualizadatosView';\n\nclass ControllerActualizadatos extends ControllerRequest {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tEntityModel: ActualizadatosModel,\n\t\t\tTableView: ActualizadatosView,\n\t\t\tFormRequest: FormActualizadatosView,\n\t\t\ttipo: 'E',\n\t\t\theaderOptions: {\n\t\t\t\testado: '',\n\t\t\t\ttipo: 'E',\n\t\t\t\turl_nueva: $App.url('nueva'),\n\t\t\t\tbreadcrumb_menu: 'Crear solicitud',\n\t\t\t\ttitulo: 'Actualiza datos empresa',\n\t\t\t\turl_masivo: null,\n\t\t\t\tisNew: null,\n\t\t\t\tcreate: 'enabled',\n\t\t\t},\n\t\t});\n\n\t\tif (this.services) _.extend(this, this.services);\n\n\t\tthis.on('form:cancel', this.destroy);\n\n\t\tthis.on('form:digit', this.afiService.digitVer);\n\n\t\tthis.on('params', this.afiService.paramsServer);\n\n\t\t$App.Collections.formParams = null;\n\t\t$App.Collections.firmas = null;\n\t}\n\n\t__empresaSisu(transfer) {\n\t\tconst { callback } = transfer;\n\t\t$App.trigger('syncro', {\n\t\t\turl: $App.url('empresaSisu'),\n\t\t\tdata: {},\n\t\t\tcallback: (response) => {\n\t\t\t\tif (response) {\n\t\t\t\t\treturn callback(response);\n\t\t\t\t}\n\t\t\t\treturn callback(false);\n\t\t\t},\n\t\t});\n\t}\n}\n\nexport { ControllerActualizadatos };\n","import { $App } from '@/App';\nimport { AfiliationRouter } from '@/Componentes/Routers/AfiliationRouter';\nimport { AfiliationService } from '@/Componentes/Services/AfiliationService';\nimport { ControllerActualizadatos } from './ControllerActualizadatos';\n\nclass RouterActualizadatos extends AfiliationRouter {\n\tconstructor(options = {}) {\n\t\tsuper({\n\t\t\t...options,\n\t\t\tcontroller: $App.startSubApplication(\n\t\t\t\tControllerActualizadatos,\n\t\t\t\t{\n\t\t\t\t\tname: 'afiService',\n\t\t\t\t\tinyectar: AfiliationService,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tform: '#formRequest',\n\t\t\t\t\tcontent: '#boneLayout',\n\t\t\t\t},\n\t\t\t),\n\t\t});\n\t}\n}\n\nexport { RouterActualizadatos };\n","import { $App } from '@/App';\nimport { RouterActualizadatos } from './RouterActualizadatos';\n\n$(() => {\n\t$App.startApp(RouterActualizadatos, 'list', '#boneLayout');\n});\n"],"names":["_currentView","_currentViews","_$el","Region","options","__privateAdd","view","el","loading","status","element","loader","template","out","CSRF","$Kumbia","$App","RouterModule","ruta","type","message","transfer","title","timer","timeout","text","icon","SubApplication","__services","services","ser","callback","result","url","data","silent","csrf","xhr","response","err","keys","targetModal","event","method","controller","filename","link","formData","AfiliationRouter","tipo","id","ModelView","__publicField","renderedHtml","_el","selector","val","tag","key","HeaderView","AfiliationService","model","estado_detalle","_data","nit","solicitud","entity","Layout","regionDefinitions","__selector","name","$el","regionName","region","LayoutView","valor","target","ControllerRequest","resources","item","urlError","emulateDefault","methodMap","params","is_numeric","value","Testeo","showError","toggle","sel","validate","attr","regex","errorMessage","label","min","max","fecha","regexFecha","fechaDividida","year","month","day","esBisiesto","langDataTable","eventsFormControl","RulesValidator","rules","error","rule","required","number","email","date","maxlength","minlength","rangelength","range","_ActualizadatosModel","coddocrepleg","index","ActualizadatosModel","ActualizadatosView","html","_url","res","extendStatics","d","b","p","__extends","__","__assign","t","s","n","__spreadArray","to","from","pack","l","ar","ActionType","EventType","KeyCodeMap","ObjectsInConfig","PassedElementTypes","addChoice","choice","removeChoice","filterChoices","results","activateChoices","active","addGroup","group","addItem","removeItem$1","highlightItem","highlighted","getRandomNumber","generateChars","length","generateId","prefix","getAdjacentEl","startEl","direction","prop","sibling","isScrolledIntoView","parent","isVisible","sanitise","strToEl","tmpEl","str","firstChild","resolveNoticeFunction","fn","resolveStringFunction","unwrapStringForRaw","unwrapStringForEscaped","escapeForTemplate","allowHTML","setElementHtml","allowHtml","sortByAlpha","_a","_b","_c","value2","_d","label2","sortByRank","a","dispatchEvent","customArgs","diff","aKeys","bKeys","i","getClassNames","ClassNames","getClassNamesSelector","option","addClassesToElement","className","removeClassesFromElement","parseCustomProperties","customProperties","updateClassList","add","remove","itemEl","Dropdown","classNames","Container","position","dropdownPos","dropdownHeight","shouldFlip","activeDescendantID","parentNode","Input","preventPaste","placeholder","setWidth","SCROLLING_SPEED","List","node","child","_this","listHeight","listScrollPosition","elementHeight","elementPos","destination","scrollPos","strength","easing","distance","choiceListScrollTop","continueAnimation","WrappedElement","origStyle","eventType","WrappedInput","_super","coerceBool","arg","defaultValue","stringToHtmlClass","input","mapInputToChoice","allowGroup","allowRawString","sanitisedValue","userValue","result_1","groupOrChoice","choices","e","result_2","isHtmlInputElement","isHtmlSelectElement","isHtmlOption","isHtmlOptgroup","WrappedSelect","extractPlaceholder","fragment","obj","optgroup","DEFAULT_CLASSNAMES","DEFAULT_CONFIG","maxItemCount","value1","removeItem","items","action","context","state","update","select","groups","scoreLookup_1","reducers","Store","init","changes","onChange","hasChanges","stateUpdate","func","changeSet_1","isActive","hasActiveOptions","NoticeTypes","_defineProperty","r","_toPropertyKey","ownKeys","o","_objectSpread2","_toPrimitive","isArray","getTag","baseToString","toString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","totalWeight","createKey","keyId","path","src","weight","getFn","createKeyPath","createKeyId","get","list","arr","deepGet","len","MatchOptions","BasicOptions","FuzzyOptions","AdvancedOptions","Config","SPACE","norm","mantissa","cache","m","numTokens","FuseIndex","fieldNormWeight","docs","records","idx","doc","docIndex","record","keyIndex","subRecords","stack","nestedArrIndex","subRecord","k","createIndex","myIndex","parseIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","ignoreLocation","accuracy","proximity","convertMaskToIndices","matchmask","minMatchCharLength","indices","start","end","match","MAX_BITS","search","patternAlphabet","location","threshold","findAllMatches","includeMatches","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","score","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","createPatternAlphabet","char","BitapSearch","isCaseSensitive","addChunk","startIndex","remainder","allIndices","totalScore","hasMatches","alphabet","isMatch","BaseMatch","getMatch","exp","matches","ExactMatch","InverseExactMatch","PrefixExactMatch","InversePrefixExactMatch","SuffixExactMatch","InverseSuffixExactMatch","FuzzyMatch","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","query","queryItem","found","searcher","token","MultiMatchSet","ExtendedSearch","_","numMatches","qLen","pLen","registeredSearchers","register","args","createSearcher","searcherClass","LogicalOperator","KeyType","isExpression","isPath","isLeaf","convertToExplicit","parse","auto","next","isQueryPath","computeScore","ignoreFieldNorm","transformMatches","transformScore","format","includeScore","transformers","transformer","Fuse","predicate","limit","shouldSort","sortFn","expression","evaluate","resultMap","expResults","SearchByFuse","config","needle","getSearcher","isEmptyObject","assignCustomProperties","withCustomProperties","dataset","labelClass","labelDescription","addAriaLabel","docRoot","templates","dir","isSelectElement","isSelectOneElement","searchEnabled","passedElementType","labelId","containerOuter","div","containerInner","listSingle","listItems","removeItemButton","removeItemButtonAlignLeft","removeItemIconText","removeItemLabelText","button","highlightedState","itemSelectable","rawValue","spanLabel","removeButton","REMOVE_ITEM_LABEL","groupHeading","itemDisabled","disabled","rawLabel","heading","selectText","groupName","itemChoice","selectedState","description","describedBy","descId","spanDesc","placeholderValue","inputCloned","inp","listDropdown","innerHTML","noResults","noChoices","noticeItem","notice","labelValue","opt","IS_IE11","USER_DEFAULTS","parseDataSetId","selectableChoiceIdentifier","Choices","userConfig","defaults","passedElement","elementType","isText","isSelectOne","isSelectMultiple","isSelect","re","selectEl","elementDirection","documentDirection","callbackOnInit","runEvent","c","excludedId","preventInputFocus","rect","preventInputBlur","valueOnly","values","choiceValue","choicesArrayOrFetcher","replaceChoices","clearSearchFlag","replaceItems","fetcher_1","resolve","isDefaultValue","isDefaultLabel","choiceFull","withEvents","selectFirstOption","deselectAll","choicesFromOptions","existingItems","updateChoice","clearOptions","clearItems","shouldSetInputWidth","invalidConfigOptions","isSearching","activeGroups","activeChoices","renderLimit","backingOptions","renderableChoices","selectableChoices","renderChoices","withinGroup","groupLabel","choiceLimit","dropdownItem","groupChoices","dropdownGroup","itemList","itemFromList","addItemToFragment","addedItems","openDropdown","oldNotice","noticeElement","noticeConf","keyCode","itemToRemove","placeholderChoice","hasShiftKey","hasActiveDropdown","lastItem","hasHighlightedItems","elementItems","setLoading","resultCount","maxItemText","canAddItem","foundChoice","newValue","noticeType","documentElement","outerElement","inputElement","wasPrintableChar","hasItems","shouldHightlightAll","highlightedChoice","addedItem","directionInt","skipKey","nextEl","currentEl","hasFocusedInput","touchWasWithinContainer","containerWasExactTarget","firstChoice","clickWasWithinContainer","focusWasWithinContainer","targetIsInput","blurWasWithinContainer","passedEl","highlightedChoices","userTriggered","prependValue","appendValue","callbackOnCreateTemplates","userTemplates","templating","dropdownElement","noSelectedChoices","placeholderOption","caller","componenetDefaultAttribute","ComponentModel","GestionAdjuntoService","coddoc","SelectComponent","RadioComponent","DateComponent","TextComponent","DialogComponent","OpenAddress","barrio","address","lista","row","adres","InputComponent","DocumentoModel","CollectionView","eventName","children","DocumentsCollectionView","DocumentsRow","DocumentoCollection","LoadDocumentsView","archivos","puede_borrar","disponibles","archivo","_target","files","_filepath","resultado","SeguimientosView","campos_disponibles","estados_detalles","seguimientos","SubHeaderView","_onRender","FormView","__privateSet","__privateGet","dataArray","collection","_type","_EmpresaModel","EmpresaModel","_choiceComponents","FormActualizadatosView","component","repleg","tipdoc","_err","$scope","razsoc","sigla","cadena","cedrep","empresa","nombre","reject","ControllerActualizadatos","RouterActualizadatos"],"mappings":"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","x_google_ignoreList":[15]}